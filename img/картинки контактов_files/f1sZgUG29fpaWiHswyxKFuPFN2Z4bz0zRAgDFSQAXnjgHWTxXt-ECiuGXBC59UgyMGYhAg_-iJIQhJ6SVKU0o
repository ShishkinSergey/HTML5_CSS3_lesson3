!function(e){function t(t){for(var n,r,i=t[0],a=t[1],s=0,c=[];s<i.length;s++)r=i[s],o[r]&&c.push(o[r][0]),o[r]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);for(u&&u(t);c.length;)c.shift()()}var n={},r={46:0},o={46:0};function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(e){var t=[];r[e]?t.push(r[e]):0!==r[e]&&{53:1}[e]&&t.push(r[e]=new Promise(function(t,n){for(var o="static/chunks/"+{53:"445f2fc546b0101de470"}[e]+".css",a=i.p+o,s=document.getElementsByTagName("link"),c=0;c<s.length;c++){var u=(d=s[c]).getAttribute("data-href")||d.getAttribute("href");if("stylesheet"===d.rel&&(u===o||u===a))return t()}var l=document.getElementsByTagName("style");for(c=0;c<l.length;c++){var d;if((u=(d=l[c]).getAttribute("data-href"))===o||u===a)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var o=t&&t.target&&t.target.src||a,i=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");i.request=o,delete r[e],p.parentNode.removeChild(p),n(i)},p.href=a,document.getElementsByTagName("head")[0].appendChild(p)}).then(function(){r[e]=0}));var n=o[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise(function(t,r){n=o[e]=[t,r]});t.push(n[2]=a);var s,c=document.createElement("script");c.charset="utf-8",c.timeout=120,i.nc&&c.setAttribute("nonce",i.nc),c.src=function(e){return i.p+"static/chunks/"+{53:"445f2fc546b0101de470"}[e]+".js"}(e);var u=new Error;s=function(t){c.onerror=c.onload=null,clearTimeout(l);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+r+": "+i+")",u.name="ChunkLoadError",u.type=r,u.request=i,n[1](u)}o[e]=void 0}};var l=setTimeout(function(){s({type:"timeout",target:c})},12e4);c.onerror=c.onload=s,document.head.appendChild(c)}return Promise.all(t)},i.m=e,i.c=n,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="https://yandex.ru/images/_crpd/hmiK28s06/3a2294DBBNSc/f1sZgUG29fpaWiHswyxKFuPFN2Z4bz0zRAgDFSQAXnjgGidA/",i.oe=function(e){throw console.error(e),e};var a=window.webpackJsonp=window.webpackJsonp||[],s=a.push.bind(a);a.push=t,a=a.slice();for(var c=0;c<a.length;c++)t(a[c]);var u=s;i(i.s=1117)}([function(e,t){e.exports=React},function(e,t,n){"use strict";e.exports=n(56)},function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return i}),n.d(t,"d",function(){return a}),n.d(t,"e",function(){return s}),n.d(t,"c",function(){return c});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n}function s(e){var t="function"===typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function c(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}},function(e,t,n){"use strict";e.exports=n(50)},function(e,t,n){"use strict";e.exports=n(45)},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(33),o=n(34),i=n(35),a=n(36),s=n(37),c=n(38),u=n(39),l=n(40),d=n(41),p={be:r.default,en:o.default,id:i.default,kk:a.default,ru:s.default,tr:c.default,tt:u.default,uk:l.default,uz:d.default},f="ru";function h(e,t){for(var n=[],r=e.length,o=0;o<r;){var i=e.indexOf("{",o);if(-1===i)return n.push(e.substring(o)),n;var a=e.indexOf("}",i);if(-1===a)return n.push(e.substring(o)),n;n.push(e.substring(o,i),t[e.substring(i+1,a)]),o=a+1}return n}function m(e,t,n){void 0===n&&(n={});var r=e[f][t];return"string"===typeof r?h(r,n):r?function(e,t){return h((0,p[f])(t.count,e),t)}(r,n):[r]}t.default=function(e){return function(t,n){return void 0===n&&(n={}),m(e,t,n).join("")}},t.i18nRaw=function(e){return function(t,n){return void 0===n&&(n={}),m(e,t,n)}},t.setI18nLang=function(e){f=e},t.getI18nLang=function(){return f},t.resolveI18nLang=function(e,t,n){var r=t;if(-1===e.indexOf(r))switch(n){case"com":r="en";break;case"com.tr":r="tr";break;default:r="ru"}return r}},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(161)),r(n(166)),r(n(88)),r(n(89)),r(n(167)),r(n(168)),r(n(169)),r(n(170)),r(n(62)),r(n(171)),r(n(26))},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(){return window.Ya.reactBus}},,function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0});var a=n(225),s=n(190);function c(e,t){return e.images[t]}function u(e){return"string"!==typeof e&&e?Object.keys(e).filter(function(t){return"undefined"!==typeof e[t]&&""!==e[t]}).map(function(t){return t+"="+e[t]}).join(","):e||""}function l(e){return void 0===e&&(e={}),"object"===typeof e?e:e.split(",").reduce(function(e,t){var n=t.split("=");return e[n[0]]=n[1],e},{})}function d(e){if(e&&Array.isArray(e.counter)){var t=o(e.counter,2),n=t[0],r=t[1];return{__oldCounter__:{path:n||"",vars:r||""}}}return e||{}}i(n(190)),i(n(225)),i(n(361)),t.getCurrentImageIdx=function(e){return e.currentItemIdx},t.getCurrentImageData=s.naiveMemoiseOne(function(e){return c(e,e.currentItemIdx)}),t.getImageDataByIdx=c,t.getImageLoadedThumbByIdx=function(e,t){var n=c(e,t);if(n){if(n.loadedImage)return n.loadedImage;var r=e.loadedThumbs[n.id];return r&&(n.loadedImage=r),r}},t.getCurrentImageLoadedThumb=s.naiveMemoiseOne(function(e){return t.getImageLoadedThumbByIdx(e,e.currentItemIdx)}),t.getShownImageData=s.naiveMemoiseOne(function(e){return a.getSelectedRimImageData(e)||t.getCurrentImageData(e)}),t.getLoadedThumbById=s.entityMapGetterFabric("loadedThumbs"),t.getShownLoadedThumbData=s.naiveMemoiseOne(function(e){var n=t.getShownImageData(e),r=n&&n.id?t.getLoadedThumbById(e,n.id):void 0;return r&&r.data}),t.getImageByRimId=function(e,t){return e.imagesByRimId[t]},t.getFavicon=s.entityMapGetterFabric("favicons"),t.getFaviconItemID=function(e){var t=e&&e.snippet;if(t)return t.punycode?t.punycode.toLowerCase():t.domain&&t.domain.toLowerCase()},t.getPreloadImagesIndexes=s.naiveMemoiseOne(function(e){var t=e.config.numAdsPreload,n=e.images,r=e.currentItemIdx;return{min:r,max:Math.min(r+t,n.length)}}),t.getNextItems=function(e,t,n){return 1===e?t:t.slice(n)},t.varsToString=u,t.varsToObject=l,t.prepareSerpCounter=d,t.addCounterParams=function(e,t,n,o){void 0===t&&(t={}),void 0===n&&(n={}),void 0===o&&(o={href:""});var i=d(e);if(!i||!i.__oldCounter__)return i;var a=i.__oldCounter__,s=u(r({},l(a.vars||{}),l(t)));return r({},i,{__oldCounter__:r({},a,{vars:s},n),node:o})},t.getCounterPath=function(e){var t=d(e);return t&&t.__oldCounter__&&t.__oldCounter__.path||""}},,function(e,t){e.exports=ReactDOM},function(e,t,n){"use strict";t.__esModule=!0;var r=n(4),o=n(46);t.cnTheme=r.cn("Theme");var i="";t.configureRootTheme=function(e){var n=e.theme,r=e.root,a=void 0===r?o.canUseDOM()?document.body:null:r;if(o.canUseDOM()){if(!a)throw new Error("Значение в root не является DOM-элементом, невозможно установить глобальную тему.");var s=a.className.replace(i,"");i=t.cnTheme(n),a.className=s+" "+i}}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r="undefined"!==typeof window&&window.document&&window.document.createElement},,function(e,t,n){"use strict";n.d(t,"b",function(){return d}),n.d(t,"a",function(){return p});var r=n(2),o=n(0),i=n.n(o),a=n(12),s=n(3),c=n(4),u=n(76),l=n(65),d=(n(646),Object(c.cn)("Popup2")),p=function(e){var t=e.addonAfter,n=e.addonBefore,c=e.children,p=e.className,f=e.direction,h=e.forceRender,m=e.hasTail,v=e.innerRef,g=e.keepMounted,y=void 0===g||g,b=e.position,w=e.scope,M=void 0===w?{current:Object(u.a)()?document.body:null}:w,C=e.style,S=e.tailPosition,O=e.tailRef,_=e.tailSize,P=e.targetRef,I=e.visible,E=e.zIndex,k=(e.theme,e.tone,e.view,r.d(e,["addonAfter","addonBefore","children","className","direction","forceRender","hasTail","innerRef","keepMounted","position","scope","style","tailPosition","tailRef","tailSize","targetRef","visible","zIndex","theme","tone","view"])),D=r.c(Object(o.useState)(!1),2),j=D[0],T=D[1];Object(o.useEffect)(function(){!j&&h&&T(!0)},[]),Object(o.useEffect)(function(){Object(l.a)(v,P)},[v,P]);var x=Object(s.useComponentRegistry)(d()).Tail;return(I||y)&&Object(u.a)()&&null!==M.current?Object(a.createPortal)(i.a.createElement("div",r.a({},k,{className:d({visible:I,direction:f},[p]),ref:v,style:r.a({},C,b,{zIndex:E})}),n,c,t,m&&i.a.createElement(x,{innerRef:O,style:r.a({},S,{height:_,width:_})})),M.current):null};p.displayName=d()},function(e,t,n){"use strict";t.__esModule=!0,n(29),n(47),n(48),n(49),n(30),t.theme={color:"yandex-default",size:"default",capacity:"default",space:"default",cosmetic:"default"}},,,function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=n(3),c=n(360),u=n(10),l=n(366),d=n(370),p=n(371),f=n(51),h=n(373),m=n(251),v=n(271);function g(e,t){if(e===t)return!0;if(null===e||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every(function(n){return e[n]===t[n]})}t.defaultInitialState={images:[],loadedThumbs:{},loadedRimThumbs:{},imagesByRimId:{},currentItemIdx:-1,loadedPagesCount:0,directData:{},wizardThumbs:[],favicons:{},tags:{},rimData:{},rimLoadingId:"",rimLoadingIdx:-1,rimPagesCount:0,rimForItem:[],rimPageItems:[],rimPageItemsMap:{},config:{numAdsPreload:6,imagesCbirSearchUrl:"",openServiceOnNewTab:!1,imagesLoadingParams:{},rim:{justifier:{baseRowHeight:150},loader:{pagesMaxCount:1,itemsOnPage:8,preloadCountOnInit:5,preloadCountOnMore:1},thumb:{hosts:["im0-tub-ru.yandex.net"]}}},globalContext:h.contextStub,cropObjects:{}},t.ImageContext=a.createContext({state:t.defaultInitialState,dispatch:function(){return{}}}),t.withImageContext=function(e){return function(n){var r=function(t){function r(n){var r=t.call(this,n)||this;return r.state=e(n.state,n.dispatch,n.ownProps),r}return o(r,t),r.prototype.shouldComponentUpdate=function(e,t){return!g(t,this.state)||!g(e.ownProps,this.props.ownProps)},r.prototype.render=function(){return a.createElement(n,i({},this.props.ownProps,this.state))},r.getDerivedStateFromProps=function(t,n){var r=e(t.state,t.dispatch,t.ownProps);return Object.keys(n).forEach(function(e){void 0===r[e]&&void 0!==n[e]&&(r[e]=void 0)}),r},r.displayName="Connected-"+(n.displayName||n.name||"Component"),r}(a.Component);return function(e){return a.createElement(t.ImageContext.Consumer,null,function(t){var n=t.state,o=t.dispatch;return a.createElement(r,{state:n,dispatch:o,ownProps:e})})}}},t.useImagesContext=function(e){var n=a.useContext(t.ImageContext);return e(n.state,n.dispatch)};var y=function(e){function n(n){var r=e.call(this,n)||this;r.componentIsMounted=!1,r.state=i({},t.defaultInitialState,n.initialState),r.props.TagsLoader||(r.state.config.isDuckEnabled=!1),r.props.RimLoader||(r.state.config.rim=void 0),r.state.config.directSnippetParams&&(r.state.config.directSnippetParams=u.getDirectSnippetParams(r.state.globalContext,r.state.config.directSnippetParams)),r.dispatch=r.dispatch.bind(r);var o=r.state.config.imagesLoadingParams;r.imageLoader=new l.MMImageLoader(o),o.rimPreloadImagesCount&&r.props.ThumbsLoader&&(r.rimThumbsLoader=new r.props.ThumbsLoader({onImageError:o.onRimLoadingError,onImageLoaded:function(e,t){r.dispatch(f.addLoadedRimThumbData(e.url,{data:t,isFailed:!t}))}})),!1!==r.state.config.isDuckEnabled&&r.props.TagsLoader&&(r.tagsLoader=new r.props.TagsLoader(i({},u.getTagsLoaderParamsFromState(r.state.globalContext),{storeGetter:function(e){return u.getTags(r.getState(),e)},storeSetter:function(e,t){var n=t&&t.data||[];r.dispatch(f.addTagsData(e,{data:n}))}}))),r.props.FaviconLoader&&(r.faviconLoader=new r.props.FaviconLoader({multiRequestLimit:r.state.config.numAdsPreload,storeGetter:function(e){return r.getState().favicons[e]},storeSetter:function(e,t){r.dispatch(f.addFaviconData(e,t))}})),r.initDirectLoader();var a=r.state.config.rim;return a&&r.props.RimLoader&&(r.rimLoader=new r.props.RimLoader({path:"rim",config:a,storeGetter:function(e){return r.getState().rimData[e]},storeSetter:function(e,t){t&&!t.isFailed&&t.data&&(t.data=u.filterDuplicates("docid",t.data)),r.dispatch(f.addRimData(e,t))}})),r}return o(n,e),n.prototype.render=function(){return a.createElement(t.ImageContext.Provider,{value:{state:this.getState(),dispatch:this.dispatch}},this.props.children)},n.prototype.componentDidMount=function(){this.componentIsMounted=!0},n.prototype.componentWillUnmount=function(){this.componentIsMounted=!1},n.prototype.componentDidUpdate=function(e,t){var n=this.getState(),r=n.currentItemIdx!==t.currentItemIdx,o=void 0!==n.rimSelectedIdx,i=n.globalContext!==t.globalContext,a=!r&&n.rimLoadingId!==t.rimLoadingId,s=n.rimPagesCount!==t.rimPagesCount,c=Boolean(n.rimForItem.length),u=n.directData!==t.directData,l=n.tags!==t.tags;n.loadedThumbs===t.loadedThumbs&&n.loadedRimThumbs===t.loadedRimThumbs&&n.rimForItem===t.rimForItem&&n.images===t.images||d.preloadImages(this,n),r&&(this.rimThumbsLoader&&this.rimThumbsLoader.stop(),d.preloadImages(this,n),d.loadDataForItem(this,n),d.preloadData(this,n)),r&&!c&&d.loadInitialRimPage(this,n),o&&(d.loadDataForRim(this,n),d.preloadImages(this,n)),i&&d.updateLoadersParams(this,n),a&&d.loadNextRimPage(this,n),(a||s)&&(d.precacheRim(this,n),v.loadRimThumbs(this,n,n.rimForItem)),u&&d.loadActualDirectFavicon(this,n),l&&d.loadActualImageDirect(this,n),this.props.onStateChange&&this.props.onStateChange(n,t)},n.prototype.initDirectLoader=function(){var e=this,t=this.state.config.directSnippetParams;if(t){var n=void 0,r=this.state.globalContext,o=u.isCommercialRequestForDS(r,t);if(r.isQueryPorn?u.isDirectSnippetEnabled(this.state)&&(n=o?this.props.DirectLoaderAdultHighComm:this.props.DirectLoaderAdultLowComm):(o&&t.directPageIdCommercial&&(n=this.props.DirectLoaderHighComm),!o&&t.directPageIdLowCommercial&&(n=this.props.DirectLoaderLowComm)),!n)return;this.directLoader=new n(i({},u.getDirectLoaderParamsFromState(r,t,this.state.config),{storeGetter:function(t){return e.getState().directData[t]},storeSetter:function(t,n){return e.dispatch(f.addDirectData(t,n))}}))}},n.prototype.dispatch=function(e){this.componentIsMounted&&this.setState(p.default(this.getState(),e))},n.prototype.getState=function(){return this.state},n}(a.Component);t.ImageStoreProviderPresenter=y,t.ImageStoreProvider=s.withRegistry(c.imageStoreProviderRegistry)(function(e){return a.createElement(s.ComponentRegistryConsumer,{id:m.cnImageStore()},function(t){var n=t.DirectLoaderHighComm,r=t.DirectLoaderLowComm,o=t.DirectLoaderAdultHighComm,s=t.DirectLoaderAdultLowComm,c=t.RimLoader,u=t.TagsLoader,l=t.FaviconLoader,d=t.ThumbsLoader;return a.createElement(y,i({ref:e.forwardRef,DirectLoaderHighComm:n,DirectLoaderLowComm:r,DirectLoaderAdultHighComm:o,DirectLoaderAdultLowComm:s,RimLoader:c,TagsLoader:u,FaviconLoader:l,ThumbsLoader:d},e))})})},,function(e,t,n){"use strict";n.d(t,"a",function(){return y});var r=n(0),o=n.n(r),i=n(12),a=n.n(i),s=n(23),c=n.n(s),u=n(13),l=n(17),d=n(8),p=n(14),f=(n(52),n(53),function(){return(f=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)});Object(u.configureRootTheme)({theme:l.theme});var h="Root",m=Object(u.cnTheme)(l.theme),v=h+"_inited",g="."+h;function y(e,t){void 0===t&&(t={});var n={};return function(r){if(p.a){var i=function(e,t,n){return function(r){void 0===r&&(r=g);for(var o=document.querySelectorAll(r),i=new RegExp("^"+t+"-"),a=0;a<o.length;a+=1){var s=o[a],c=s.id;c&&i.test(c)&&b(e,s,n)}}}(r,e,n);t.permanent||(BEM.blocks["b-page"].on("beforeContentUpdate",function(){return w(n)}),BEM.blocks["b-page"].on("contentLoad",function(){return i()}),BEM.blocks["serp-controller"].on("loaded",function(){return i()})),Object(d.a)().on("react-ajax-adapter:unmount",function(e){return w(n,e)}),Object(d.a)().on("react-ajax-adapter:mount",function(e){return i(e)}),BEM.DOM.ready(function(){return i()})}return function(t){return o.a.createElement("div",{className:h+" "+m,id:e+"-"+c()(),"data-state":JSON.stringify(t)},o.a.createElement(r,f({},t)))}}}function b(e,t,n){var r=t.id;if(!n[r]){var i,s=(i=t,JSON.parse(i.getAttribute("data-state")||"{}"));n[r]=t,a.a.hydrate(o.a.createElement(e,f({},s)),t,function(){t.classList.add(v)})}}function w(e,t){void 0===t&&(t=g),Object.keys(e).forEach(function(n){var r=e[n];("function"!==typeof r.matches||r.matches(t))&&("function"!==typeof r.msMatchesSelector||r.msMatchesSelector(t))&&(a.a.unmountComponentAtNode(r),r.classList.remove(v),delete e[n])})}},function(e,t,n){"use strict";var r,o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),i=64,a={},s=0,c=0;function u(e){var t="";do{t=o[e%i]+t,e=Math.floor(e/i)}while(e>0);return t}function l(){var e=u(+new Date);return e!==r?(s=0,r=e):e+"."+u(s++)}for(;c<i;c++)a[o[c]]=c;l.encode=u,l.decode=function(e){var t=0;for(c=0;c<e.length;c++)t=t*i+a[e.charAt(c)];return t},e.exports=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4);t.cnMMDirectSnippet=r.cn("MMDirectSnippet"),t.cnMMDirectSnippetLine=t.cnMMDirectSnippet("Line")},,function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(162)),r(n(163)),r(n(164)),r(n(165))},function(e,t,n){"use strict";e.exports=n(55)},,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(246);t.appendQueryString=o.appendQueryString,t.stringifyUrlParams=o.stringifyUrlParams;var i,a=n(247),s="application/json; charset=utf-8",c={Accept:s},u=function(){};function l(e,t,n,o){void 0===t&&(t={});var i=r({},"json"===t.format?c:{},t.headers),a=t.body,u="";return Object.keys(i).some(function(e){return"content-type"===e.toLowerCase()})?u=String(a||""):(i["content-type"]=s,"string"!==typeof a&&(u=JSON.stringify(a))),d(e,r({},t,{method:o,headers:i}),n,u)}function d(e,t,n,r){var s=n.successCallback,c=void 0===s?u:s,l=n.failureCallback,d=void 0===l?u:l,p=t.headers,f=void 0===p?{}:p,h=t.queryParams,m=void 0===h?{}:h,v=t.timeout,g=void 0===v?3e4:v,y=t.credentials,b=void 0===y?"include":y,w=t.method,M=void 0===w?"GET":w,C=function(e,n){var r=e.response;if("json"===t.format)try{r=JSON.parse(r)}catch(t){return void d(i.JSON_PARSE_ERROR,e)}n?d(n,e,r):c(r,e)},S=new XMLHttpRequest;return S.open(M,o.appendQueryString(e,m)),S.withCredentials=a.shouldSendCredentials(e,b),S.timeout=g,Object.keys(f).forEach(function(e){return S.setRequestHeader(e,f[e])}),S.onload=function(){S.status>=200&&S.status<300?C(S):C(S,i.ERROR_STATUS_CODE)},S.onerror=function(){d(i.REQUEST_FAILED,S)},S.ontimeout=function(){d(i.TIMEOUT,S)},S.send(r),S}!function(e){e.TIMEOUT="TIMEOUT",e.REQUEST_FAILED="REQUEST_FAILED",e.JSON_PARSE_ERROR="JSON_PARSE_ERROR",e.ERROR_STATUS_CODE="ERROR_STATUS_CODE"}(i=t.AjaxError||(t.AjaxError={})),t.get=function(e,t,n){return void 0===t&&(t={}),d(e,r({},t,{method:"GET"}),n)},t.post=function(e,t,n){return void 0===t&&(t={}),l(e,t,n,"POST")},t.put=function(e,t,n){return void 0===t&&(t={}),l(e,t,n,"PUT")},t.del=function(e,t,n){return void 0===t&&(t={}),l(e,t,n,"DELETE")},t.sendRequest=d},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(374),a=o.createContext({});t.CountersProvider=a.Provider,t.CountersConsumer=a.Consumer,t.withImageCounters=function(e){var n=function(n){return o.createElement(t.CountersConsumer,null,function(t){return o.createElement(e,r({},n,{counters:t}))})};return n.displayName=i.getDisplayName(e)+":withImageCounters",n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=e%10,r=e%100;return e?1===n&&11!==r?t.one:n>1&&n<5&&(r<10||r>20)?t.some:t.many||"":t.none||""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e?1===e?t.one:t.some:t.none||""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e?t.some:t.none||""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=e%10,r=e%100;return e?1===n&&11!==r?t.one:n>1&&n<5&&(r<10||r>20)?t.some:t.many||"":t.none||""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=e%10,r=e%100;return e?1===n&&11!==r?t.one:n>1&&n<5&&(r<10||r>20)?t.some:t.many||"":t.none||""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=e%10,r=e%100;return e?1===n&&11!==r?t.one:n>1&&n<5&&(r<10||r>20)?t.some:t.many||"":t.none||""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=e%10,r=e%100;return e?1===n&&11!==r?t.one:n>1&&n<5&&(r<10||r>20)?t.some:t.many||"":t.none||""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=e%10,r=e%100;return e?1===n&&11!==r?t.one:n>1&&n<5&&(r<10||r>20)?t.some:t.many||"":t.none||""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=e%10,r=e%100;return e?1===n&&11!==r?t.one:n>1&&n<5&&(r<10||r>20)?t.some:t.many||"":t.none||""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4);t.cnMMViewerButtons=r.cn("MMViewerButtons")},,function(e,t,n){"use strict";var r=n(0),o=n.n(r),i=n(7),a=n(97),s=function(e){return e.stopPropagation()};function c(e,t){var n;return t&&(e["data-counter"]=e["data-counter"]||'["b"]',e["data-log-node"]=e["data-log-node"]||t.id,e.onMouseDown=(n=e.onMouseDown)?function(e){s(e),n(e)}:s),e}n(182);n.d(t,"c",function(){return l}),n.d(t,"b",function(){return d}),n.d(t,"a",function(){return p});var u={theme:1,color:1,counter:1,children:1,url:1,fontWeight:1,forwardRef:1,baobabNode:1,baobabId:1,preventVisitedState:1},l=function(e){return function(t){var n=function(e,t){var n={};for(var r in e)r in t||(n[r]=e[r]);return n}(t,u);return c(n,t.baobabNode),n.className=Object(a.b)({theme:t.theme,color:t.color,fontWeight:t.fontWeight,preventVisitedState:Boolean(t.preventVisitedState)},[t.className]),n.innerRef=t.forwardRef,n.href=t.url,n.target=void 0===t.target?"_blank":t.target,o.a.createElement(e,n,t.children)}},d=Object(i.withBaobab)({name:"link",extra:{id:!0},events:{onClick:Object(i.logClick)()}}),p=d(l(a.a))},function(e,t,n){"use strict";function r(e){var t=e.n||"",n=e.v||e.m;function r(r,o,i,a){var s=o?t+r+e.e+o:t+r,c=s;if(i){var u=" "+c+e.m;for(var l in i)if(i.hasOwnProperty(l)){var d=i[l];!0===d?c+=u+l:d&&(c+=u+l+n+d)}}if(void 0!==a)for(var p=0,f=a.length;p<f;p++){var h=a[p];if("string"==typeof h&&h)for(var m=h.split(" "),v=0;v<m.length;v++){var g=m[v];g!==s&&(c+=" "+g)}}return c}return function(e,t){return function(n,o,i){return"string"==typeof n?Array.isArray(o)?r(e,n,void 0,o):r(e,n,o,i):r(e,t,n,o)}}}Object.defineProperty(t,"__esModule",{value:!0});var o=r({e:"-",m:"_"});t.cn=o,t.withNaming=r},function(e,t,n){"use strict";t.__esModule=!0,t.canUseDOM=function(){return"undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},i=r.createContext({}),a=i.Provider,s=i.Consumer;var c=function(){return r.useContext(i)},u=function(){function e(e){var t=e.id,n=e.overridable,r=void 0===n||n;this.components={},this.id=t,this.overridable=r}return e.prototype.set=function(e,t){return this.components[e]=t,this},e.prototype.get=function(e){return this.components[e]},e.prototype.snapshot=function(){return this.components},e.prototype.merge=function(t){var n=new e({id:this.id,overridable:this.overridable});return n.components=o({},this.components,t?t.snapshot():{}),n},e}();t.ComponentRegistryConsumer=function(e){return r.createElement(s,null,function(t){return e.children(t[e.id].snapshot())})},t.Registry=u,t.RegistryConsumer=s,t.registryContext=i,t.useComponentRegistry=function(e){return c()[e].snapshot()},t.useRegistries=c,t.withRegistry=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){var n=function(n){return r.createElement(s,null,function(i){var s=o({},i);return e.forEach(function(e){var t=i[e.id];s[e.id]=e.overridable?t?e.merge(t):e:e&&t?t.merge(e):e}),r.createElement(a,{value:s},r.createElement(t,o({},n)))})};return n.displayName="RegistryResolver("+e.map(function(e){return e.id}).join(", ")+")",n}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(31),i=n(226);!function(e){e.UPDATE_CONFIG="UPDATE_CONFIG",e.UPDATE_CONTEXT="UPDATE_CONTEXT",e.ADD_IMAGES_BY_THUMB="ADD_IMAGES_BY_THUMB",e.ADD_IMAGES_BY_POS="ADD_IMAGES_BY_POS",e.SET_IMAGES_BY_POS="SET_IMAGES_BY_POS",e.SET_CURRENT_ITEM_IDX="SET_CURRENT_ITEM_IDX",e.ADD_LOADED_THUMB_DATA="ADD_LOADED_THUMB_DATA",e.ADD_LOADED_RIM_THUMB_DATA="ADD_LOADED_RIM_THUMB_DATA",e.ADD_DIRECT_DATA="ADD_DIRECT_DATA",e.ADD_FAVICON_DATA="ADD_FAVICON_DATA",e.ADD_TAGS_DATA="ADD_TAGS_DATA",e.ADD_RIM_DATA="ADD_RIM_DATA",e.SET_SELECTED_RIM="SET_SELECTED_RIM",e.REQUEST_RIM_PAGE="REQUEST_RIM_PAGE",e.ADD_CROP_OBJECT="ADD_CROP_OBJECT"}(r=t.ImagesActions||(t.ImagesActions={})),t.updateConfig=function(e){return{type:r.UPDATE_CONFIG,config:e}},t.updateContext=function(e){return{type:r.UPDATE_CONTEXT,context:e}},t.addImagesByThumbsOrder=function(e){return{type:r.ADD_IMAGES_BY_THUMB,items:e}},t.addImagesByPos=function(e){return{type:r.ADD_IMAGES_BY_POS,items:e}},t.setImagesByPos=function(e){return{type:r.SET_IMAGES_BY_POS,items:e}},t.setCurrentItemIdx=function(e){return{type:r.SET_CURRENT_ITEM_IDX,index:e}},t.addLoadedThumbData=function(e,t,n){return{type:r.ADD_LOADED_THUMB_DATA,id:e,index:n,data:t}},t.addLoadedRimThumbData=function(e,t){return{type:r.ADD_LOADED_RIM_THUMB_DATA,id:e,data:t}},t.addDirectData=function(e,t){return{type:r.ADD_DIRECT_DATA,id:e,data:t}},t.addFaviconData=function(e,t){return{type:r.ADD_FAVICON_DATA,id:e,data:t}},t.addTagsData=function(e,t){return{type:r.ADD_TAGS_DATA,id:e,data:t}},t.addRimData=function(e,t){return{type:r.ADD_RIM_DATA,id:e,data:t}},t.requestRimPage=function(){return{type:r.REQUEST_RIM_PAGE}},t.setSelectedRim=function(e){return{type:r.SET_SELECTED_RIM,idx:e}};t.fetchCropObjects=function(e,t,n,a){if(n&&a){var s=t.cropObjects[n];if(!(s&&s.expireTime>Date.now())){var c=t.globalContext.tld;o.get(i.createLink("images",c,{rpt:"cv",url:a,format:"json",request:JSON.stringify({blocks:[{block:{block:"crop-objects",mods:{ajax:"yes"}},params:{},version:2}]})}),{format:"json"},{successCallback:function(t){var o=t&&t.blocks;if(o){for(var i,a=0;a<o.length;a++){var s=o[a];if("crop-objects"===(s.name&&s.name.block)){i=s;break}}if(i){var c=i.params&&i.params.objects;c&&e(function(e,t){return{type:r.ADD_CROP_OBJECT,data:t,imageId:e,timestamp:Date.now()}}(n,c))}}}})}}}},function(e,t,n){"use strict";Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");var r=Object(e);return t.forEach(function(e){e&&Object.keys(e).forEach(function(t){var n=Object.getOwnPropertyDescriptor(e,t);void 0!==n&&n.enumerable&&(r[t]=e[t])})}),r}})},function(e,t,n){"use strict";"function"===typeof Element&&(Element.prototype.matches=Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector)},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.classnames=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=new Set,o=0,i=e.join(" ").split(" ");o<i.length;o++){var a=i[o];""===a||r.has(a)||(r.add(a),n.length>0&&(n+=" "),n+=a)}return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(4),i=n(27);function a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.reduce(function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e(t.apply(void 0,n))}},function(e){return e})}t.compose=a,t.composeU=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a.apply(void 0,e)},t.withBemMod=function(e,t,n){var a,s,c;return function(u){var l,d;return a=a||o.cn(e),s=s||a(),function(e){if((c=c||Object.keys(t)).every(function(n){var r=t[n],o=e[n];return r===o||"*"===r&&Boolean(o)})){var o=c.reduce(function(e,n){return"*"!==t[n]&&(e[n]=t[n]),e},{});d=d||a(o);var p=Object.assign({},e);return p.className=i.classnames(d,e.className).replace(s+" ",""),void 0!==n?void 0===l&&(l=n(u)):l=u,r.createElement(l,p)}return r.createElement(u,e)}}}},function(e,t,n){"use strict";n.d(t,"b",function(){return d}),n.d(t,"a",function(){return p});var r=n(2),o=n(0),i=n.n(o),a=n(12),s=n(3),c=n(4),u=n(58),l=n(84),d=(n(602),Object(c.cn)("Popup2")),p=function(e){var t=e.addonAfter,n=e.addonBefore,c=e.children,p=e.className,f=e.direction,h=e.forceRender,m=e.hasTail,v=e.innerRef,g=e.keepMounted,y=void 0===g||g,b=e.position,w=e.scope,M=void 0===w?{current:Object(u.a)()?document.body:null}:w,C=e.style,S=e.tailPosition,O=e.tailRef,_=e.tailSize,P=e.targetRef,I=e.visible,E=e.zIndex,k=(e.theme,e.view,Object(r.d)(e,["addonAfter","addonBefore","children","className","direction","forceRender","hasTail","innerRef","keepMounted","position","scope","style","tailPosition","tailRef","tailSize","targetRef","visible","zIndex","theme","view"])),D=Object(r.c)(Object(o.useState)(!1),2),j=D[0],T=D[1];Object(o.useEffect)(function(){!j&&h&&T(!0)},[]),Object(o.useEffect)(function(){Object(l.a)(v,P)},[v,P]);var x=Object(s.useComponentRegistry)(d()).Tail;return(I||y)&&Object(u.a)()&&null!==M.current?Object(a.createPortal)(i.a.createElement("div",Object(r.a)({},k,{className:d({visible:I,direction:f},[p]),ref:v,style:Object(r.a)(Object(r.a)(Object(r.a)({},C),b),{zIndex:E})}),n,c,t,m&&i.a.createElement(x,{innerRef:O,style:Object(r.a)(Object(r.a)({},S),{height:_,width:_})})),M.current):null};p.displayName=d()},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(){return"undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement}},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o});var r={BACKSPACE:8,TAB:9,ENTER:13,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46};function o(e,t){return t.some(function(t){return r[t]===e||t===e})}},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o});var r={BACKSPACE:8,TAB:9,ENTER:13,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46};function o(e,t){return t.some(function(t){return r[t]===e||t===e})}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(88);t.BaobabComponents=r.createContext({BaobabNode:o.BaobabNode})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.BaobabContext=r.createContext(void 0),t.Provider=t.BaobabContext.Provider,t.Consumer=t.BaobabContext.Consumer},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0);t.withDefinedProps=function(e){return function(t){var n;return(n=Array.isArray(e)?function(n){return function(e,t){return t.every(function(t){return void 0!==e[t]})}(n,e)?o.createElement(t,r({},n)):null}:function(n){return e(n)?o.createElement(t,r({},n)):null}).displayName=t.displayName||t.name||"Component",n}}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(76),o=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return Object(r.a)()&&requestAnimationFrame(function(){t.forEach(function(t){void 0!==e&&void 0!==t&&(t.current=e.current)})}),e}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(4),o=Object(r.cn)("Path")},,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(4);n(511);var i=o.cn("MMIcon");t.MMIcon=function(e){var t=e.type,n=e.className;return r.createElement("i",{className:i({type:t},[n])})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.disabled="disabled",e.withoutDSnMarket="withoutDSnMarket",e.withoutDS="withoutDS",e.withoutMarket="withoutMarket",e.always="always"}(t.IBehavioralDirectSnippeModes||(t.IBehavioralDirectSnippeModes={})),function(e){e[e.disabled=0]="disabled",e[e.top=1]="top",e[e.bottom=2]="bottom"}(t.DirectRatingPosition||(t.DirectRatingPosition={})),function(e){e.disabled="",e.left="left",e.right="right"}(t.DirectImagePosition||(t.DirectImagePosition={})),function(e){e.open="images-viewer:open",e.fill="images-viewer:fill",e.mounted="images-viewer:mounted"}(t.ImagesViewerEvents||(t.ImagesViewerEvents={}))},function(e,t,n){"use strict";var r,o=n(2),i=n(0),a=n.n(i),s=n(4),c=n(84),u=n(60),l=(n(612),function(e){var t=e.side,n=e.provider,r=Object(o.d)(e,["side","provider"]);return n(p("Icon",{side:t},[r.className]))}),d=(n(613),function(e){var t=e.children,n=e.className,r=Object(o.d)(e,["children","className"]);return a.a.createElement("span",Object(o.a)({},r,{className:p("Text",null,[n])}),t)});n(614);n.d(t,"b",function(){return p}),n.d(t,"a",function(){return h});var p=Object(s.cn)("Button2"),f={autoComplete:"off",pressKeys:[u.a.SPACE,u.a.ENTER],prvntKeys:[],as:"button",type:"button"},h=((r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={pressed:!1},t.internalInnerRef=Object(i.createRef)(),t.onKeyDown=function(e){Object(u.b)(e.keyCode,t.props.pressKeys)&&(t.setState({pressed:!0}),Object(u.b)(e.keyCode,t.props.prvntKeys)&&e.preventDefault()),void 0!==t.props.onKeyDown&&t.props.onKeyDown(e)},t.onKeyUp=function(e){Object(u.b)(e.keyCode,t.props.prvntKeys)&&e.preventDefault(),Object(u.b)(e.keyCode,t.props.pressKeys)&&t.setState({pressed:!1}),void 0!==t.props.onKeyUp&&t.props.onKeyUp(e)},t.onClick=function(e){null!==t.internalInnerRef.current&&t.internalInnerRef.current.focus(),void 0!==t.props.onClick&&t.props.onClick(e)},t.onMouseDown=function(e){navigator.userAgent.match(/safari/i)&&e.preventDefault(),void 0!==t.props.onMouseDown&&t.props.onMouseDown(e)},t}return Object(o.b)(t,e),t.prototype.render=function(){var e=this.props,t=e.addonAfter,n=e.addonBefore,r=e.autoComplete,i=e.checked,s=e.children,u=e.icon,f=e.iconLeft,h=e.iconRight,m=e.progress,v=e.disabled,g=e.as,y=e.type,b=e.className,w=e.innerRef,M=e.controlRef,C=(e.pressKeys,e.prvntKeys,e.view,e.theme,e.baseline,e.pin,e.width,Object(o.d)(e,["addonAfter","addonBefore","autoComplete","checked","children","icon","iconLeft","iconRight","progress","disabled","as","type","className","innerRef","controlRef","pressKeys","prvntKeys","view","theme","baseline","pin","width"])),S=this.state.pressed,O=m||v,_=g;C["string"===typeof g?"ref":"innerRef"]=Object(c.a)(this.internalInnerRef,w,M);var P=f||u;return a.a.createElement(_,Object(o.a)({},C,{type:y,disabled:O,className:p({checked:i,progress:m,pressed:S},[b]),onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,onClick:this.onClick,onMouseDown:this.onMouseDown,"aria-pressed":i,"aria-disabled":O,autoComplete:r}),n,P&&a.a.createElement(l,{provider:P,side:s&&f?"left":void 0}),h&&a.a.createElement(l,{provider:h,side:s?"right":void 0}),s&&a.a.createElement(d,null,s),t)},t}(i.PureComponent)).displayName=p(),r.defaultProps=f,r)},function(e,t,n){"use strict";function r(e){return e.displayName||e.name||"Component"}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(){return"undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement}},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4);t.cnSidebar=r.cn("MMSidebar")},function(e,t,n){},function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return c});var r=n(2),o=n(0),i=n.n(o),a=n(4),s=(n(695),Object(a.cn)("Icon")),c=function(e){var t=e.direction,n=e.size,o=e.url,a=e.style,c=void 0===a?{}:a,u=e.children,l=r.d(e,["direction","size","url","style","children"]),d=s({direction:t,size:n},[l.className]);return void 0!==o&&(c.backgroundImage="url('"+o+"')"),i.a.createElement("span",r.a({},l,{"aria-hidden":!0,className:d,style:c}),u)};c.displayName=s()},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(58),o=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return Object(r.a)()&&requestAnimationFrame(function(){t.forEach(function(t){void 0!==e&&void 0!==t&&(t.current=e.current)})}),e}},function(e,t,n){n.r(t);var r=n(1600);n.d(t,"ru",function(){return r.a})},,,function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(a(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var c=n(0),u=n(63),l=n(26),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.message="Баобаб нода не инициализирована!",t}return o(t,e),t}(Error),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.startCreate=!1,t}return o(t,e),t.prototype.componentDidMount=function(){this.endCreateNode()},t.prototype.componentDidUpdate=function(){this.endCreateNode()},t.prototype.componentWillUnmount=function(){this.removeNode()},t.prototype.render=function(){if(!this.context){var e=this.props.children;return c.createElement(c.Fragment,null,e())}return this.content()},t.prototype.content=function(){var e=this.node,n=this.props.children,r=t.contextType.Provider,o=this.createNodeData();e?this.shouldRecreate(o)&&(this.removeNode(),this.createNode(o)):this.createNode(o);var i=this.getChildExtraProps();return c.createElement(r,{value:this.nextContext},n(i))},t.prototype.getChildExtraProps=function(){return this.childExtraProps},t.prototype.createNodeData=function(){var e=this.context,t=this.props;if(!e)throw new d;var n=t.nodeDeclaration,r=t.logNode,o=t.childProps,i=e.logger;return e.parentNode?i.createChildData(o,n,r):i.createRootData(o,n,r)},t.prototype.shouldRecreate=function(e){var t=this.context,n=this.node;if(!t||!n)throw new d;return!t.logger.areEqualsNodes(n,e)},t.prototype.createNode=function(e){var t=this.context,n=this.props;if(!t)throw new d;var r=t.logger,o=t.parentNode,a=n.nodeDeclaration.extra,s=o?r.prepareChild(o,e):r.prepareRoot(e);this.startCreate=!0,this.nextContext=i({},t,{parentNode:s}),this.node=s,this.childExtraProps=e.events?this.wrapActions(e.events):{},a&&a.id&&(this.childExtraProps.baobabId=s.id,this.childExtraProps.baobabNode=s)},t.prototype.removeNode=function(){var e=this.context,t=this.node;if(e){if(!t)throw new d;e.logger.detachNode(t)}},t.prototype.endCreateNode=function(){if(this.startCreate){var e=this.context,t=this.node;if(!e||!t)throw new d;e.logger.attachNode(t,this),this.startCreate=!1}},t.prototype.wrapActions=function(e){var t={};for(var n in e){var r=e[n];l.isEventDeclaration(r)&&(t[n]=this.wrapAction(n,r))}return t},t.prototype.wrapAction=function(e,t){var n=this;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var a=i({},n.props.childProps,n.getChildExtraProps()),c=n.props.childProps[e];if(!n.context||!n.node)return c;var u,l=n.node,d=n.context.logger,p=d.createEvent({node:l,component:{props:a},eventDeclaration:t,eventArgs:r}),f=d.withEvent.bind(d,p);if(f(function(e){return setTimeout(e,0)}),"function"===typeof c)u=c.call.apply(c,s([this],r,[{logger:d,target:l,withEvent:f}]));else if("undefined"!==typeof c)throw new Error("Вы пытаетесь вызвать событие "+e+". Но это "+typeof c+', со значением "'+c+'"');return d.dispatchEvent(l,p),u}},t.contextType=u.BaobabContext,t.isBaobabNode=!0,t}(c.Component);t.BaobabNode=p},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=n(63),s=function(e){function t(t){var n=e.call(this,t)||this,r=t.Logger,o=t.Sender,i=t.loggerProps,a=t.onLoggerInit,s=new r(i,o);return n.nextContext={logger:s},a&&a(s),n}return o(t,e),t.prototype.render=function(){var e=this.props.children;return i.createElement(a.BaobabContext.Provider,{value:this.nextContext},e)},t}(i.Component);t.BaobabRoot=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(4),i=n(7);n(599),function(e){e.default="",e.link="link"}(t.IMMButtonTypes||(t.IMMButtonTypes={})),t.cnMMButton=o.cn("MMButton"),t.MMButton=i.withBaobab({name:"MMButton",events:{onClick:i.logClick()}})(function(e){var n=e.text,o=e.icon,i=e.rightIcon,a=e.rightText,s=e.onClick,c=e.className,u=e.forwardRef,l=e.onLog,d=e.counter,p=e.onContextMenuCapture,f=e.onMouseEnter,h=e.onMouseLeave;return r.createElement("button",{className:t.cnMMButton({},[c]),onClick:function(e){s&&s(e),l&&l(d)},onMouseEnter:f,onMouseOut:h,onContextMenuCapture:p,ref:u},o&&r.createElement("span",{className:t.cnMMButton("Icon")},o),r.createElement("span",{className:t.cnMMButton("Text")},n),a&&r.createElement("span",{className:t.cnMMButton("RightText")},a),i&&r.createElement("span",{className:t.cnMMButton("RightIcon")},i))})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4);t.cnCircleButton=r.cn("CircleButton")},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(20),i=n(10),a=n(64),s=n(236),c=n(42);t.cnMMViewerButtons=c.cnMMViewerButtons,t.stateToProps=function(e){var t=i.getShownImageData(e),n=i.getCurrentImageData(e),r=e.config,o=r.loggedIn,a=r.imagesCbirSearchUrl;return{tld:e.globalContext.tld,image:t,loadedThumb:i.getShownLoadedThumbData(e),reqid:n&&n.reqid,pos:n&&n.pos,rimPos:e.rimSelectedIdx,loggedIn:o,imagesCbirSearchUrl:a,query:e.globalContext.query,openServiceOnNewTab:e.config.openServiceOnNewTab,isQueryPorn:e.globalContext.isQueryPorn,unauthPopupOpenimageFlag:e.config.unauthPopupOpenimageFlag,unauthPopupSimilarFlag:e.config.unauthPopupSimilarFlag}},t.MMViewerButtons=r.compose(o.withImageContext(t.stateToProps),a.withDefinedProps(["image"]))(s.MMViewerButtons)},,,function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return c});var r=n(2),o=n(0),i=n.n(o),a=n(4),s=(n(183),Object(a.cn)("Link")),c=function(e){var t=e.href,n=e.target,o=e.disabled,a=e.rel,c=e.tabIndex,u=e.innerRef,l=e.controlRef,d=e.children,p=(e.pseudo,e.nonvisual,e.view,e.as),f=Object(r.d)(e,["href","target","disabled","rel","tabIndex","innerRef","controlRef","children","pseudo","nonvisual","view","as"]),h=s(null,[f.className]),m=p||(t?"a":"span"),v=a;return"_blank"===n&&void 0!==a&&-1===a.indexOf("noopener")&&(v=a+" noopener"),i.a.createElement(m,Object(r.a)({},f,{ref:u||l,href:t,"aria-disabled":o,target:n,rel:v,tabIndex:o?-1:c,className:h}),d)};c.displayName=s()},,,,,,function(e,t,n){"use strict";function r(e,t){return e?t||e:void 0}n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o});var o="undefined"!==typeof window&&window.document&&window.document.createElement},function(e,t,n){"use strict";n.r(t);var r=n(44);n.d(t,"withSerpProps",function(){return r.c}),n.d(t,"withBaobabLink",function(){return r.b}),n.d(t,"Link",function(){return r.a});var o=n(193);n.d(t,"LinkSizeM",function(){return o.a});var i=n(194);n.d(t,"LinkWide",function(){return i.a})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.throttle=function(e,t,n){var r,o=0,i=n&&n.delayedLastCall;function a(){o&&(clearTimeout(o),o=0)}var s=function(){var n=Date.now(),s=arguments,c=function(){e.apply(void 0,s),r=Date.now(),o=0};a(),void 0===r||n-r>t?c():i&&(o=setTimeout(c,t-(n-r)))};return s.cancel=a,s}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(380);function i(e,t){return e?r.createElement("b",{key:t},e):""}t.HIGHLIGHT_OPEN="[",t.HIGHLIGHT_CLOSE="]";var a=function(e){return e};function s(e,n){void 0===n&&(n={});var r={highlighter:n.highlighter||i,delimiters:n.delimiters||{start:t.HIGHLIGHT_OPEN,end:t.HIGHLIGHT_CLOSE},textPreprocessor:n.textPreprocessor||a};return o.markup(e,r)}t.markup=s,t.makeHighlighter=function(e){return function(t){return s(t,e)}}},,,function(e,t,n){n.r(t);var r=n(6);Object(r.setI18nLang)("ru")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4);t.cnMMMarketSnippet=r.cn("MMMarketSnippet")},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4);t.cnMMShareDisk=r.cn("MMShareDisk")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={lt:"<",gt:">",quot:'"',apos:"'",amp:"&",raquo:"»",laquo:"«",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",acute:"´",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",prime:"′",Prime:"″"},o=new RegExp("&(("+Object.keys(r).join("|")+")|#(x[0-9A-Fa-f]+|[0-9]+));","g");function i(e){try{return String.fromCodePoint(e)}catch(e){return""}}function a(e){if(isNaN(e)||e<0)return"";if(e>65535){if(e>1114111)return"";var t=e-65536;return String.fromCharCode(55296+(t>>10),56320+(1023&t))}return String.fromCharCode(e)}t.parseCodeToCharNative=i,t.parseCodeToCharFallback=a;var s="function"===typeof String.fromCodePoint?i:a;t.decodeHTMLEntities=function(e){return e.replace(o,function(e,t,n,o){return n?r[n]||"":o?s(Number("0"+o)):""})}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n(90),i=n(600),a=n(237),s=n(238),c=n(239),u=n(735),l=n(42);t.viewerButtonsRegistry=new r.Registry({id:l.cnMMViewerButtons()}),t.viewerButtonsRegistry.set(o.cnMMButton(),o.MMButton),t.viewerButtonsRegistry.set(l.cnMMViewerButtons("AddToCollection"),i.MMAddToCollection),t.viewerButtonsRegistry.set(l.cnMMViewerButtons("OpenImage"),a.OpenImageButton),t.viewerButtonsRegistry.set(l.cnMMViewerButtons("SearchByImage"),s.MMSearchByImage),t.viewerButtonsRegistry.set(l.cnMMViewerButtons("Photostock"),u.MMPhotostockButton),t.viewerButtonsRegistry.set(l.cnMMViewerButtons("Share"),c.MMShareButton)},function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return c});var r=n(2),o=n(0),i=n.n(o),a=n(4),s=(n(609),Object(a.cn)("Spin2")),c=function(e){var t=e.className,n=e.innerRef,o=e.progress,a=(e.view,e.position,e.size,Object(r.d)(e,["className","innerRef","progress","view","position","size"]));return i.a.createElement("div",Object(r.a)({},a,{ref:n,className:s({progress:o},[t])}))};c.displayName=s()},,function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0);t.withDefaultProps=function(e){return function(t){return function(n){var i=r({},e,n);return o.createElement(t,r({},i))}}}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4);t.cnMMSimilarOffers=r.cn("MMSimilarOffers")},function(e,t,n){"use strict";n.r(t);var r=n(192);n.d(t,"markup",function(){return r.e}),n.d(t,"HIGHLIGHT_OPEN",function(){return r.b}),n.d(t,"HIGHLIGHT_CLOSE",function(){return r.a}),n.d(t,"decodeHTMLEntities",function(){return r.d}),n.d(t,"Markup",function(){return r.c})},,,,,function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=n(62);t.withBaobab=function(e,t){var n=function(t){var n=t.displayName||t.name||"Component",s=function(n){var s=n.__forwardedRef__,c=n.logNode,u=o(n,["__forwardedRef__","logNode"]);return i.createElement(a.BaobabComponents.Consumer,null,function(n){var o=n.BaobabNode;return i.createElement(o,{nodeDeclaration:e,logNode:c,childProps:u},function(e){return i.createElement(t,r({},u,e,{ref:s}))})})};if(s.displayName="AddBaobab("+n+")",e.extra&&e.extra.ref){var c=i.forwardRef(function(e,t){return i.createElement(s,r({},e,{__forwardedRef__:t}))});return c.displayName="AddBaobab("+n+")",c}return s};return t?n(t):n}},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.host=5]="host",e[e.portalHost=4]="portalHost",e[e.class=1]="class"}(r=t.WorkTag||(t.WorkTag={})),t.isReactInternalFiber=function(e){return Boolean(e&&"pendingProps"in e&&"sibling"in e&&"child"in e&&"return"in e&&"tag"in e&&"type"in e&&"stateNode"in e)},t.isReactBaobabNode=function(e){return Boolean(e&&e.tag===r.class&&"isBaobabNode"in e.type&&e.type.isBaobabNode)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEventDataAttrsConstructor=function(e){return"function"===typeof e},t.isEventDeclaration=function(e){return Boolean(e)},t.isNodeAttrsConstructor=function(e){return"function"===typeof e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Click="click",e.Scroll="scroll",e.Tech="tech",e.Create="show",e.Append="append",e.Visibility="visibility"}(t.BaobabLogEventType||(t.BaobabLogEventType={})),function(e){e.Show="show",e.Hide="hide"}(t.VisibilityChangeType||(t.VisibilityChangeType={})),t.isTreeNode=function(e){return"key"in e},t.isChildNode=function(e){return"parent"in e},t.isRootNode=function(e){return!("parent"in e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.NoSend="no send",e.SendBeacon="sendBeacon",e.Ajax="ajax",e.Img="tag img"}(t.BaobabSendWay||(t.BaobabSendWay={}))},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=n(89),s=n(62);t.withBaobabRoot=function(e,t,n,c){return function(u){return function(l){var d=l.baobab,p=l.logNode,f=o(l,["baobab","logNode"]),h=i.useContext(s.BaobabComponents).BaobabNode;return i.createElement(a.BaobabRoot,{Logger:t,Sender:n,loggerProps:d,onLoggerInit:c},e?i.createElement(h,{nodeDeclaration:e,logNode:p,childProps:f},function(e){return i.createElement(u,r({},f,e))}):i.createElement(u,r({},f)))}}}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=n(63),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.nextContext={logger:t.props.logger,parentNode:t.props.parentNode},t}return o(t,e),t.prototype.render=function(){var e=this.props.children;return i.createElement(a.Provider,{value:this.nextContext},e)},t}(i.Component);t.BaobabAppendTo=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(26);t.logClick=function(e){return e?{event:r.BaobabLogEventType.Click,data:e}:{event:r.BaobabLogEventType.Click}},t.logScroll=function(e){return e?{event:r.BaobabLogEventType.Scroll,data:e}:{event:r.BaobabLogEventType.Scroll}},t.logTech=function(e,t){return t?{event:r.BaobabLogEventType.Tech,type:e,data:t}:{event:r.BaobabLogEventType.Tech,type:e}}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(26),i=function(){function e(e,t){var n=this,r=e.prefix,o=e.senderParams;this.nextEventId=0,this.nextNodeId=0,this.rootNodes=[],this.listeners={createnode:[],removenode:[],actionnode:[]},this.childrenCreatedPerLoop={},this.resolveEvent=function(){n.actualEvent=void 0},this.baobabSender=new t(o),this.prefix=r}return e.prototype.getRootNodes=function(){return this.rootNodes},e.prototype.getRootSendNodes=function(){var e=this;return this.rootNodes.map(function(t){return e.encodeNode(t)})},e.prototype.addEventListener=function(e,t){this.listeners[e].push(t)},e.prototype.removeEventListener=function(e,t){this.listeners[e]=this.listeners[e].filter(function(e){return e!==t})},e.prototype.createChildData=function(e,t,n){void 0===n&&(n={});var i={key:"",name:n.name||t.name};if((t.events||n.events)&&(i.events=r({},t.events,n.events)),t.attrs||n.attrs){var a=o.isNodeAttrsConstructor(t.attrs)?t.attrs(e):t.attrs,s=o.isNodeAttrsConstructor(n.attrs)?n.attrs(e):n.attrs;i.attrs=r({},a,s)}return i.key=n.key||t.key||i.name+":"+JSON.stringify(i.attrs),i},e.prototype.createRootData=function(e,t,n){var r=this.createChildData(e,t,n);return"schema-ver"in r.attrs||(r.attrs["schema-ver"]=0),r},e.prototype.prepareRoot=function(e){var t=this.createRootNode(e);return this.rootNodes.push(t),t},e.prototype.prepareChild=function(e,t){var n=this.createChildNode(t,e);return e.flags.logged&&!n.flags.logged&&this.appendToSubresult(n,e),n},e.prototype.attachNode=function(e){var t=this;e.flags.attached=!0,this.markAttachedNodeAsCreated(e),e.flags.logged?this.baobabSender.attachTree({node:this.encodeNode(e),eventData:{cts:Date.now(),triggerEvent:this.actualEvent||this.lastEvent,triggerEventTrusted:Boolean(this.actualEvent)}}):o.isChildNode(e)?setTimeout(function(){return t.logChildNodes(e)},0):(this.markNodeAsLogged(e),this.baobabSender.createTree({node:this.encodeNode(e),eventData:{cts:Date.now(),triggerEvent:this.actualEvent||this.lastEvent,triggerEventTrusted:Boolean(this.actualEvent)}},function(n){t.listeners.createnode.forEach(function(r){return r.call(t,{logger:t,target:e,create:e,on:null,sendInfo:n})})}))},e.prototype.logChildNodes=function(e){var t=this;if(!e.flags.logged){var n=e.parent.id,r=this.childrenCreatedPerLoop[n];r&&(this.childrenCreatedPerLoop[n]=void 0,r.children.map(function(e){return t.markNodeAsLogged(e)}),this.baobabSender.appendTree({node:this.encodeNode(r),eventData:{cts:Date.now(),triggerEvent:this.actualEvent||this.lastEvent,triggerEventTrusted:Boolean(this.actualEvent)}},function(n){t.listeners.createnode.forEach(function(o){return o.call(t,{logger:t,target:e,create:r,on:e.parent,sendInfo:n})})}))}},e.prototype.detachNode=function(e){var t=this;e.flags.attached&&(e.flags.attached=!1,this.markNodeAsDestroyed(e),this.baobabSender.detachTree({node:this.encodeNode(e),eventData:{cts:Date.now(),triggerEvent:this.actualEvent||this.lastEvent,triggerEventTrusted:Boolean(this.actualEvent)}},function(n){t.listeners.removenode.forEach(function(r){return r.call(t,{logger:t,target:e,remove:e,sendInfo:n,from:o.isChildNode(e)?e.parent:null})})}))},e.prototype.dispatchEvent=function(e,t){var n=this;this.baobabSender.clientAction({node:this.encodeNode(e),eventData:t},function(r){n.listeners.actionnode.forEach(function(o){return o.call(n,{logger:n,target:e,action:t,sendInfo:r})})})},e.prototype.areEqualsNodes=function(e,t){return e.key===t.key},e.prototype.createEvent=function(e){var t=e.eventDeclaration,n=e.eventArgs,r=e.component,i=e.node,a={cts:Date.now(),id:this.generateEventId(),event:t.event,data:o.isEventDataAttrsConstructor(t.data)?t.data(r,n):t.data,service:i.context.service,subservice:i.context.subservice};return t.type&&(a.type=t.type),t.behaviour&&(a.behaviour=t.behaviour),a},e.prototype.withEvent=function(e,t){this.lastEvent=e,this.actualEvent=e,t(this.resolveEvent)},e.prototype.encodeNode=function(e,t){var n=this;void 0===t&&(t=!1);var i={id:e.id,name:e.name},a=!t&&o.isTreeNode(e)&&!e.flags.attached;return e.attrs&&Object.keys(e.attrs).length&&(i.attrs=e.attrs),a&&(i.attrs=r({},i.attrs,{hidden:!0})),e.children.length&&(i.children=e.children.map(function(e){return n.encodeNode(e,a)})),i},e.prototype.generateEventId=function(){return Date.now().toString(36)+(this.nextEventId++).toString(36)},e.prototype.generateNodeId=function(){return this.prefix+(this.nextNodeId++).toString(36)},e.prototype.markAttachedNodeAsCreated=function(e){var t=this;e.flags.attached&&(e.flags.created=!0,e.children.forEach(function(e){return t.markAttachedNodeAsCreated(e)}))},e.prototype.markNodeAsDestroyed=function(e){var t=this;e.flags.created=!1,e.children.forEach(function(e){return t.markNodeAsDestroyed(e)})},e.prototype.markNodeAsLogged=function(e){var t=this;e.flags.logged=!0,e.children.forEach(function(e){return t.markNodeAsLogged(e)})},e.prototype.appendToSubresult=function(e,t){var n=this.childrenCreatedPerLoop[t.id];if(!n){var r={id:this.generateNodeId(),name:"$subresult",attrs:{"schema-ver":0,ui:e.context.ui,subservice:e.context.subservice,"parent-id":t.id,"trigger-event-id":this.actualEvent||this.lastEvent,"trigger-event-trusted":Boolean(this.actualEvent),"main-search":t.context.subservice!==e.context.subservice},children:[e]};return this.childrenCreatedPerLoop[t.id]=r,r}return n.children.push(e),n},e.prototype.createChildNode=function(e,t){var n=e.key;if(t.mapChildren[n])for(var r=0;r<t.mapChildren[n].length;r++){var o=t.mapChildren[n][r];if(!o.flags.created)return o.flags.created=!0,o}var i={key:n,parent:t,id:this.generateNodeId(),name:e.name,attrs:e.attrs,children:[],mapChildren:{},flags:{logged:!1,created:!0,attached:!1},context:this.createNodeContext(e,t)};return t.children.push(i),n in t.mapChildren?t.mapChildren[n].push(i):t.mapChildren[n]=[i],i},e.prototype.createRootNode=function(e){return{key:e.key,id:this.generateNodeId(),name:e.name,attrs:r({},e.attrs),children:[],mapChildren:{},flags:{logged:!1,created:!0,attached:!1},context:this.createRootContext(e)}},e.prototype.createNodeContext=function(e,t){var n=r({},t.context,{path:t.context.path.concat(e.name)});return e.attrs&&e.attrs.subservice&&(n.subservice=e.attrs.subservice),n},e.prototype.createRootContext=function(e){var t={path:[e.name],service:e.attrs.service,ui:e.attrs.ui};return e.attrs.subservice&&(t.subservice=e.attrs.subservice),t},e}();t.Logger=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(26),o=function(){function e(e){var t=e.hrefPrefix,n=e.hrefPostfix;this.events=[],this.waitTime=100,this.hrefPrefix=t,this.hrefPostfix=n}return e.prototype.clientAction=function(e,t){var n=e.eventData.event;if(n===r.BaobabLogEventType.Click)this.click(e,t);else if(n===r.BaobabLogEventType.Scroll)this.scroll(e,t);else{if(n!==r.BaobabLogEventType.Tech)throw new Error("Неподдерживаемый тип события в Баобаб: "+n);this.tech(e,t)}},e.prototype.click=function(e,t){var n=e.node,o=e.eventData;this.logEvent({event:r.BaobabLogEventType.Click,service:o.service,subservice:o.subservice,"event-id":o.id,id:n.id,cts:o.cts,data:o.data,behaviour:o.behaviour},t)},e.prototype.scroll=function(e,t){var n=e.node,o=e.eventData;this.logEvent({event:r.BaobabLogEventType.Scroll,service:o.service,subservice:o.subservice,"event-id":o.id,id:n.id,cts:o.cts,data:o.data},t)},e.prototype.tech=function(e,t){var n=e.node,o=e.eventData;this.logEvent({event:r.BaobabLogEventType.Tech,service:o.service,subservice:o.subservice,type:o.type,"event-id":o.id,id:n.id,cts:o.cts,data:o.data},t)},e.prototype.appendTree=function(e,t){var n=e.node,o=e.eventData;this.logEvent({event:r.BaobabLogEventType.Append,tree:n,cts:o.cts,"trigger-event-id":o.triggerEvent?o.triggerEvent.id:null,"trigger-event-trusted":o.triggerEventTrusted},t)},e.prototype.createTree=function(e,t){var n=e.node,o=e.eventData;this.logEvent({event:r.BaobabLogEventType.Create,tree:n,cts:o.cts,"trigger-event-id":o.triggerEvent?o.triggerEvent.id:null,"trigger-event-trusted":o.triggerEventTrusted},t)},e.prototype.detachTree=function(e,t){var n=e.node,o=e.eventData,i={event:r.BaobabLogEventType.Visibility,type:r.VisibilityChangeType.Hide,"block-id":n.id,cts:o.cts,"trigger-event-id":o.triggerEvent?o.triggerEvent.id:null,"trigger-event-trusted":o.triggerEventTrusted};this.logEvent(i,t)},e.prototype.attachTree=function(e,t){var n=e.node,o=e.eventData,i={event:r.BaobabLogEventType.Visibility,type:r.VisibilityChangeType.Show,"block-id":n.id,cts:o.cts,"trigger-event-id":o.triggerEvent?o.triggerEvent.id:null,"trigger-event-trusted":o.triggerEventTrusted};this.logEvent(i,t)},e.prototype.logEvent=function(e,t){var n=this;this.events.push({data:e,listener:t}),this.timerId&&clearTimeout(this.timerId),this.timerId=setTimeout(function(){return n.sendData()},this.waitTime)},e.prototype.sendData=function(){for(var e=this,t=function(t){var o=n.events.slice(t,t+42),i=o.map(function(t){return"/events="+encodeURIComponent(JSON.stringify([t.data]))+e.hrefPostfix}),a=i.join("\r\n"),s=a.length>6e4;if(-1!==navigator.userAgent.indexOf("Chrome")&&s){var c=new XMLHttpRequest,u=n.events;c.open("POST",n.hrefPrefix),c.addEventListener("readystatechange",function(){4===c.readyState&&u.forEach(function(t){return e.eventSend(t,{way:r.BaobabSendWay.Ajax,success:200===c.status})})}),c.send(a)}else navigator.sendBeacon&&navigator.sendBeacon(n.hrefPrefix,a)?o.forEach(function(t){return e.eventSend(t,{way:r.BaobabSendWay.SendBeacon,success:!0})}):i.forEach(function(t,n){var i=document.createElement("img");i.src=e.hrefPrefix+t,i.addEventListener("load",function(){return e.eventSend(o[n],{way:r.BaobabSendWay.Img,success:!0})}),i.addEventListener("error",function(){return e.eventSend(o[n],{way:r.BaobabSendWay.Img,success:!1})})})},n=this,o=0;o<this.events.length;o+=42)t(o);this.events=[]},e.prototype.eventSend=function(e,t){e.listener&&e.listener({eventData:e.data,sendInfo:t})},e}();t.Sender=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBaobabInitState=function(e){return{prefix:function(e){if("string"!==typeof e)return"b-id";for(var t=0,n=0;n<e.length;n++)t^=(t<<5)+(t>>>2)+e.charCodeAt(n);return(t&=1048575).toString(36)}(e.reqId),senderParams:function(e){if("hrefPostfix"in e)return{hrefPostfix:e.hrefPostfix,hrefPrefix:e.hrefPrefix};var t=e.reqId,n=e.table,r=e.service,o=e.slots,i=Array.isArray(o)?"/slots="+o.join(";"):"";return{hrefPostfix:"/*//"+e.pageUrl,hrefPrefix:"https://yandex.ru/clck/click/reqid="+t+i+"/table="+(n||r)}}(e)}}},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10),o=4,i=/(посоветуйтесь|лекарством|конструктивно|проконсультируйтесь)/gi;t.getDirectSnippetProps=function(e,t){var n=e.config.directSnippetParams;if(!n)return{};var o=void 0===t.advanced||t.advanced,i=r.getShownImageData(e),a=r.getCurrentImageData(e),s=r.getDirectDataForCurrentImage(e),c=s&&r.getFavicon(e,s.punyDomain||s.domain);return{ads:s,favicon:c&&c.data||void 0,advanced:o&&n.isDirectSnippetAdvanced,pos:i&&i.pos,reqid:a&&a.reqid,makeShowCounterRequest:n.makeShowCounterRequest,ratingPosition:n.ratingPosition,imagePosition:n.imagePosition,unifiedV1:n.unifiedV1,semiHiddenContacts:n.semiHiddenContacts,upliftSitelinks:n.upliftSitelinks,optionalDisclaimer:n.optionalDisclaimer,highlightCallout:n.highlightCallout,calloutAsATitle:n.calloutAsATitle,cutDescription:n.cutDescription}},t.isWarningDisclaimer=r.naiveMemoiseOne(function(e){return!!e&&Boolean(e.match(i))}),t.getDescriptionItems=r.naiveMemoiseOne(function(e,n,r){var o=e?e.slice():[];return t.isWarningDisclaimer(n)?o:(r&&o.push(r),n&&o.push(n),o)}),t.getDisclaimerItems=r.naiveMemoiseOne(function(e,t){if(!e)return t?[t]:void 0;if("18+"===t)return[e+=" • 18+"];var n=[e];return t&&n.push(t),n}),t.getMaskedPhoneString=function(e){for(var t=0,n="",r=e.length-1;r>=0&&t<o;r--){var i=e[r],a=e.charCodeAt(r);a>=48&&a<=57&&(t++,i="X"),n=i+n}return""+e.substring(0,r+1)+n}},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(549)),r(n(550)),r(n(551)),r(n(552)),r(n(553)),r(n(554)),r(n(555)),r(n(556)),r(n(557)),r(n(558)),r(n(559)),r(n(560))},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(629)),r(n(630)),r(n(631)),r(n(632)),r(n(633)),r(n(634)),r(n(635)),r(n(636)),r(n(637)),r(n(638)),r(n(639)),r(n(640)),r(n(641)),r(n(642))},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(2),o=n(0),i=n.n(o),a=n(75),s=n(65),c={},u={zIndexGroupLevel:0},l=function(e){var t;return(t=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.currentZIndex=0,e.innerRef=Object(o.createRef)(),e}return r.b(n,t),n.prototype.componentDidMount=function(){this.forwardRefs(),this.props.visible&&this.updateZIndexPosition()},n.prototype.componentDidUpdate=function(e){this.forwardRefs(),e.visible!==this.props.visible&&this.updateZIndexPosition()},n.prototype.componentWillUnmount=function(){0!==this.currentZIndex&&this.releaseZIndex(this.props.zIndexGroupLevel,this.currentZIndex)},n.prototype.render=function(){var t=this.props,n=(t.zIndexGroupLevel,r.d(t,["zIndexGroupLevel"]));return i.a.createElement(e,r.a({},n,{innerRef:this.innerRef}))},n.prototype.forwardRefs=function(){Object(s.a)(this.innerRef,this.props.innerRef)},n.prototype.updateZIndexPosition=function(){var e=this;requestAnimationFrame(function(){var t=e.props,n=t.visible,r=t.zIndexGroupLevel;n&&0===e.currentZIndex?e.currentZIndex=e.captureZIndex(r):n||(e.currentZIndex=e.releaseZIndex(r,e.currentZIndex)),null!==e.innerRef.current&&(e.innerRef.current.style.zIndex=String(e.currentZIndex))})},n.prototype.captureZIndex=function(e){var t=c[e];void 0===t&&(t=[1e3*(e+1)],c[e]=t);var n=t[t.length-1]+1;return t.push(n),n},n.prototype.releaseZIndex=function(e,t){var n=c[e];return void 0!==n&&n.length>1&&n.splice(n.indexOf(t),1),0},n}(o.PureComponent)).displayName="withZIndex("+Object(a.a)(e)+")",t.defaultProps=u,t};n.d(t,"withZIndex",function(){return l})},,,,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(4);n(484);var i=o.cn("MMFavicon");t.MMFavicon=function(e){var t=e.favicon,n=e.url,o=e.className,a={backgroundImage:"url(data:image/png;base64,"+t+")"},s=i({},[o]);return n?r.createElement("a",{href:n,className:s,rel:"noopener",target:"_blank",style:a,onClick:e.onClick}):r.createElement("div",{className:s,style:a,onClick:e.onClick})}},,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.entityMapGetterFabric=function(e){return function(t,n){return n?t[e][n]:{data:void 0,isFailed:!1}}},t.filterDuplicates=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r={};return t.reduce(function(t,n){return n.reduce(function(t,n){var o=String(n[e]);return r[o]||(r[o]=!0,t.push(n)),t},t)},[])},t.naiveMemoiseOne=function(e){var t,n;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];if(!n||n.length!==arguments.length)return n=arguments,t=e.apply(this,arguments);for(var i=0;i<n.length;i++)if(n[i]!==arguments[i])return n=arguments,t=e.apply(this,arguments);return t}},t.naiveCreateSelector=function(e,t){var n,r;return function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];var a=e.apply(this,arguments);if(!r||r.length!==a.length)return r=a,n=t.apply(this,a);for(var s=0;s<r.length;s++)if(r[s]!==a[s])return r=a,n=t.apply(this,a);return n}}},function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var o=n(31),i=function(){function e(e){this.isLoading=!1,this.chain=[];var t=e.forceFailedReload,n=void 0!==t&&t,o=e.multiRequestLimit,i=void 0===o?1:o,a=e.storeGetter,s=e.storeSetter,c=r(e,["forceFailedReload","multiRequestLimit","storeGetter","storeSetter"]);this.ajaxOptions=c,this.storeGetter=a,this.storeSetter=s,this.loadingParams={forceFailedReload:n},this.multiRequestLimit=i>1?Math.floor(i):1}return e.prototype.precache=function(e,t){var n=this;e.forEach(function(e,r){var o=n.getItemID(e);n.getFromStore(o)||n.chain.push({id:o,data:e,opts:t&&t[r]})}),this.isLoading||this.loadChainItem()},e.prototype.load=function(e,t){void 0===t&&(t={});var n=this.getItemID(e);if(!this.getFromStore(n)){if(t.cleanChain&&this.cleanChain(),t.preempt){var r=this.isLoading&&this.currentLoadingItems&&this.currentLoadingItems.every(function(e){return e.id!==n});this.chain.unshift({id:n,data:e,opts:t}),r&&this.currentRequest&&(this.currentRequest.abort(),this.loadChainItem())}else this.chain.push({id:n,data:e,opts:t});this.isLoading||this.loadChainItem()}},e.prototype.cleanChain=function(){this.chain.length=0},e.prototype.getFromStore=function(e){return this.storeGetter(e)},e.prototype.setInStore=function(e,t){return this.storeSetter(e,t)},e.prototype.onRequestFinish=function(e,t){var n=this;this.currentRequest=void 0,e.forEach(function(e,r){var o=t[r];n.setInStore(e.id,o);var i=e.opts&&e.opts.callback;i&&i(o)})},e.prototype.extractNextChainItems=function(){for(var e,t=this.multiRequestLimit,n=[],r={};this.chain.length&&n.length<t;)if(e=this.chain.shift()){var o=this.getFromStore(e.id),i=!(!o||!o.isFailed)&&Boolean(this.loadingParams.forceFailedReload||(e.opts||{}).forceFailedReload);o&&!i&&(e=void 0),e&&!r[e.id]&&(r[e.id]=!0,n.push(e))}return n},e.prototype.loadChainItem=function(){var e=this,t=this.extractNextChainItems();if(!t.length)return this.isLoading=!1,this.currentLoadingItems=void 0,void(this.currentRequest=void 0);this.isLoading=!0,this.currentLoadingItems=t;var n=this.getUrl(t);this.currentRequest=o.get(n,this.ajaxOptions,{successCallback:function(n){var r=e.extractResponseData(n).map(function(e){return{data:e,isFailed:!1}});e.onRequestFinish(t,r),e.loadChainItem()},failureCallback:function(){var n=t.map(function(){return{isFailed:!1}});e.onRequestFinish(t,n),e.loadChainItem()}})},e}();t.BatchDataLoader=i},function(e,t,n){"use strict";n.d(t,"c",function(){return s});var r=n(0),o=n.n(r),i=n(106);n.d(t,"e",function(){return i.markup}),n.d(t,"b",function(){return i.HIGHLIGHT_OPEN}),n.d(t,"a",function(){return i.HIGHLIGHT_CLOSE});var a=n(148);n.d(t,"d",function(){return a.decodeHTMLEntities});var s=o.a.memo(function(e){return o.a.createElement(o.a.Fragment,null,Object(i.markup)(e.children,function(e){var t={};return(e.end||e.start)&&(t.delimiters={start:e.start||i.HIGHLIGHT_OPEN,end:e.end||i.HIGHLIGHT_CLOSE}),e.highlighter&&(t.highlighter=e.highlighter),e.textPreprocessor?t.textPreprocessor=e.textPreprocessor:e.ignoreHTMLEntities||(t.textPreprocessor=a.decodeHTMLEntities),t}(e)))})},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(1),o=n(97),i=(n(492),Object(r.withBemMod)(Object(o.b)(),{size:"m"}))},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(1),o=n(97),i=(n(493),Object(r.withBemMod)(Object(o.b)(),{wide:!0}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(81);n(513),t.cnMMSidebarSection=r.cnSidebar("Section")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(1),i=n(7),a=n(90);t.MMButtonTypeLink=o.compose(i.withBaobab({name:"button"}),o.withBemMod(a.cnMMButton(),{type:a.IMMButtonTypes.link},function(){return function(e){return r.createElement("a",{className:a.cnMMButton({},[e.className]),href:e.url,rel:"noopener",ref:e.forwardRef,target:e.target||"_blank",onClick:e.onClick,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onContextMenuCapture:e.onContextMenuCapture},e.icon&&r.createElement("span",{className:a.cnMMButton("Icon")},e.icon),r.createElement("span",{className:a.cnMMButton("Text")},e.text),e.rightText&&r.createElement("span",{className:a.cnMMButton("RightText")},e.rightText))}}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(4),i=n(7);n(669);var a=o.cn("Share");t.ShareItem=i.withBaobab({name:"ShareItem",events:{onClick:i.logClick()}})(function(e){var t=e.icon,n=e.title,o=e.onClick,i=e.className,s=void 0===i?"":i;return r.createElement("li",{className:a("Item",{more:!0},["ya-share2__item ya-share2__container ya-share2__container_size_s",s]),onClick:o},r.createElement("span",{className:"ya-share2__badge"},r.createElement("span",{className:"ya-share2__icon"},t)),r.createElement("span",{className:"ya-share2__title"},n))})},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(670)),r(n(671)),r(n(672)),r(n(673)),r(n(674)),r(n(675)),r(n(676)),r(n(677)),r(n(678))},function(e,t){},function(e,t,n){"use strict";n.r(t);var r=n(202),o=n(1),i=n(16),a=(n(648),Object(o.withBemMod)(Object(i.b)(),{nonvisual:!0})),s=n(2),c=n(0),u=n.n(c),l=n(76),d=n(65),p=function(e,t,n){return 0===e.indexOf(t)||n&&0===e.indexOf(n)},f=function(e,t){return e.indexOf("-"+t)>0},h={directions:["bottom-left","bottom-center","bottom-right","top-left","top-center","top-right","right-top","right-center","right-bottom","left-top","left-center","left-bottom"],mainOffset:0,secondaryOffset:0,tailOffset:0,viewportOffset:0,scope:{current:Object(l.a)()?document.body:null}},m=Object(o.withBemMod)(Object(i.b)(),{target:"anchor"},function(e){var t;return(t=function(t){function n(e){var n=t.call(this,e)||this;return n.state={direction:"bottom-left"},n.popupRef=Object(c.createRef)(),n.tailRef=Object(c.createRef)(),n.updateTimer=0,n.subscribeToEvents=function(){window.addEventListener("scroll",n.updateRefsPosition),window.addEventListener("resize",n.updateRefsPosition),document.addEventListener("documentchange",n.updateRefsPosition)},n.unsubscribeFromEvents=function(){window.removeEventListener("scroll",n.updateRefsPosition),window.removeEventListener("resize",n.updateRefsPosition),document.removeEventListener("documentchange",n.updateRefsPosition)},n.updateRefsPosition=function(){0===n.updateTimer&&null!==n.popupRef.current&&(n.popupRef.current.style.top="-9999px"),window.clearTimeout(n.updateTimer),n.updateTimer=window.setTimeout(function(){var e=n.props.directions,t=n.getDrawingParams(e),r=t.direction,o=t.popupPosition,i=t.tailPosition;n.state.direction!==r&&n.setState({direction:r}),null!==n.popupRef.current&&(n.popupRef.current.style.top=o.top+"px",n.popupRef.current.style.left=o.left+"px"),null!==n.tailRef.current&&(n.tailRef.current.style.top=i.top+"px",n.tailRef.current.style.left=i.left+"px")},132)},n.getPossibleDrawingParams=function(){var e=n.getAnchorDimensions(n.props.anchor),t=n.getViewportDimensions(),r=n.getOffsets();return n.props.directions.map(function(n){var o={direction:n,width:0,height:0,left:0,top:0};return p(n,"bottom")?(o.top=e.top+e.height+2*r.main,o.height=t.bottom-o.top-r.viewport):p(n,"top")?(o.height=e.top-t.top-r.main-r.viewport,o.top=e.top-o.height-r.main):(f(n,"center")?(o.height=t.bottom-t.top-2*r.viewport,o.top=e.top+(e.height-o.height)/2):f(n,"bottom")?(o.height=e.top+e.height-t.top-r.secondary-r.viewport,o.top=e.top+e.height-o.height-r.secondary):f(n,"top")&&(o.top=e.top+r.secondary,o.height=t.bottom-o.top-r.viewport),p(n,"left")?(o.width=e.left-t.left-r.main-r.viewport,o.left=e.left-o.width-r.main):(o.left=e.left+e.width+r.main,o.width=t.right-o.left-r.viewport)),f(n,"right")?(o.width=e.left+e.width-t.left-r.secondary-r.viewport,o.left=e.left+e.width-o.width-r.secondary):f(n,"left")?(o.left=e.left+r.secondary,o.width=t.right-o.left-r.viewport):f(n,"center")&&p(n,"top","bottom")&&(o.width=t.right-t.left-2*r.viewport,o.left=e.left+e.width/2-o.width/2),o})},console.assert(void 0!==e.anchor,'Для работы "withTargetAnchor" требуется наличие свойства "anchor".'),console.assert(0!==e.directions.length,'Для работы "withTargetAnchor" требуется наличие хотя бы одного направления для раскрытия.'),n}return s.b(n,t),n.prototype.componentDidMount=function(){this.forwardRefs(),this.props.visible&&this.updateRefsPosition(),this.shouldSubscribeToEvents()&&this.subscribeToEvents()},n.prototype.componentDidUpdate=function(e){this.forwardRefs(),e.visible===this.props.visible&&e.anchor===this.props.anchor||this.updateRefsPosition(),this.shouldSubscribeToEvents()?this.subscribeToEvents():this.unsubscribeFromEvents()},n.prototype.componentWillUnmount=function(){this.unsubscribeFromEvents()},n.prototype.render=function(){var t=this.props,n=(t.anchor,t.directions,t.mainOffset,t.motionless,t.secondaryOffset,t.tailOffset,t.target,t.viewportOffset,t.getPossibleDrawingParams),r=s.d(t,["anchor","directions","mainOffset","motionless","secondaryOffset","tailOffset","target","viewportOffset","getPossibleDrawingParams"]);return Object(l.a)()&&void 0!==n&&n(this.getPossibleDrawingParams()),u.a.createElement(e,s.a({},r,{direction:this.state.direction,innerRef:this.popupRef,tailRef:this.tailRef}))},n.prototype.forwardRefs=function(){Object(d.a)(this.popupRef,this.props.innerRef),Object(d.a)(this.tailRef,this.props.tailRef)},n.prototype.shouldSubscribeToEvents=function(){return this.props.visible&&this.props.directions.length>1&&!this.props.motionless},n.prototype.getDrawingParams=function(e){var t,n,r={direction:"bottom-left",popupPosition:{top:0,left:0},tailPosition:{top:0,left:0}},o=this.getPopupDimensions(this.popupRef),i=this.getAnchorDimensions(this.props.anchor),a=this.getViewportDimensions(),c=this.getScopeDimensions(this.props.scope),u=0;try{for(var l=s.e(e),d=l.next();!d.done;d=l.next()){var p=d.value,f=this.getPopupPosition(p,i,o),h=this.getViewportFactor(f,a,o);if((h>u||this.state.direction===p)&&(r.popupPosition={top:f.top-(c.top+window.pageYOffset),left:f.left-(c.left+window.pageXOffset)},r.direction=p,u=h),u>.99)break}}catch(e){t={error:e}}finally{try{d&&!d.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}return this.props.hasTail&&(r.tailPosition=this.getTailPosition(r.direction,i,o)),r},n.prototype.getPopupDimensions=function(e){var t={area:0,height:0,width:0,popupHeight:0,popupWidth:0};if(void 0!==e&&null!==e.current){var n=e.current,r=n.clientWidth,o=n.clientHeight,i=e.current.getBoundingClientRect(),a=i.width,s=i.height;t.area=r*o,t.height=Math.round(s),t.width=Math.round(a),t.popupHeight=o,t.popupWidth=r}return t},n.prototype.getAnchorDimensions=function(e){var t={left:0,top:0,height:0,width:0};if(void 0!==e&&null!==e.current){var n=e.current,r=n.offsetWidth,o=n.offsetHeight,i=e.current.getBoundingClientRect(),a=i.left,s=i.top;t.left=a+window.pageXOffset,t.top=s+window.pageYOffset,t.height=o,t.width=r}return t},n.prototype.getTailDimensions=function(){var e={size:0};return void 0!==this.props.tailSize&&(e.size=this.props.tailSize),null!==this.tailRef.current&&(e.size=this.tailRef.current.offsetWidth),e},n.prototype.getViewportDimensions=function(){return{top:window.pageYOffset,left:window.pageXOffset,bottom:window.pageYOffset+window.innerHeight,right:window.pageXOffset+window.innerWidth}},n.prototype.getScopeDimensions=function(e){var t={top:0,left:0};if(void 0!==e&&null!==e.current){var n=e.current.getBoundingClientRect(),r=n.left,o=n.top;t.top=o,t.left=r}return t},n.prototype.getPopupPosition=function(e,t,n){var r={left:0,top:0},o=this.getOffsets();return p(e,"bottom")?r.top=t.top+t.height+o.main:p(e,"top")?r.top=t.top-n.height-o.main:p(e,"left")?r.left=t.left-n.width-o.main:p(e,"right")&&(r.left=t.left+t.width+o.main),f(e,"right")?r.left=t.left+t.width-n.width-o.secondary:f(e,"left")?r.left=t.left+o.secondary:f(e,"bottom")?r.top=t.top+t.height-n.height-o.secondary:f(e,"top")?r.top=t.top+o.secondary:f(e,"center")&&(p(e,"top","bottom")?r.left=t.left+t.width/2-n.width/2:p(e,"left","right")&&(r.top=t.top+t.height/2-n.height/2)),r},n.prototype.getTailPosition=function(e,t,n){var r={left:0,top:0},o=this.getTailDimensions().size/2,i=this.getOffsets();return p(e,"bottom")?r.top=-o:p(e,"top")?r.top=Math.floor(n.popupHeight-o):p(e,"left")?r.left=Math.floor(n.popupWidth-o):p(e,"right")&&(r.left=-o),f(e,"right")?r.left=n.popupWidth-Math.ceil(Math.min(n.popupWidth,t.width)/2)-o-i.tail:f(e,"left")?r.left=Math.ceil(Math.min(n.popupWidth,t.width)/2)-o+i.tail:f(e,"bottom")?r.top=n.popupHeight-Math.ceil(Math.min(n.popupHeight,t.height)/2)-o-i.tail:f(e,"top")?r.top=Math.ceil(Math.min(n.popupHeight,t.height)/2)-o+i.tail:f(e,"center")&&(p(e,"top","bottom")?r.left=Math.ceil(n.popupWidth/2)-o+i.tail:r.top=Math.ceil(n.popupHeight/2)-o+i.tail),r},n.prototype.getOffsets=function(){var e=this.props,t=e.mainOffset,n=e.secondaryOffset,r=e.tailOffset,o=e.viewportOffset,i=this.getTailDimensions();return{main:t>=0&&i.size>0?Math.max(t,Math.round(i.size*Math.SQRT1_2)):t,secondary:n,tail:r,viewport:o}},n.prototype.getViewportFactor=function(e,t,n){var r=0,o=this.getOffsets(),i=Math.max(e.left,t.left+o.viewport),a=Math.min(e.left+n.width,t.right-o.viewport),s=Math.max(e.top,t.top+o.viewport),c=Math.min(e.top+n.height,t.bottom-o.viewport);return i<a&&s<c&&(r=(a-i)*(c-s)/n.area),r},n}(c.PureComponent)).defaultProps=h,t}),v=(n(649),Object(o.withBemMod)(Object(i.b)(),{theme:"clear"})),g=(n(650),Object(o.withBemMod)(Object(i.b)(),{theme:"normal"})),y=(n(176),n(651),Object(o.withBemMod)(Object(i.b)(),{tone:"dark"})),b=(n(652),Object(o.withBemMod)(Object(i.b)(),{tone:"default"})),w=(n(653),Object(o.withBemMod)(Object(i.b)(),{tone:"grey"})),M=(n(654),Object(o.withBemMod)(Object(i.b)(),{tone:"market"})),C=(n(655),Object(o.withBemMod)(Object(i.b)(),{tone:"red"})),S=(n(656),Object(o.withBemMod)(Object(i.b)(),{view:"default"}));n.d(t,"Popup",function(){return r.a}),n.d(t,"cnPopup",function(){return r.b}),n.d(t,"withNonvisual",function(){return a}),n.d(t,"withTargetAnchor",function(){return m}),n.d(t,"withThemeClear",function(){return v}),n.d(t,"withThemeNormal",function(){return g}),n.d(t,"withToneDark",function(){return y}),n.d(t,"withToneDefault",function(){return b}),n.d(t,"withToneGrey",function(){return w}),n.d(t,"withToneMarket",function(){return M}),n.d(t,"withToneRed",function(){return C}),n.d(t,"withViewDefault",function(){return S})},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(789),o=n(44);n(490);n.d(t,"b",function(){return o.b}),n.d(t,"c",function(){return o.c});var i=Object(o.b)(Object(o.c)(r.a))},function(e,t,n){"use strict";var r=n(3),o=n(16),i=n(2),a=n(0),s=n.n(a),c=(n(647),new r.Registry({id:Object(o.b)()}));c.set("Tail",function(e){var t=e.className,n=e.innerRef,r=i.d(e,["className","innerRef"]);return s.a.createElement("div",i.a({},r,{className:Object(o.b)("Tail",null,[t]),ref:n}))}),n.d(t,"a",function(){return u}),n.d(t,"b",function(){return o.b});var u=Object(r.withRegistry)(c)(o.a)},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=n(4),c=n(31),u=n(207),l=n(7),d=n(310);t.cnMMDirectStripe=s.cn("MMDirectStripe");var p=function(e){function n(t){var n=e.call(this,t)||this;return n.isComponentMounted=!1,n.loaderUrl="//yandex.ru/images/_crpd/hmiK28s06/3a2294S0tYV5/q2_9kJH2QFtqTkDpsv1bAsYAM2b5v8wm1slTREBwy78V3rbw",n.containerRef=a.createRef(),n.state={hidden:!1},n.onDirectRendered=n.onDirectRendered.bind(n),n.onEmptyDirectLoaded=n.onEmptyDirectLoaded.bind(n),n.onHide=n.onHide.bind(n),n.onClick=n.onClick.bind(n),n.setContainerRef=n.setContainerRef.bind(n),n}return o(n,e),n.prototype.componentDidMount=function(){var e=this,t=this.props,r=t.directId,o=t.pageNumber,i=t.forwardRef;this.isComponentMounted=!0,i&&(i.current=this),n.loadDirectContext(this.loaderUrl,function(){e.renderDirect()}),this.renderParams={blockId:r,renderTo:this.getUniqId(),async:!0,onRender:this.onDirectRendered,onHide:this.onHide,grab:this.getGrabText(this.props.text),extParams:"&"+c.stringifyUrlParams(this.getExtParams())},o&&(this.renderParams.pageNumber=o)},n.prototype.componentDidUpdate=function(e,t){var r=this;e.directId===this.props.directId&&e.text===this.props.text&&t.hidden===this.state.hidden||n.loadDirectContext(this.loaderUrl,function(){r.renderDirect()})},n.prototype.componentWillUnmount=function(){var e=this.props,t=e.onRemove,n=e.forwardRef;this.isComponentMounted=!1,n&&(n.current=null),t&&t()},n.prototype.render=function(){if(this.state.hidden)return null;var e=this.props,n=e.className,r=e.style;return a.createElement(u.BaobabNodeDiv,{style:r,className:t.cnMMDirectStripe(null,[n]),logNode:{name:"DirectStripe",events:{onClick:l.logClick()}}},a.createElement("div",{id:this.getUniqId(),ref:this.setContainerRef}))},n.prototype.renderDirect=function(){var e=this,t=window.Ya.wJwtXTdG36g;if(!this.state.hidden&&t&&this.renderParams){var n=this.props.text?i({},this.renderParams,{grab:this.getGrabText(this.props.text)}):this.renderParams;t.AdvManager?(t._asyncModeOn=!0,t.AdvManager.render(n,this.onEmptyDirectLoaded)):(t._callbacks||(t._callbacks=[])).push(function(){return t.AdvManager&&t.AdvManager.render(n,e.onEmptyDirectLoaded)})}},n.prototype.setContainerRef=function(e){e?(e.addEventListener("click",this.onClick,!0),this.props.fixWidth&&(e.style.width=e.clientWidth+"px"),this.containerRef.current=e):this.containerRef.current&&(this.containerRef.current.removeEventListener("click",this.onClick,!0),this.containerRef.current=null)},n.prototype.onClick=function(e){this.props.onClick&&this.props.onClick(e)},n.prototype.getUniqId=function(){return this.elementDomId?this.elementDomId:(this.props.getUniqId?this.elementDomId=this.props.getUniqId():this.elementDomId="wHQVXXdG3wdYJ_stripe_"+Date.now()+"_"+Math.round(1e6*Math.random()),this.elementDomId)},n.prototype.getGrabText=function(e){return d.encode("t"+e+"\n")},n.prototype.getExtParams=function(){var e={reqid:this.props.reqid,position:"stripe",ui:"desktop"},t=this.props.yandexuid,n=/\buuid=(\w+)/.exec(location.search),r=n&&n[1];return r?e.uuid=r:t&&(e.yuid=t),e},n.prototype.onDirectRendered=function(){if(this.isComponentMounted){var e=this.props.onRender;this.setState({hidden:!1}),e&&e()}},n.prototype.onHide=function(){if(this.isComponentMounted){var e=this.props.onHide;this.setState({hidden:!0}),e&&e()}},n.prototype.onEmptyDirectLoaded=function(){if(this.isComponentMounted){var e=this.props.onEmptyLoaded;this.setState({hidden:!0}),e&&e()}},n.loadDirectContext=function(e,t,n){var r=this;if("loaded"===this.scriptStatus||window.Ya.wJwtXTdG36g?t&&setTimeout(t,0):(t&&this.onLoad.push(t),n&&this.onError.push(n)),!window.Ya.wJwtXTdG36g&&(!this.scriptStatus||"error"===this.scriptStatus)){this.contextScript&&this.contextScript.parentNode&&this.contextScript.parentNode.removeChild(this.contextScript);var o=this.contextScript=document.createElement("script");o.onload=function(){r.scriptStatus="loaded",r.onLoad.forEach(function(e){return e()})},o.onerror=function(){r.scriptStatus="error",r.onError.forEach(function(e){return e()})},o.src=e,document.body.appendChild(o),this.scriptStatus="loading"}},n.onLoad=[],n.onError=[],n}(a.Component);t.MMDirectStripeWithContext=p},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a,s=n(0),c=n(426),u=n(207),l=n(7),d=n(427),p=n(229);t.cnMMGallery=p.cnMMGallery,n(428),function(e){e[e.alwaysCenter=1]="alwaysCenter",e[e.fijiStyle=2]="fijiStyle"}(a=t.MMGalleryAutoScroll||(t.MMGalleryAutoScroll={}));var f=function(e){function t(t){var n=e.call(this,t)||this;return n.dragging=!1,n.wasDragging=!1,n.wasClicked=!1,n.dragStartMouseX=0,n.dragStartGalleryX=0,n.wasDraggingTime=0,n.container=s.createRef(),n.rootNode=s.createRef(),n.selectedNode=s.createRef(),n.firstNode=s.createRef(),n.onWheel=n.onWheel.bind(n),n.onMouseDown=n.onMouseDown.bind(n),n.onMouseUp=n.onMouseUp.bind(n),n.onMouseMove=n.onMouseMove.bind(n),n.onAnimationEnd=n.onAnimationEnd.bind(n),n.state={},n}return o(t,e),t.prototype.getSnapshotBeforeUpdate=function(){if(!this.props.fixedPositionOnUpdate)return null;var e=this.container.current;if(!e)return null;var t=e.getBoundingClientRect(),n=t.height/2,r=t.left+t.width/2-n/2,o=t.top+n,i=document.elementFromPoint(r,o);return i===e&&(i=document.elementFromPoint(r+n,o)),i&&i!==e?{baseNode:i,wasPosition:i.getBoundingClientRect().left}:null},t.prototype.componentDidUpdate=function(e,t,n){var r=this.container.current;if(n&&void 0!==n.wasPosition&&n.baseNode&&r&&r.contains(n.baseNode)){var o=n.baseNode.getBoundingClientRect().left-n.wasPosition;o&&(r.scrollLeft+=o,void 0!==this.scrollingTarget&&(this.scrollingTarget+=o))}var i=(this.props.selectedIdx||0)-(e.selectedIdx||0);i&&this.props.autoScroll&&(this.wasClicked&&this.props.autoScroll===a.fijiStyle?this.scrollItems(i>0?1:-1):this.scrollIntoCenter()),this.wasClicked=!1},t.prototype.componentDidMount=function(){this.props.autoScroll&&this.scrollIntoCenter(!0)},t.prototype.render=function(){var e=this,t={};return s.createElement(u.BaobabNodeDiv,{className:p.cnMMGallery(null,[this.props.className]),onWheel:this.onWheel,forwardRef:this.rootNode,logNode:{name:"gallery"}},s.createElement("div",{className:p.cnMMGallery("Container"),onScroll:this.props.onScroll,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onMouseMove:this.onMouseMove,ref:this.container},(this.props.children||[]).map(function(n,r){var o,i=r===e.props.selectedIdx;i?o=e.selectedNode:0===r&&(o=e.firstNode);for(var a=(n?n.key:r)||r;t[a];)a+="#"+r;return t[a]=!0,s.createElement(d.MMGalleryItem,{key:a,selected:i,onClick:e.onClickHandler(r),forwardRef:o,logNode:{name:"item",events:{onClick:l.logClick()}}},n)})))},t.prototype.scrollItems=function(e){var t=this.selectedNode.current||this.firstNode.current;if(this.container.current&&t&&e){for(var n=t,r=n.offsetLeft,o=Math.floor(e),i=e>0?1:-1,a=n;0!==o&&n;)(n=o>0?n.nextElementSibling:n.previousElementSibling)&&(a=n),o-=i;r=a.offsetLeft-r,this.animateScrollBy(r)}},t.prototype.scrollIntoCenter=function(e){if(void 0===e&&(e=!1),this.container.current&&this.selectedNode.current){var t=this.container.current,n=this.selectedNode.current,r=t.offsetWidth/2,o=n.offsetLeft-r;e?this.container.current.scrollLeft=o:this.animateScrollTo(o)}},t.prototype.getScrollPosition=function(){var e=this.container.current;if(e)return{scrollWidth:e.scrollWidth,offsetWidth:e.offsetWidth,totalWidth:e.scrollWidth-e.offsetWidth,rightEdgeOffset:e.scrollWidth-1.5*e.offsetWidth,currentPosition:e.scrollLeft}},Object.defineProperty(t.prototype,"node",{get:function(){return this.rootNode},enumerable:!0,configurable:!0}),t.prototype.animateScrollBy=function(e){if(this.container.current){var t=void 0!==this.scrollingTarget?this.scrollingTarget:this.container.current.scrollLeft;this.animateScrollTo(t+e)}},t.prototype.animateScrollTo=function(e){var t=this;this.animationStop&&this.animationStop();var n=this.container.current;if(n){this.scrollingTarget=e;var r=e-n.scrollLeft;this.animationStop=c.animate(200,function(e){void 0!==t.scrollingTarget&&(n.scrollLeft=t.scrollingTarget-r*(1-e))},c.linear,this.onAnimationEnd)}},t.prototype.onAnimationEnd=function(){this.animationStop=void 0,this.scrollingTarget=void 0},t.prototype.onMouseDown=function(e){this.container.current&&(this.wasDragging=!1,this.dragging=!0,this.dragStartMouseX=e.screenX,this.dragStartGalleryX=this.container.current.scrollLeft)},t.prototype.onMouseUp=function(){this.wasDragging&&(this.wasDraggingTime=Date.now()),this.dragging=!1},t.prototype.onMouseMove=function(e){this.dragging&&e.buttons&&this.container.current?(this.wasDragging=!0,this.container.current.scrollLeft=this.dragStartGalleryX+this.dragStartMouseX-e.screenX):this.dragging=!1},t.prototype.onWheel=function(e){if(this.dragging)e.preventDefault();else{var t=this.container.current;if(!(Math.abs(e.deltaX)>Math.abs(e.deltaY))&&e.deltaY&&t){var n=e.deltaY;e.deltaMode>0&&(n*=16),t.scrollLeft=t.scrollLeft+n}}},t.prototype.onClickHandler=function(e){var t=this;return function(){var n=Date.now()-t.wasDraggingTime<10;t.wasDragging=!1,t.props.onClick&&!n&&(t.wasClicked=!0,t.props.onClick(e))}},t}(s.Component);t.MMGalleryPresenter=f,t.MMGallery=function(e){return s.createElement(f,i({},e,{ref:e.forwardRef}))}},,function(e,t,n){"use strict";function r(e,t){if("function"!==typeof URL){var n=document.createElement("a");return n.href=e,{hostname:n.hostname,port:n.port,protocol:n.protocol,origin:n.origin}}try{return new URL(e,t)}catch(e){}}Object.defineProperty(t,"__esModule",{value:!0}),t.parseUrl=r,t.getOrigin=function(e){var t="string"===typeof e?r(e):e;if(!t)return"";if(t.origin)return t.origin;var n=t.port?":"+t.port:"";return t.protocol+"//"+t.hostname+n},t.getHostname=function(e,t){var n=r(e,t);return n?n.hostname:""}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=n(7);t.BaobabNodeDiv=a.withBaobab({name:"div"})(function(e){var t=e.forwardRef,n=o(e,["forwardRef"]);return i.createElement("div",r({},n,{ref:t}),n.children)}),t.BaobabNodeImg=a.withBaobab({name:"img"})(function(e){var t=e.forwardRef,n=o(e,["forwardRef"]);return i.createElement("img",r({},n,{ref:t}))})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4);t.cnMMRelatedImages=r.cn("MMRelatedImages")},,,function(e,t,n){"use strict";n.r(t);var r=n(201);n.d(t,"Link",function(){return r.a}),n.d(t,"withSerpProps",function(){return r.c}),n.d(t,"withBaobabLink",function(){return r.b});var o=n(193);n.d(t,"LinkSizeM",function(){return o.a});var i=n(194);n.d(t,"LinkWide",function(){return i.a})},,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4);t.cnTiledImages=r.cn("MMTiledImages")},function(e,t,n){"use strict";n.r(t);var r=n(285),o=n(1),i=n(66),a=Object(o.withBemMod)(Object(i.a)(),{https:!0});n(497);n.d(t,"Path",function(){return r.a}),n.d(t,"cnPath",function(){return r.b}),n.d(t,"withHttps",function(){return a})},function(e,t,n){"use strict";n.r(t);var r=n(3),o=n(76);Object(o.a)()&&function(e){var t=function(){return function(){var t=this;this.onKeyDown=function(){e.clearTimeout(t.timeoutId),t.isPointer=!1},this.onMouseDown=function(){t.isPointer=!0,e.clearTimeout(t.timeoutId),t.timeoutId=e.setTimeout(function(){return t.isPointer=!1},600)},this.onFocus=function(){t.isPointer?(e.document.body.classList.add("pointerfocus"),e.document.body.classList.remove("utilityfocus")):(e.document.body.classList.add("utilityfocus"),e.document.body.classList.remove("pointerfocus"))},this.onBlur=function(){e.addEventListener("focus",t.setIsPointerOnTabFocus,!0)},this.setIsPointerOnTabFocus=function(){e.removeEventListener("focus",t.setIsPointerOnTabFocus,!0),e.document.body.classList.contains("pointerfocus")&&(t.isPointer=!0,e.setTimeout(function(){return t.isPointer=!1}))},this.timeoutId=0,this.isPointer=!1,e.addEventListener("blur",this.onBlur),e.document.addEventListener("keydown",this.onKeyDown),e.document.addEventListener("mousedown",this.onMouseDown),e.document.addEventListener("mouseup",this.onMouseDown),e.document.addEventListener("focusin",this.onFocus),e.document.body.classList.contains("pointerfocus")||e.document.documentElement.classList.contains("pointerfocus")||e.document.body.classList.add("utilityfocus")}}();e.LegoPointerFocus||(e.LegoPointerFocus=new t)}(window);var i,a=n(2),s=n(0),c=n.n(s),u=n(4),l=n(65),d=n(59),p=(n(433),Object(u.cn)("Button2")),f={autoComplete:"off",pressKeys:[d.a.SPACE,d.a.ENTER],prvntKeys:[],as:"button",type:"button"},h=((i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={pressed:!1},t.internalInnerRef=Object(s.createRef)(),t.onKeyDown=function(e){Object(d.b)(e.keyCode,t.props.pressKeys)&&(t.setState({pressed:!0}),Object(d.b)(e.keyCode,t.props.prvntKeys)&&e.preventDefault()),void 0!==t.props.onKeyDown&&t.props.onKeyDown(e)},t.onKeyUp=function(e){Object(d.b)(e.keyCode,t.props.prvntKeys)&&e.preventDefault(),Object(d.b)(e.keyCode,t.props.pressKeys)&&t.setState({pressed:!1}),void 0!==t.props.onKeyUp&&t.props.onKeyUp(e)},t.onClick=function(e){null!==t.internalInnerRef.current&&t.internalInnerRef.current.focus(),void 0!==t.props.onClick&&t.props.onClick(e)},t.onMouseDown=function(e){navigator.userAgent.match(/safari/i)&&e.preventDefault(),void 0!==t.props.onMouseDown&&t.props.onMouseDown(e)},t}return a.b(t,e),t.prototype.render=function(){var e=this.props,t=e.addonAfter,n=e.addonBefore,o=e.autoComplete,i=e.checked,s=e.children,u=e.icon,d=e.iconLeft,f=e.iconRight,h=e.progress,m=e.disabled,v=e.as,g=e.type,y=e.className,b=e.innerRef,w=e.controlRef,M=(e.pressKeys,e.prvntKeys,e.view,e.theme,e.tone,e.pale,e.baseline,e.action,e.pin,e.width,a.d(e,["addonAfter","addonBefore","autoComplete","checked","children","icon","iconLeft","iconRight","progress","disabled","as","type","className","innerRef","controlRef","pressKeys","prvntKeys","view","theme","tone","pale","baseline","action","pin","width"])),C=this.state.pressed,S=h||m,O=v;return M["string"===typeof v?"ref":"innerRef"]=Object(l.a)(this.internalInnerRef,b,w),c.a.createElement(O,a.a({},M,{type:g,disabled:S,className:p({checked:i,progress:h,pressed:C},[y]),onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,onClick:this.onClick,onMouseDown:this.onMouseDown,"aria-pressed":i,"aria-disabled":S,autoComplete:o}),c.a.createElement(r.ComponentRegistryConsumer,{id:p()},function(e){var r=e.Icon,o=e.Text,i=d||u;return c.a.createElement(c.a.Fragment,null,n,i&&c.a.createElement(r,{provider:i,side:s&&d?"left":void 0}),f&&c.a.createElement(r,{provider:f,side:s?"right":void 0}),s&&c.a.createElement(o,null,s),t)}))},t}(s.PureComponent)).displayName=p(),i.defaultProps=f,i),m=(n(434),n(435),new r.Registry({id:p()}));m.set("Icon",function(e){var t=e.side,n=e.provider,r=a.d(e,["side","provider"]);return n(p("Icon",{side:t},[r.className]))}).set("Text",function(e){var t=e.children,n=e.className,r=a.d(e,["children","className"]);return c.a.createElement("span",a.a({},r,{className:p("Text",null,[n])}),t)});n(436);var v=Object(r.withRegistry)(m)(h),g=n(1),y=(n(437),Object(g.withBemMod)(p(),{action:!0})),b=(n(438),Object(g.withBemMod)(p(),{baseline:!0})),w=(n(439),Object(g.withBemMod)(p(),{pale:!0})),M=(n(440),Object(g.withBemMod)(p(),{pin:"brick-brick"})),C=(n(441),Object(g.withBemMod)(p(),{pin:"brick-circle"})),S=(n(442),Object(g.withBemMod)(p(),{pin:"brick-clear"})),O=(n(443),Object(g.withBemMod)(p(),{pin:"brick-round"})),_=(n(444),Object(g.withBemMod)(p(),{pin:"circle-brick"})),P=(n(445),Object(g.withBemMod)(p(),{pin:"circle-circle"})),I=(n(446),Object(g.withBemMod)(p(),{pin:"circle-clear"})),E=(n(447),Object(g.withBemMod)(p(),{pin:"clear-brick"})),k=(n(448),Object(g.withBemMod)(p(),{pin:"clear-circle"})),D=(n(449),Object(g.withBemMod)(p(),{pin:"clear-clear"})),j=(n(450),Object(g.withBemMod)(p(),{pin:"clear-round"})),T=(n(451),Object(g.withBemMod)(p(),{pin:"round-brick"})),x=(n(452),Object(g.withBemMod)(p(),{pin:"round-clear"})),R=(n(453),Object(g.withBemMod)(p(),{size:"head"})),N=(n(454),Object(g.withBemMod)(p(),{size:"l"})),L=(n(455),Object(g.withBemMod)(p(),{size:"m"})),B=(n(456),Object(g.withBemMod)(p(),{size:"n"})),A=(n(457),Object(g.withBemMod)(p(),{size:"ns"})),F=(n(458),Object(g.withBemMod)(p(),{size:"s"})),U=(n(459),Object(g.withBemMod)(p(),{size:"xs"})),z=(n(460),Object(g.withBemMod)(p(),{theme:"action"})),H=(n(461),n(462),Object(g.withBemMod)(p(),{theme:"clear"})),q=(n(463),n(464),Object(g.withBemMod)(p(),{theme:"link"})),V=(n(465),Object(g.withBemMod)(p(),{theme:"normal"})),G=(n(466),n(467),Object(g.withBemMod)(p(),{theme:"pseudo"})),W=(n(468),n(469),Object(g.withBemMod)(p(),{theme:"raised"})),Y=(n(470),Object(g.withBemMod)(p(),{theme:"websearch"})),K=(n(172),n(471),Object(g.withBemMod)(p(),{tone:"dark"})),X=(n(472),Object(g.withBemMod)(p(),{tone:"default"})),Q=(n(473),Object(g.withBemMod)(p(),{tone:"grey"})),Z=(n(474),Object(g.withBemMod)(p(),{tone:"market"})),J=(n(475),Object(g.withBemMod)(p(),{tone:"red"})),$=Object(g.withBemMod)(p(),{type:"link"},function(e){return function(t){t.type;var n=t.target,r=t.rel,o=t.url,i=t.disabled,s=t.tabIndex,u=a.d(t,["type","target","rel","url","disabled","tabIndex"]),l=r;return"_blank"===n&&void 0!==r&&-1===r.indexOf("noopener")&&(l=r+" noopener"),c.a.createElement(e,a.a({},u,{rel:l,target:n,disabled:i,pressKeys:[d.a.ENTER],href:i?void 0:o,tabIndex:i?-1:s,type:null,autoComplete:null,as:"a"}))}}),ee=Object(g.withBemMod)(p(),{type:"submit"}),te=(n(476),Object(g.withBemMod)(p(),{view:"classic"})),ne=(n(477),Object(g.withBemMod)(p(),{view:"default"})),re=(n(478),Object(g.withBemMod)(p(),{width:"auto"})),oe=(n(479),Object(g.withBemMod)(p(),{width:"max"}));n.d(t,"Button",function(){return v}),n.d(t,"cnButton",function(){return p}),n.d(t,"withAction",function(){return y}),n.d(t,"withBaseline",function(){return b}),n.d(t,"withPale",function(){return w}),n.d(t,"withPinBrickBrick",function(){return M}),n.d(t,"withPinBrickCircle",function(){return C}),n.d(t,"withPinBrickClear",function(){return S}),n.d(t,"withPinBrickRound",function(){return O}),n.d(t,"withPinCircleBrick",function(){return _}),n.d(t,"withPinCircleCircle",function(){return P}),n.d(t,"withPinCircleClear",function(){return I}),n.d(t,"withPinClearBrick",function(){return E}),n.d(t,"withPinClearCircle",function(){return k}),n.d(t,"withPinClearClear",function(){return D}),n.d(t,"withPinClearRound",function(){return j}),n.d(t,"withPinRoundBrick",function(){return T}),n.d(t,"withPinRoundClear",function(){return x}),n.d(t,"withSizeHead",function(){return R}),n.d(t,"withSizeL",function(){return N}),n.d(t,"withSizeM",function(){return L}),n.d(t,"withSizeN",function(){return B}),n.d(t,"withSizeNS",function(){return A}),n.d(t,"withSizeS",function(){return F}),n.d(t,"withSizeXS",function(){return U}),n.d(t,"withThemeAction",function(){return z}),n.d(t,"withThemeClear",function(){return H}),n.d(t,"withThemeLink",function(){return q}),n.d(t,"withThemeNormal",function(){return V}),n.d(t,"withThemePseudo",function(){return G}),n.d(t,"withThemeRaised",function(){return W}),n.d(t,"withThemeWebSearch",function(){return Y}),n.d(t,"withToneDark",function(){return K}),n.d(t,"withToneDefault",function(){return X}),n.d(t,"withToneGrey",function(){return Q}),n.d(t,"withToneMarket",function(){return Z}),n.d(t,"withToneRed",function(){return J}),n.d(t,"withTypeLink",function(){return $}),n.d(t,"withTypeSubmit",function(){return ee}),n.d(t,"withViewClassic",function(){return te}),n.d(t,"withViewDefault",function(){return ne}),n.d(t,"withWidthAuto",function(){return re}),n.d(t,"withWidthMax",function(){return oe})},function(e,t,n){"use strict";n.r(t);var r=n(2),o=n(0),i=n.n(o),a=n(59),s=n(75),c=n(65),u=function(e){return function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.targetRef=Object(o.createRef)(),e.onPointerUp=function(t){void 0===e.props.onOutsideClick||null===e.targetRef.current||e.targetRef.current.contains(t.target)||e.props.onOutsideClick(t)},e.onKeyDown=function(t){void 0!==e.props.onEscapeKeyDown&&Object(a.b)(t.keyCode,[a.a.ESC])&&e.props.onEscapeKeyDown(t)},e}return r.b(n,t),n.prototype.componentDidMount=function(){this.forwardRefs(),this.props.visible&&this.subscribeToEvents()},n.prototype.componentWillUnmount=function(){this.unsubscribeFromEvents()},n.prototype.componentDidUpdate=function(e){this.forwardRefs(),!e.visible&&this.props.visible?this.subscribeToEvents():e.visible&&!this.props.visible&&this.unsubscribeFromEvents()},n.prototype.render=function(){var t=this.props,n=(t.onEscapeKeyDown,t.onOutsideClick,r.d(t,["onEscapeKeyDown","onOutsideClick"]));return i.a.createElement(e,r.a({},n,{targetRef:this.targetRef}))},n.prototype.forwardRefs=function(){Object(c.a)(this.targetRef,this.props.targetRef)},n.prototype.subscribeToEvents=function(){document.addEventListener("click",this.onPointerUp),document.addEventListener("keydown",this.onKeyDown)},n.prototype.unsubscribeFromEvents=function(){document.removeEventListener("click",this.onPointerUp),document.removeEventListener("keydown",this.onKeyDown)},n.displayName="withOutsideClick("+Object(s.a)(e)+")",n}(o.PureComponent)};n.d(t,"withOutsideClick",function(){return u})},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(10),i=n(190);function a(e){return e&&e.rimid}t.getTags=i.entityMapGetterFabric("tags"),t.getTagsItemID=a,t.getTagsLoaderParamsFromState=function(e){var t=e.query;return{tld:e.tld,text:t}},t.getRim=i.entityMapGetterFabric("rimData"),t.getRimItemID=a,t.getRimFeatures=function(e){var t=e.config.rim;return t&&t.features||{}},t.getPureSelectedRimImageDataByIdx=i.naiveMemoiseOne(function(e,t){if(void 0!==t){var n=e.rimForItem;return n&&n[t]}}),t.getSelectedRimImageData=i.naiveCreateSelector(function(e){return[t.getPureSelectedRimImageDataByIdx(e,e.rimSelectedIdx),o.getCurrentImageData(e),e.loadedThumbs]},function(e,t,n){if(e){var o=n[e.id];return r({},e,{isRim:!0,parentPos:t&&t.pos,loadedImage:o})}}),t.getPrecacheRimIds=function(e,n,r){for(var o=[],i=n+r,a=n;a<i;a++){var s=t.getRimItemID(e[a]);s&&o.push(s)}return o},t.getFilteredRimItems=function(e,t,n){void 0===t&&(t={});var r=e.filter(function(e){return e.rimid&&(!t||!t[e.rimid])&&(!n||!n[e.thumb.url]||!n[e.thumb.url].isFailed)});return r.length===e.length?e:r},t.getRimThumbsToLoad=function(e,t,n){for(var r=[],o=0;o<e.length&&(!n||r.length<n);o++){var i=e[o];i&&i.thumb&&!t[i.thumb.url]&&r.push(i.thumb)}return r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(31),o=n(206),i={images:"/images/search",video:"/video/search"};function a(e,t){var n=window.location.protocol,r=o.getOrigin(window.location);return new RegExp("https?://([a-z0-9-]+.)*yandex."+e+"(:[0-9]+)?").test(r)?""+r+t:""+(n+"//yandex."+e)+t}t.makeAbsolute=a,t.createLink=function(e,t,n){var o=i[e];return a(t,r.appendQueryString(o,n))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(4);n(377),function(e){e.xs="xs",e.s="s",e.n="n",e.m="m",e.l="l",e.xl="xl"}(t.ISpinnerSize||(t.ISpinnerSize={}));var i=o.cn("Spinner");t.Spinner=function(e){var t=e.size,n=e.className,o=void 0===n?"":n,a=e.type,s=e.theme,c=void 0===s?"yellow":s;return r.createElement("div",{className:i({size:t,type:a,theme:c},[o])})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canUseDOM="undefined"!==typeof window&&window.document&&window.document.createElement},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4);t.cnMMGallery=r.cn("MMGallery")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4);t.cnMMOrganicSnippet=r.cn("MMOrganicSnippet")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4);t.cnMMViewerTags=r.cn("MMViewerTags")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(81);n(512),t.cnMMSidebarSectionHeader=r.cnSidebar("SectionHeader")},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t){var n,r=this.constructor.prototype;return n=e.call(this,t)||this,Object.setPrototypeOf(n,r),n}return o(t,e),t}(Error);t.DiskError=i;var a=function(e){function t(t){var n=e.call(this,"Ошибка при работе с Яндекс.Диском: пользователь неавторизован")||this;return n.status=401,n.stack=t.stack,n}return o(t,e),t}(i);t.UnauthorizedError=a;var s=function(e){function t(t){var n=e.call(this,"Ошибка при работе с Яндекс.Диском: неизвестная ошибка")||this;return t&&Object.assign(n,t),n}return o(t,e),t}(i);t.UnknownError=s;var c=function(e){function t(t){var n=e.call(this,"Ошибка при работе с Яндекс.Диском: не хватает места")||this;return n.status=507,n.stack=t.stack,n}return o(t,e),t}(i);t.NoAvailableSpaceError=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4);t.cnViewerModal=r.cn("MMViewerModal")},function(e,t,n){"use strict";n(279),n(199),n(280),n(281),n(282)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n(596),i=n(150);t.MMViewerButtons=r.withRegistry(i.viewerButtonsRegistry)(o.MMViewerButtons)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(6),i=n(72),a=n(90),s=n(196),c=n(7);n(644);var u=n(175),l=n(645),d=n(42),p=o.default(u),f=s.MMButtonTypeLink(a.MMButton),h=d.cnMMViewerButtons("OpenImageSizes");t.OpenImageButton=c.withBaobab({name:"open-image"})(function(e){var t=e.url,n=e.dups,o=e.link,s=e.downloadCounter,u=e.otherSizeCounter,m=e.popupScope,v=e.view,g=e.isOpenImageUnauthPopupEnabled,y=e.onOpenButtonClick,b=e.onSizeClick,w="default"===v&&n.length>1,M=r.useMemo(function(){return c.logClick(s)},[s]),C=r.useCallback(function(e){y&&y(e,t,M)},[M,y,t]);return r.createElement("div",{className:h},r.createElement(f,{className:d.cnMMViewerButtons("OpenImage",{isOtherSizesEnabled:w}),text:p("Открыть",{context:'Кнопка "Открыть" картинку'}),rightText:n&&n[0]&&n[0].text,url:g?"#":t,icon:r.createElement(i.MMIcon,{type:"download"}),type:a.IMMButtonTypes.link,logNode:g?{name:"button-with-unauthpopup"}:{name:"button",events:{onClick:M,onContextMenuCapture:M}},onClick:g?C:void 0}),w&&r.createElement(l.SizesButton,{logNode:g?void 0:{name:"sizes"},dups:n,link:o,otherSizeCounter:u,popupScope:m,onSizeClick:b}))})},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=n(6),s=n(31),c=n(7),u=n(72),l=n(32),d=n(90),p=n(196),f=n(42),h=n(175);n(658);var m=a.default(h),v=p.MMButtonTypeLink(d.MMButton),g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.image,r=t.onLog,o=t.onClickCounter,a=t.view,s=t.isSimilarUnauthPopupEnabled,p=n.preview&&n.preview[0]&&n.preview[0].origin;p||(p=n.dups&&n.dups[0]&&n.dups[0].origin),p||(p=n.preview&&n.preview[0]),p||(p=n.dups&&n.dups[0]);var h="compact"===a;return p&&p.url||n.imgHref?i.createElement(l.CountersConsumer,null,function(){return i.createElement(v,{className:f.cnMMViewerButtons("SearchByImage"),logNode:s?void 0:{name:"cbir1",events:{onClick:c.logClick(o)}},text:h?m("Похожие",{context:"Кнопка в просмотрщике картинки https://nda.ya.ru/3UYbqn"}):m("Другие размеры и похожие",{context:"Кнопка в просмоторщике картинки https://nda.ya.ru/3UYbqn"}),url:s?"#":e.getUrl(p&&p.url),target:e.getTarget(),icon:i.createElement(u.MMIcon,{type:"similar-search"}),type:d.IMMButtonTypes.link,onLog:s?void 0:r})}):null},t.prototype.getUrl=function(e){var t=this.props,n=t.imagesCbirSearchUrl,r=t.query;return s.appendQueryString(n,{url:e,text:r,rpt:"imageview"})},t.prototype.getTarget=function(){return this.props.openServiceOnNewTab?"_blank":"_self"},t}(i.PureComponent);t.MMSearchByImage=g},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=n(6),c=n(72),u=n(659),l=n(90),d=n(7),p=n(10),f=n(42),h=n(175);n(734);var m=s.default(h),v=function(e){function t(t){var n=e.call(this,t)||this;return n.popupTarget=a.createRef(),n.state={popupVisible:!1},n.toggleShare=n.toggleShare.bind(n),n.onOutsideSharePopupClick=n.onOutsideSharePopupClick.bind(n),n}return o(t,e),t.prototype.toggleShare=function(){this.setState({popupVisible:!this.state.popupVisible})},t.prototype.closeShare=function(){this.setState({popupVisible:!1})},t.prototype.componentDidUpdate=function(e){e.link!==this.props.link&&this.closeShare()},t.prototype.render=function(){var e=this.props,t=e.link,n=e.shareClick;return a.createElement(a.Fragment,null,a.createElement(l.MMButton,{className:f.cnMMViewerButtons("Share"),text:m("Отправить",{context:"Кнопка в просмотрщике картинки, позволяющая поделиться ссылкой на текущую картинку, то есть отправить информацию о ней другим пользователям"}),icon:a.createElement(c.MMIcon,{type:"side-left"}),onClick:this.toggleShare,logNode:{name:"share-button"},forwardRef:this.popupTarget}),a.createElement(u.MMShare,{link:t,originalUrl:this.props.originalUrl,loggedIn:this.props.loggedIn,snippetUrl:this.props.snippetUrl,anchor:this.popupTarget,logNode:{events:{onShare:d.logTech("share",function(e,r){var o=i(r,1)[0];return p.addCounterParams(n,{"-name":o},void 0,{href:t})})}},popupScope:this.props.popupScope,zIndexGroupLevel:20,visible:this.state.popupVisible,onOutsideClick:this.onOutsideSharePopupClick,isDiskShareButtonVisible:this.props.isDiskShareButtonVisible,diskShareDirectoryName:this.props.diskShareDirectoryName,requestAuthorization:this.props.requestAuthorization}))},t.prototype.onOutsideSharePopupClick=function(e){this.popupTarget.current&&this.popupTarget.current.contains(e.target)||this.closeShare()},t}(a.Component);t.MMShareButton=v},function(e,t,n){"use strict";var r=n(0),o=n.n(r),i=n(1),a=n(20),s=n(290),c=n(51),u=n(7),l=n(73),d=n(14);d.a&&!window.fetch&&(window.fetch=function(e,t){var n=void 0===t?{}:t,r=n.method,o=n.credentials,i=n.body,a=n.headers;return new Promise(function(t){var n=new XMLHttpRequest;"include"!==o&&"same-origin"!==o||(n.withCredentials=!0),n.onload=function(){t({status:n.status,ok:n.status>=200&&n.status<300,headers:{get:function(e){return n.getResponseHeader(e)}},json:function(){return Promise.resolve().then(function(){return JSON.parse(n.responseText)})}})},n.open(r||"GET",e,!0),a&&Object.keys(a).forEach(function(e){a[e]&&n.setRequestHeader(e,String(a[e]))}),i?n.send(i):n.send()})});var p=n(8),f=n(32),h=n(10),m=n(4),v=n(105),g=n(241),y=n(291),b=n(292),w=n(204),M=n(293),C=n(294),S=n(295),O=n(296),_=n(297),P=n(203),I=(n(235),function(){return(I=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)}),E=I({},l.ImagesViewerEvents,{beforeOpen:"images-viewer:beforeOpen",cbirCrop:"images-viewer:cbirCrop",opened:"images-viewer:opened",close:"images-viewer:close",beforeClose:"images-viewer:beforeClose",selectItem:"images-viewer:selectItem",imageShow:"images-viewer:imageShow",listOut:"images-viewer:listOut",rimClick:"images-viewer:rimClick",fullscreenEnter:"images-viewer:fullscreenEnter",fullscreenExit:"images-viewer:fullscreenExit"}),k=function(){return(k=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function D(e){var t=e.path,n=e.params,r=e.reqid;return k({dtype:"iweb",path:"/image/new/preview/"+t,reqid:r},n)}n(775),n(776);var j,T=n(13),x=n(242),R=(j=function(e,t){return(j=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}j(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),N=function(){return(N=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},L=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},B=Object(i.compose)(C.MMGalleryEdgeCenteredLeft)(w.MMGallery),A=Object(m.cn)("ImagesViewer"),F=Object(m.cn)("ImagesViewerApp"),U=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return R(t,e),t}(_.MediaViewer),z=function(e){function t(t){var n=e.call(this,t)||this;return n.isFullscreenMode=!1,n.eventsEnabled=!1,n.viewer=o.a.createRef(),n.directStripe=o.a.createRef(),n.behavioralDirectRef=o.a.createRef(),n.imageRef=o.a.createRef(),n.gallery=o.a.createRef(),n.sidebarNode=o.a.createRef(),n.galleryItemsLoadEventOffset=1200,n.directAutoUpdateTimeout=1e4,n.logTechCounter=n.logTechCounter.bind(n),n.onCbirCropEvent=n.onCbirCropEvent.bind(n),n.onCbirCropSearchEvent=n.onCbirCropSearchEvent.bind(n),n.onNewItemSelected=n.onNewItemSelected.bind(n),n.onRelatedItemClick=n.onRelatedItemClick.bind(n),n.onDirectStripeClick=n.onDirectStripeClick.bind(n),n.onDirectStripeShow=n.onDirectStripeShow.bind(n),n.onDirectStripeHide=n.onDirectStripeHide.bind(n),n.onGalleryClick=n.onGalleryClick.bind(n),n.onGalleryScroll=Object(v.throttle)(n.onGalleryScroll.bind(n),50,{delayedLastCall:!0}),n.onPreviewShowEvent=n.onPreviewShowEvent.bind(n),n.sendNextCounter=n.sendNextCounter.bind(n),n.sendPrevCounter=n.sendPrevCounter.bind(n),n.previewSave=n.previewSave.bind(n),n.onOpenItem=n.onOpenItem.bind(n),n.hitFullscreenCounter=n.hitFullscreenCounter.bind(n),n.hitSlideshowCounter=n.hitSlideshowCounter.bind(n),n.hitTrimmerCounter=n.hitTrimmerCounter.bind(n),n.onFullscreenEnter=n.onFullscreenEnter.bind(n),n.onFullscreenExit=n.onFullscreenExit.bind(n),n.onFullscreenTitleClick=n.onFullscreenTitleClick.bind(n),n.onFullscreenDomainClick=n.onFullscreenDomainClick.bind(n),n.onFullscreenStartAutoplay=n.onFullscreenStartAutoplay.bind(n),n.onFullscreenStopAutoplay=n.onFullscreenStopAutoplay.bind(n),n.onTrimmerStart=n.onTrimmerStart.bind(n),n.onTrimmerChange=n.onTrimmerChange.bind(n),n.onCloseEventKeyboard=n.onCloseEventKeyboard.bind(n),n.onWheel=n.onWheel.bind(n),n.onCloseEventParanja=n.onCloseEvent.bind(n,"paranja"),n.onCloseEventMouse=n.onCloseEvent.bind(n,"mouse"),n.onCloseEventHistory=n.onCloseEventHistory.bind(n,"history"),n.onCloseEvent=n.onCloseEvent.bind(n),n.tryUpdateDirect=Object(v.throttle)(n.tryUpdateDirect.bind(n),n.directAutoUpdateTimeout),n.onGlobalDragStart=n.onGlobalDragStart.bind(n),n.onGlobalDragEnd=n.onGlobalDragEnd.bind(n),n.onTagClick=n.onTagClick.bind(n),n.loginUrl="https://passport.yandex."+t.tld+"/auth?retpath=https%3A%2F%2Fyandex.ru%2Fcollections%2Ffavorites%2F&origin=images_collections",n.imageRenderer=Object(g.getImageRenderer)({onTrimmerStart:n.onTrimmerStart,onTrimmerChange:n.onTrimmerChange}),n.state={isVisible:!1,activeItemIdx:-1,showCbirCrop:!1,globalDragging:!1,loggedIn:t.config.loggedIn},n.handlers={setItem:n.onNewItemSelected,close:n.onCloseEvent,nextItem:n.sendNextCounter,prevItem:n.sendPrevCounter,imageClick:function(e,t){var r=n.getItemParamsByIdx(e),o=r.imgHref||"";t&&t.isMixedImage&&t.origin&&(o=t.origin.url),n.logTechCounter({method:"hitDelayed",__oldCounter__:D({path:"imgclick",params:{vars:{"-pos":r.pos}},reqid:r.reqid||""}),node:{href:o}})},imageShow:function(e,t){if(n.state.isVisible){Object(p.a)().emit(E.imageShow);var r=n.getActiveItemParams(),o=r.preview[0],i=r.imgHref||"",a={"-pos":r.pos,"-width":o&&o.w||0,"-height":o&&o.h||0,"-time":Number(t&&t.loadTime),"-usertime":Number(t&&t.usertime)};if(t&&t.isRim&&(a["-rim_id"]=t.rimid,a["-rim_index"]=t.rim_index,t.origin&&(a["-width"]=t.origin.w,a["-height"]=t.origin.h)),t&&t.isMixedImage&&t.origin){var s=t.url.match(/id=([^&]+)/);i=t.origin.url,s&&(a["-id"]=s[1]),a["-origin_w"]=t.origin.w,a["-origin_h"]=t.origin.h}n.logTechCounter({method:"hitDelayed",__oldCounter__:D({path:"image/show",params:{vars:a},reqid:r.reqid||""}),node:{href:i}})}},imageError:function(){},fullscreenEnter:n.onFullscreenEnter,fullscreenExit:n.onFullscreenExit,fullscreenTitleClick:n.onFullscreenTitleClick,fullscreenDomainClick:n.onFullscreenDomainClick,fullscreenStartAutoplay:n.onFullscreenStartAutoplay,fullscreenStopAutoplay:n.onFullscreenStopAutoplay,previewSave:n.previewSave,previewShow:function(){}},n.buttons={CbirCrop:{type:"cbircrop",clickHandler:n.onCbirCropEvent}},n}return R(t,e),t.prototype.componentDidMount=function(){Object(p.a)().on("i-keyrouter:esc",this.onCloseEventKeyboard).on(E.open,this.onOpenItem).on("serp-controller:viewer-close",this.onCloseEventHistory),this.state.isVisible&&(this.enableEventListeners(),this.triggerBeforeOpenEvent(),this.triggerOpenEvent())},t.prototype.componentWillUnmount=function(){Object(p.a)().off("i-keyrouter:esc",this.onCloseEventKeyboard).off(E.open,this.onOpenItem).off("serp-controller:viewer-close",this.onCloseEventHistory),this.disableEventListeners()},t.prototype.componentDidUpdate=function(e,t){var n=t.activeItemIdx!==this.state.activeItemIdx,r=this.props.rimSelectedIdx!==e.rimSelectedIdx;this.state.isVisible?(this.enableEventListeners(),(n||r)&&this.tryUpdateDirect()):this.disableEventListeners()},t.prototype.render=function(){var e=this.props.items;return o.a.createElement(O.MMViewerModal,{className:A({mode:this.state.globalDragging?"dragging":void 0},[Object(T.cnTheme)(x.theme)]),isVisible:this.state.isVisible,zIndex:this.state.isVisible?4:3,zIndexGroupLevel:10,onCloseClick:this.onCloseEventMouse,onParanjaClick:this.onCloseEventParanja},this.state.isVisible&&o.a.createElement(U,{theme:"fiji",className:A("Container",{mode:this.state.showCbirCrop?"CbirCrop":void 0}),ref:this.viewer,initialIdx:this.state.initialIdx||0,items:e,showItem:this.props.shownImage&&this.props.shownImage.isRim?this.props.shownImage:void 0,on:this.handlers,layout:{sideblock:this.renderSidebar(),footer:this.renderFooter()},itemRenderer:this.imageRenderer,buttons:this.buttons,hasFullscreen:!0,hasTrimmer:this.state.showCbirCrop,imageRef:this.imageRef,viewMessage:this.renderError()}))},t.prototype.open=function(e){var t=this,n=this.getItemParamsByIdx(e),r=n.pos,o=n.reqid;this.triggerBeforeOpenEvent(),this.props.setCurrentItemIdx(e),this.setState({initialIdx:e,activeItemIdx:e,isVisible:!0},function(){t.viewer.current&&t.viewer.current.switchToItem(e)}),this.logTechCounter({method:"hitDelayed",__oldCounter__:D({path:"open",params:{vars:{"-pos":r}},reqid:o||""})}),this.triggerOpenEvent()},t.prototype.renderError=function(){var e=this.props.shownImage,t=e&&e.loadedImage&&!e.loadedImage.data;if(e&&t)return o.a.createElement(b.MMViewMessage,{type:e.snippet.gotoService?"service":"site",redirUrl:e.snippet.redirUrl})},t.prototype.enableEventListeners=function(){this.eventsEnabled||(document.body.addEventListener("dragstart",this.onGlobalDragStart),document.body.addEventListener("dragend",this.onGlobalDragEnd),document.body.addEventListener("wheel",this.onWheel),this.eventsEnabled=!0)},t.prototype.disableEventListeners=function(){this.eventsEnabled&&(document.body.removeEventListener("dragstart",this.onGlobalDragStart),document.body.removeEventListener("dragend",this.onGlobalDragEnd),document.body.removeEventListener("wheel",this.onWheel),this.eventsEnabled=!1)},t.prototype.triggerOpenEvent=function(){Object(p.a)().emit(E.opened)},t.prototype.triggerBeforeOpenEvent=function(){Object(p.a)().emit(E.beforeOpen)},t.prototype.renderSidebar=function(){var e=this.props,t=e.counters,n=e.reqid,r=t.sidebarScrollShow,i=t.sidebarScrollStart,a=t.sidebarScrollEnd,s=t.direct,c=t.directSnippetStripe,l=this.getActiveItemParams(),d={"-col":l.col,"-row":l.row};void 0===l.page||isNaN(l.page)||(d["-page"]=l.page),s.title=Object(h.addCounterParams)(s.title,d),s.path=Object(h.addCounterParams)(s.path,d),s.sitelink=Object(h.addCounterParams)(s.sitelink,d),s.contacts=Object(h.addCounterParams)(s.contacts,d),s.shown=Object(h.addCounterParams)(s.shown,d),c.title=Object(h.addCounterParams)(c.title,d),c.path=Object(h.addCounterParams)(c.path,d),c.partner=Object(h.addCounterParams)(c.partner,d),c.shown=Object(h.addCounterParams)(c.shown,d);var p={"-reqid":n};return l&&(p["-pos"]=l.pos),o.a.createElement(S.MMSidebar,{isVisible:this.state.isVisible,addToCollectionsLoginUrl:this.loginUrl,logNode:{events:{onScrollShow:Object(u.logTech)("scroll-show",Object(h.addCounterParams)(r,p)),onScrollStart:Object(u.logTech)("scroll-start",Object(h.addCounterParams)(i,p)),onScrollToBottom:Object(u.logTech)("scroll-end",Object(h.addCounterParams)(a,p))}},nodeRef:this.sidebarNode,behavioralDirectRef:this.behavioralDirectRef,onTagClick:this.onTagClick,onRelatedItemClick:this.onRelatedItemClick,onLog:this.logTechCounter})},t.prototype.tryUpdateDirect=function(){this.directStripe.current&&this.directStripe.current.renderDirect(),this.behavioralDirectRef.current&&this.behavioralDirectRef.current.renderDirect()},t.prototype.shouldShowContextDirectStripe=function(){var e=this.props,t=e.directSnippetStripeEnabled,n=e.directSnippetShown,r=this.props.config.directSnippetParams;return Boolean(t&&n&&r)},t.prototype.shouldShowBehaviouralDirectStripe=function(){var e=this.props,t=e.directStripeEnabled,n=e.directSnippetStripeEnabled,r=e.directSnippetShown,o=e.directSnippetStripeLoading;if(n&&(r||o))return!1;var i=this.props.config.directStripeParams;return Boolean(t&&i)},t.prototype.shouldShowDirecStripeStub=function(){var e=this.props,t=e.directStripeEnabled,n=e.directSnippetStripeEnabled,r=e.directSnippetStripeLoading,o=this.props.config.directSnippetParams;return Boolean(n&&r&&t&&o)},t.prototype.onTagClick=function(e,t){2===e.which||e.metaKey||e.ctrlKey||Object(p.a)().emit("location:change",{event:e,url:t})},t.prototype.getDirectStripeId=function(){var e=this.props.config.directStripeParams;return e?this.props.isPornoQuery?e.directIdAdult||"":e.directId:""},t.prototype.renderFooter=function(){var e=this.props,t=e.config,n=e.experiments,r=void 0===n?{}:n,i=t.directStripeParams,a=r.imagesMarketBagesNew,s=this.getActiveItemParams(),c=this.state.showCbirCrop,u=this.shouldShowContextDirectStripe(),l=this.shouldShowBehaviouralDirectStripe(),d=this.shouldShowDirecStripeStub(),p=i&&i.mod;return o.a.createElement(o.a.Fragment,null,c&&o.a.createElement(y.TrimmerControls,{closeEvent:this.onCbirCropEvent,onSearchClick:this.onCbirCropSearchEvent,target:"_self",imageRef:this.imageRef,imagesCbirSearchUrl:this.props.config.imagesCbirSearchUrl}),o.a.createElement("div",{className:F("FooterContent",{hidden:c})},u&&o.a.createElement(M.MMDirectSnippet,{type:"stripe",className:F("DirectSnippetStripe")}),l&&o.a.createElement("div",{className:F("DirectStripeContainer",{mod:p})},o.a.createElement(P.MMDirectStripeWithContext,{directId:this.getDirectStripeId(),yandexuid:this.props.yandexuid,text:this.props.query,onClick:this.onDirectStripeClick,onRender:this.onDirectStripeShow,onHide:this.onDirectStripeHide,reqid:s.reqid||"",className:F("DirectStripe",{mod:p}),ref:this.directStripe})),d&&o.a.createElement("div",{className:F("DirectStripeContainer",{mod:p})}),o.a.createElement(B,{className:Object(w.cnMMGallery)({newMarketBadge:a,unfocused:void 0!==this.props.rimSelectedIdx}),forwardRef:this.gallery,selectedIdx:this.state.activeItemIdx,fixedPositionOnUpdate:!0,edgeCentered:"left",onClick:this.onGalleryClick,onScroll:this.onGalleryScroll,autoScroll:w.MMGalleryAutoScroll.fijiStyle},this.props.items.map(function(e){return Object(g.imageThumbRenderer)(e,{})}))))},t.prototype.previewSave=function(e){var t=this.getItemParamsByIdx(e);this.logTechCounter({method:"hitDelayed",__oldCounter__:D({path:"save",params:{vars:{"-pos":e}},reqid:t.reqid||""})})},t.prototype.onWheel=function(e){var t=this.gallery.current&&this.gallery.current.node;if(!(t&&t.current&&t.current.contains(e.target))){var n=this.sidebarNode.current;if(n&&!n.contains(e.target)){var r=Math.abs(e.deltaX)>Math.abs(e.deltaY)||!e.deltaY?e.deltaX:e.deltaY;r&&(e.deltaMode>0&&(r*=16),n.scrollTop+=r)}}},t.prototype.onOpenItem=function(e){if(!(e.activeIdx<0)){this.open(e.activeIdx);var t=this.getItemParamsByIdx(e.activeIdx);this.triggerSelectItemEvent(t,{openedFromSerp:!e.initialLoading&&!e.historyLoading,initialLoading:Boolean(e.initialLoading),historyLoading:Boolean(e.historyLoading)})}},t.prototype.onNewItemSelected=function(e){var t=this;this.props.setCurrentItemIdx(e),this.state.showCbirCrop&&this.cbirCropClose(),this.state.activeItemIdx!==e&&this.setState({activeItemIdx:e},function(){var e=t.getActiveItemParams();t.triggerSelectItemEvent(e)})},t.prototype.triggerSelectItemEvent=function(e,t){e&&Object(p.a)().emit(E.selectItem,{itemParams:e,initialLoading:Boolean(t&&t.initialLoading),historyLoading:Boolean(t&&t.openedFromSerp),openedFromSerp:Boolean(t&&t.openedFromSerp)})},t.prototype.onGalleryScroll=function(){this.loadNextPageIfNeeded()},t.prototype.onFullscreenEnter=function(){this.isFullscreenMode=!0,this.hitFullscreenCounter("open"),Object(p.a)().emit(E.fullscreenEnter)},t.prototype.onFullscreenExit=function(){this.isFullscreenMode=!1,this.hitFullscreenCounter("close"),Object(p.a)().emit(E.fullscreenExit)},t.prototype.onFullscreenTitleClick=function(){this.onFullscreenTitleDomainClick("/image/new/preview/site")},t.prototype.onFullscreenDomainClick=function(){this.onFullscreenTitleDomainClick("/image/new/preview/duplicates/url")},t.prototype.onFullscreenTitleDomainClick=function(e){var t=this.props.reqid,n=this.getActiveItemParams(),r=n.isMarketIncut,o=n.pos,i=n.commercialSource,a=n.snippet,s=r?"/commercial/"+i:"";this.logTechCounter({method:"hitDelayed",__oldCounter__:{dtype:"iweb",redirUrl:a.url,path:""+e+s,pos:s?o:"",vars:{"-pos":o},reqid:n.reqid||t||""},node:{href:a.redirUrl}})},t.prototype.onFullscreenStartAutoplay=function(){this.hitSlideshowCounter("play")},t.prototype.onFullscreenStopAutoplay=function(){this.hitSlideshowCounter("stop")},t.prototype.onGlobalDragStart=function(e){var t=e.target;t&&("IMG"===t.tagName||t.firstElementChild&&"IMG"===t.firstElementChild.tagName)?this.setState({globalDragging:!0}):(e.stopPropagation(),e.preventDefault())},t.prototype.onGlobalDragEnd=function(){this.setState({globalDragging:!1})},t.prototype.onTrimmerStart=function(e){this.hitTrimmerCounter("",{},{href:e})},t.prototype.onTrimmerChange=function(e,t,n){var r={"-crop":encodeURIComponent([e.point1.x,e.point1.y,e.point2.x,e.point2.y].join(";"))};this.hitTrimmerCounter(t,r,{href:n})},t.prototype.hitFullscreenCounter=function(e){var t=this.getActiveItemParams();this.logTechCounter({method:"hitDelayed",__oldCounter__:{dtype:"iweb",path:"/image/new/fullscreen/"+e,reqid:t.reqid||""}})},t.prototype.hitSlideshowCounter=function(e){var t=this.getActiveItemParams(),n={};t&&(n["-pos"]=t.pos),this.logTechCounter({method:"hitDelayed",__oldCounter__:{dtype:"iweb",vars:n,path:"/image/new/preview/slideshow/"+e,reqid:t.reqid||""}})},t.prototype.hitTrimmerCounter=function(e,t,n){var r=this.getActiveItemParams(),o=N({},t||{});r&&(o["-pos"]=r.pos),this.logTechCounter({method:"hitDelayed",__oldCounter__:{dtype:"iweb",vars:o,path:"/image/new/preview/similar"+(e?"/"+e:""),reqid:r.reqid||""},node:n})},t.prototype.loadNextPageIfNeeded=function(){if(this.gallery.current){var e=this.gallery.current.getScrollPosition();if(e)e.rightEdgeOffset<e.currentPosition+this.galleryItemsLoadEventOffset&&Object(p.a)().emit(E.listOut)}},t.prototype.getActiveItemParams=function(){return this.getItemParamsByIdx(this.state.activeItemIdx)},t.prototype.getItemParamsByIdx=function(e){return this.props.items[e]||{}},t.prototype.onRelatedItemClick=function(e,t){if(this.props.rimSelectedIdx!==e){var n=this.getActiveItemParams(),r=N({},t,{isRim:!0,parentPos:n&&n.pos});Object(p.a)().emit(E.rimClick,r)}},t.prototype.logTechCounter=function(e){e&&this.props.logTech&&this.props.logTech(e)},t.prototype.sendPrevCounter=function(e,t,n){e!==this.state.activeItemIdx&&this.sendDirectionCounter(e,"prev",n)},t.prototype.sendNextCounter=function(e,t,n){e!==this.state.activeItemIdx&&this.sendDirectionCounter(e,"next",n)},t.prototype.sendDirectionCounter=function(e,t,n){var r=this.getItemParamsByIdx(e);if(r&&e!==this.state.activeItemIdx){this.isFullscreenMode&&!n&&(n="slideshow");var o=r.preview,i=r.isMarketIncut,a=r.commercialSource||"market",s=i?"/commercial/"+a:"",c=i?"commercial/"+a:r.freshness,u={"-pos":r.pos};if("keyboard"===n||"slideshow"===n)return u["-direction"]=t,void this.logTechCounter({method:"hitDelayed",__oldCounter__:{dtype:"iweb",path:"/image/new/serp/results/"+n+"/"+c,pos:u["-pos"],vars:u,reqid:r.reqid},node:{href:o[0].url}});this.logTechCounter({method:"hitDelayed",__oldCounter__:{dtype:"iweb",path:"/image/new/preview/"+t+"/mouse"+s,vars:u,reqid:r.reqid},node:{href:o[0].url}})}},t.prototype.onCbirCropEvent=function(e){this.state.showCbirCrop&&this.hitTrimmerCounter("cancel"),Object(p.a)().emit(E.cbirCrop),this.setState({showCbirCrop:!this.state.showCbirCrop}),e.stopPropagation()},t.prototype.onCbirCropSearchEvent=function(){this.hitTrimmerCounter("crop")},t.prototype.cbirCropClose=function(){this.setState({showCbirCrop:!1})},t.prototype.onCloseEventKeyboard=function(e){this.isFullscreenMode||this.onCloseEvent("keyboard",e)},t.prototype.onCloseEventHistory=function(){this.onCloseEvent("history")},t.prototype.onCloseEvent=function(){if(this.state.isVisible){var e=this.getActiveItemParams(),t=L(arguments,2),n=t[0],r=t[1];if(Object(p.a)().emit(E.beforeClose,{source:n}),this.setState({isVisible:!1,activeItemIdx:-1}),this.state.showCbirCrop&&this.cbirCropClose(),Object(p.a)().emit(E.close),"string"===typeof n&&("mouse"===n||"keyboard"===n||"paranja"===n)){var o={"-place":n};"paranja"===n&&(o["-x"]=r.clientX,o["-y"]=r.clientY,o["-screenW"]=window.innerWidth,o["-screenH"]=window.innerHeight),this.logTechCounter({method:"hitDelayed",__oldCounter__:D({path:"close",params:{vars:o},reqid:e.reqid||""})})}}},t.prototype.onPreviewShowEvent=function(e,t){},t.prototype.onGalleryClick=function(e){var t=this.getItemParamsByIdx(e);this.logTechCounter({method:"hitDelayed",__oldCounter__:{dtype:"iweb",path:"/image/new/serp/results/"+t.counterPath,pos:e,vars:{"-click_source":"preview"},reqid:t.reqid},node:{href:t.imgHref}}),this.viewer.current&&this.viewer.current.switchToItem(e)},t.prototype.onDirectStripeShow=function(){var e=this.getActiveItemParams();this.logTechCounter({method:"hitDelayed",__oldCounter__:{dtype:"iweb",path:"/image/new/preview/commercial/show/direct",vars:{"-type":"stripe","-page":e.page,"-pos":e.pos,"-row":e.row,"-col":e.col},reqid:e.reqid||""}})},t.prototype.onDirectStripeClick=function(){var e=this.getActiveItemParams();this.logTechCounter({method:"hitDelayed",__oldCounter__:{dtype:"iweb",path:"/image/new/preview/commercial/click/direct",vars:{"-type":"stripe","-pos":e.pos,"-row":e.row,"-col":e.col,"-page":e.page},reqid:e.reqid||""}})},t.prototype.onDirectStripeHide=function(){var e=this.getActiveItemParams();this.logTechCounter({method:"hitDelayed",__oldCounter__:{dtype:"iweb",path:"/image/new/preview/commercial/hide/direct",vars:{"-type":"stripe","-pos":e.pos,"-row":e.row,"-col":e.col,"-page":e.page},reqid:e.reqid||""}})},t}(o.a.Component),H=function(){return(H=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},q=Object(u.withBaobab)({name:"ImagesViewer",events:{logTech:Object(u.logTech)("",function(e,t){return t[0]})}})(z),V=Object(h.naiveMemoiseOne)(function(e){return function(t){return e(Object(c.setCurrentItemIdx)(t))}}),G=Object(a.withImageContext)(function(e,t,n){var r=e.globalContext,o=Object(h.getDirectDataForCurrentImage)(e),i=n.experiments&&n.experiments.directSnippetStripeDisabled;return{tld:e.globalContext.tld,yandexuid:e.globalContext.yandexuid,rimSelectedIdx:e.rimSelectedIdx,reqid:e.globalContext.reqid,query:e.globalContext.query,items:e.images,shownImage:Object(h.getShownImageData)(e),isPornoQuery:Boolean(r.isQueryPorn),directStripeEnabled:Object(h.isDirectStripeEnabled)(e),directSnippetStripeEnabled:Object(h.isDirectSnippetEnabled)(e)&&!i,config:e.config,setCurrentItemIdx:V(t),directSnippetShown:Boolean(o),directSnippetStripeLoading:void 0===o,experiments:n.experiments}})(function(e){return o.a.createElement(f.CountersProvider,{value:e.counters},o.a.createElement(q,H({},e)))}),W=n(3),Y=n(81),K=n(298),X=n(6),Q=n.n(X),Z=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},J=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Z(arguments[t]));return e},$=function(){function e(){}return e.show=function(e){window.Ya.reactBus.emit("feedback:show",{urls:function(e){var t,n=((t={})[ee(e.preview[0])]=!0,t);e.imgHref&&(n[e.imgHref]=!0);return J(e.dups,e.preview).forEach(function(e){n[ee(e)]=!0}),Object.keys(n)}(e)})},e}();function ee(e){return e.origin?e.origin.url:e.url}var te=n(85),ne=(n(778),Q()(te)),re=Object(m.cn)("MMComplainButton"),oe=Object(u.withBaobab)({name:"complain-button",events:{onClick:Object(u.logClick)()}})(function(e){var t=ne("Пожаловаться",{context:"Надпись на кнопке позволяющей пожаловаться на содержимое страницы или конкретную картинку"}),n=o.a.useCallback(function(){return $.show(e.item)},[e.item]);return o.a.createElement("button",{className:re(),onClick:n,title:t},t)}),ie=n(299),ae=n.n(ie),se=n(64),ce=n(236),ue=n(94),le=n(237),de=function(){return(de=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},pe=Q()(te);function fe(e){return Number(window&&window.sessionStorage&&window.sessionStorage.getItem(e))||0}function he(e,t){return void 0===t&&(t=1),fe(e)<t}function me(){return encodeURIComponent(window.location.href)}function ve(e,t){return"https://passport.yandex."+e+"/auth?retpath="+me()+"&origin="+t}function ge(e,t){return"https://passport.yandex."+e+"/registration?retpath="+me()+"&origin="+t}var ye=function(){return(ye=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},be=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},we=Q()(te),Me="openImagePopupShown";var Ce,Se=(Ce=le.OpenImageButton,function(e){var t=be(e,[]),n=t,r=o.a.useCallback(function(e,n,r){e.preventDefault(),e.stopPropagation(),t.isOpenImageUnauthPopupEnabled&&t.showUnauthPopup&&t.showUnauthPopup(e,Me,{loginUrl:ve(t.tld||"ru","images_viewer_open_image"),registrationUrl:void 0,skipUrl:n,skipText:we("Не сейчас",{context:"Кнопка отказа от залогина на сервисе. Кнопка закрывает попап."}),baobabLogOnClose:"object"===typeof r?r:void 0,onCloseClick:function(o){t.isOpenImageUnauthPopupEnabled&&(window.open(n,"_blank"),"function"===typeof r&&r(e),o&&(o.preventDefault(),o.stopPropagation()))}})},[t]);return t.isOpenImageUnauthPopupEnabled&&t.showUnauthPopup&&(n=ye({},n,{onOpenButtonClick:r,onSizeClick:r})),o.a.createElement(Ce,ye({},n))}),Oe=function(){return(Oe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},_e=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},Pe="openSimilarShown";var Ie=function(e){return function(t){var n=_e(t,[]),r=n.isSimilarUnauthPopupEnabled,i=n.showUnauthPopup,a=n.tld,s=void 0===a?"ru":a,c=o.a.useCallback(function(e){var t="images_viewer_similar";r&&i&&i(e,Pe,{loginUrl:ve(s,t),registrationUrl:ge(s,t)})},[r,i,s]);return r&&i?o.a.createElement("div",{onClick:c},o.a.createElement(e,Oe({},n))):o.a.createElement(e,Oe({},n))}}(n(238).MMSearchByImage),Ee=n(42),ke=function(){return(ke=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},De=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},je=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Te=ae()({loader:function(){return n.e(53).then(n.t.bind(null,1240,7))},loading:function(){return null},render:function(e,t){var n=e.MMUnauthPopup;return o.a.createElement(n,ke({logNode:"object"===typeof t.baobabLogOnClose?{events:{onCloseClick:t.baobabLogOnClose}}:void 0},t))}});var xe=Object(i.compose)(Object(a.withImageContext)(ue.stateToProps),Object(se.withDefinedProps)(["image"]),function(e){return function(t){var n=De(t,[]),r=!n.loggedIn&&!n.isQueryPorn,i=r&&1===n.unauthPopupOpenimageFlag&&he(Me,n.unauthPopupOpenimageFlag),a=r&&0!==n.unauthPopupSimilarFlag&&he(Pe,n.unauthPopupSimilarFlag),s=ke({},n,{isOpenImageUnauthPopupEnabled:i,isSimilarUnauthPopupEnabled:a,isDiskShareUnauthPopupEnabled:!0}),c={visible:!1,loginUrl:"",registrationUrl:"",title:"",text:"",onCloseClick:void 0,skipUrl:"",skipText:"",baobabLogOnClose:void 0},u=je(o.a.useState(c),2),l=u[0],d=u[1],p=o.a.useCallback(function(e){d(c),l.onCloseClick&&l.visible&&l.onCloseClick(e)},[c,l]),f=o.a.useCallback(function(e){l.visible&&e&&27===e.keyCode&&(d(c),e.stopImmediatePropagation())},[c,l.visible]);o.a.useEffect(function(){return l.visible&&document.addEventListener("keydown",f,!0),function(){l.visible&&document.removeEventListener("keydown",f,!0)}},[f,l.visible]);var h=o.a.useCallback(function(e,t,n){return function(e,t,n,r){window&&window.sessionStorage&&window.sessionStorage.setItem(n,String(fe(n)+1)),t(de({visible:!0,title:pe("Войдите в Яндекс, и поиск станет лучше",{context:"Надпись в попапе, предлагающим авторизоваться или зарегистрироваться"})},r)),e&&e.preventDefault()}(e,d,t,n)},[]);if(r){var m=ke({},s,{showUnauthPopup:h});return Te.preload(),o.a.createElement(o.a.Fragment,null,l.visible&&o.a.createElement(Te,{loginUrl:l.loginUrl,registrationUrl:l.registrationUrl,title:l.title,text:l.text,onCloseClick:p,skipUrl:l.skipUrl,skipText:l.skipText,baobabLogOnClose:l.baobabLogOnClose}),o.a.createElement(e,ke({},m)))}return o.a.createElement(e,ke({},s))}})(ce.MMViewerButtons),Re=n(150),Ne=n(239),Le=o.a.createContext({}),Be=function(){return(Be=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Ae=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},Fe=Q()(te);var Ue=function(e){return function(t){var n=Ae(t,[]),r=o.a.useContext(Le),i=Fe("Мои Яндекс.Картинки",{context:"Название папки на Яндекс.Диске, куда загружаются картинки"}),a=r.imagesViewerShareDiskEnabled;return o.a.createElement(e,Be({},n,{isDiskShareButtonVisible:a,diskShareDirectoryName:i}))}}(Ne.MMShareButton),ze=function(){return(ze=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},He=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},qe=Q()(te),Ve="shareDiskShown";var Ge=function(e){return function(t){var n=He(t,[]),r=n.isDiskShareUnauthPopupEnabled,i=n.showUnauthPopup,a=n.tld,s=void 0===a?"ru":a,c=o.a.useCallback(function(){r&&i&&i(null,Ve,{loginUrl:ve(s,"images_disk"),registrationUrl:ge(s,"images_disk"),title:qe("Войдите в Яндекс, чтобы сохранить картинку",{context:'Надпись в диалоговом окне с логином при клике на кнопку "сохранить на Яндекс.Диск"'})})},[r,i,s]);return o.a.createElement(e,ze({},n,{requestAuthorization:c,isDiskShareButtonVisible:n.isDiskShareButtonVisible}))}}(Ue),We=n(300),Ye=n(110),Ke=new W.Registry({id:Object(Y.cnSidebar)()});Ke.set("MMComplainer",oe),Ke.set("BehavioralDirectSnippet",K.BehavioralDirectSnippet),Ke.set(Object(ue.cnMMViewerButtons)(),xe),Ke.set(Object(Ye.cnMMMarketSnippet)(),We.MarketSnippetWithThemeTop);var Xe=new W.Registry({id:Re.viewerButtonsRegistry.id});Xe.set(Object(ue.cnMMViewerButtons)("OpenImage"),Se),Xe.set(Object(ue.cnMMViewerButtons)("SearchByImage"),Ie),Xe.set(Object(ue.cnMMViewerButtons)("Share"),Ge);var Qe=new W.Registry({id:Re.viewerButtonsRegistry.id}),Ze=Object(Ee.cnMMViewerButtons)("OpenImage");Object.keys(Re.viewerButtonsRegistry.snapshot()).forEach(function(e){e!==Ze&&Qe.set(e,null)});var Je=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$e=function(){return($e=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},et=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Je(t,e),t.prototype.getMethods=function(){return this.handlers?this.handlers:this.handlers={hit:function(e,t){void 0===e&&(e={}),void 0===t&&(t={}),e.cts=e.cts||Date.now(),window.c.hit($e({},e,{vars:Object(h.varsToString)(e.vars||"")}),t)},hitDelayed:function(e,t){void 0===e&&(e={}),void 0===t&&(t={}),e.cts=e.cts||Date.now(),window.c.hitDelayed($e({},e,{vars:Object(h.varsToString)(e.vars||"")}),t)}}},t.prototype.clientAction=function(t){var n=this.getMethods(),r=t.eventData;if(r.data&&r.data.__oldCounter__){var o=r.data,i=o.method,a=o.__oldCounter__,s=o.node;if(this.hrefPrefix){var c=Object(h.varsToObject)(a.vars||"");r.data=$e({},c,{path:a.path}),c["-baobab-event-json"]=encodeURIComponent(JSON.stringify(r)),a.vars=Object(h.varsToString)(c)}var u=n[i];u&&u(a,s)}else e.prototype.clientAction.call(this,t)},t.prototype.sendData=function(){if(this.hrefPrefix){this.events.length<=42&&e.prototype.sendData.call(this);for(var t=this.events;t.length;)this.events=t.splice(0,42),e.prototype.sendData.call(this)}},t}(u.Sender),tt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Je(t,e),t.prototype.createEvent=function(t){var n=e.prototype.createEvent.call(this,t),r=t.component.props.counter;return r&&(n.data=r),n},t}(u.Logger);n.d(t,"a",function(){return ut});var nt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),rt=function(){return(rt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},ot=["DirectLoaderHighComm","DirectLoaderLowComm","DirectLoaderAdultHighComm","DirectLoaderAdultLowComm"],it=function(e){function t(t){var n=e.call(this,t)||this;n.imageViewerAppRef=o.a.createRef(),n.directLoadersConfig={},n.reportedBadImages={},n.inited=!1,n.onViewerStateChange=n.props.integrateState?function(e,t){window.Ya.Images.onViewerStateChange&&window.Ya.Images.onViewerStateChange(e,t)}:void 0,n.onUpdateImages=n.onUpdateImages.bind(n),n.setImageStoreProvider=n.setImageStoreProvider.bind(n),n.updateGlobalContext=n.updateGlobalContext.bind(n),n.getBadImageReporter=n.getBadImageReporter.bind(n),d.a&&Object(p.a)().emit("i-global:get-params",n.updateGlobalContext);var r=t.viewerData.config,i=t.viewerData.experiments,a=Number(n.nextContext&&n.nextContext.vcomm),c=Number(i&&i.marketSnippetVcommTreshold);c=isNaN(c)?0:c,a=isNaN(a)?0:a;var u=n.getDirectParamsWithEncryption(r),l=n.getMarketSnippetParamsWithVcomm(r,a,c);return n.props.directAdvMachineMode&&n.props.directAdvMachineMode.split(":").forEach(function(e,t){"1"===e&&(n.directLoadersConfig[ot[t]]=s.MMDirectLoader)}),n.state={initialImageStoreState:{images:[],config:rt({},r,{directSnippetParams:u,marketSnippetParams:l,imagesLoadingParams:rt({},r.imagesLoadingParams,{onImageError:n.getBadImageReporter("2055"),onImageFileSizeError:n.getBadImageReporter("73007"),onImageSizeError:n.getBadImageReporter("72681")})}),loadedPagesCount:1,currentItemIdx:-1,globalContext:rt({tld:"ru",query:"",yandexuid:"",lr:0,reqid:"",lang:""},n.nextContext)}},n}return nt(t,e),t.prototype.componentDidMount=function(){Object(p.a)().on("i-global:update",this.updateGlobalContext).on(l.ImagesViewerEvents.fill,this.onUpdateImages),Object(p.a)().emit(l.ImagesViewerEvents.mounted)},t.prototype.componentWillUnmount=function(){Object(p.a)().off("i-global:update",this.updateGlobalContext).off(l.ImagesViewerEvents.fill,this.onUpdateImages)},t.prototype.getDirectParamsWithEncryption=function(e){var t=e.directSnippetParams;if(t)return rt({},t,{encryptUrl:this.isEncryptionConfigAvailable()?this.encryptCountUrl:void 0,makeShowCounterRequest:this.makeShowCounterRequest})},t.prototype.getMarketSnippetParamsWithVcomm=function(e,t,n){var r=e.marketSnippetParams,o=r&&r.theme;return("top"!==o||t<=n)&&(o=void 0),rt({},r,{theme:o})},t.prototype.onUpdateImages=function(e,t){var n=this.imageStoreProvider;n&&(t?n.dispatch(Object(c.setImagesByPos)(e)):n.dispatch(Object(c.addImagesByPos)(e)))},t.prototype.updateGlobalContext=function(e){var t=this.imageStoreProvider,n={tld:e.tld,query:e.query,yandexuid:e.yandexuid,lr:Number(e.lr),reqid:e.reqid,lang:e.lang,isQueryPorn:Boolean(e.isPornoQuery),cm2:Number(e.cm2),vcomm:Number(e.vcomm)};t?t.dispatch(Object(c.updateContext)(n)):this.nextContext||(this.nextContext=n)},t.prototype.isEncryptionConfigAvailable=function(){if(!d.a)return!1;var e=BEM.blocks["direct-utils"];return e&&e.isConfigAvailable()},t.prototype.encryptCountUrl=function(e){var t=BEM.blocks["direct-utils"],n=t.encryptUrl(e);return t.addTestTag(n)},t.prototype.makeShowCounterRequest=function(e,t,n){var r=document.createElement("script"),o=function(){t(),n()};r.onload=o,r.onerror=o,r.src=e,document.body.appendChild(r)},t.prototype.getBadImageReporter=function(e){var t=this;return function(n){t.reportedBadImages[n]||(t.reportedBadImages[n]=!0,window.Ya.Images.errcnt({src:n},e))}},t.prototype.render=function(){if(!d.a||!this.state||!this.state.initialImageStoreState)return null;var e=this.props;return o.a.createElement(a.ImageStoreProvider,rt({forwardRef:this.setImageStoreProvider},this.directLoadersConfig,{initialState:this.state.initialImageStoreState,onStateChange:this.onViewerStateChange}),o.a.createElement(Le.Provider,{value:this.props.viewerData.experiments||{}},o.a.createElement(G,rt({},e.viewerData,{onLog:this.props.onLog}))))},t.prototype.setImageStoreProvider=function(e){this.imageStoreProvider=e,this.props.integrateState&&(window.Ya.Images.getViewerState=e?function(){return e.getState()}:void 0)},t}(o.a.Component),at=Object(i.compose)(Object(u.withBaobabRoot)({name:"$page",attrs:{service:"images",ui:"desktop"},events:{onLog:Object(u.logClick)(function(e,t){return t[0]})}},tt,et),function(e){return function(t){var n=o.a.useMemo(function(){return t.isPumpkin?Object(W.withRegistry)(Qe)(e):Object(W.withRegistry)(Ke,Xe)(e)},[t.isPumpkin]);return o.a.createElement(n,t)}})(it),st="/clck/jclck",ct="/*//",ut=function(e){return o.a.createElement(at,rt({baobab:{ui:e.ui,service:e.service,prefix:e.reqid,senderParams:{hrefPrefix:e.trueBaobab?st:"",hrefPostfix:ct}}},e))}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=n(4),c=n(105),u=n(375),l=n(273),d=n(393),p=n(401);n(402);var f=s.cn("MMImage"),h=f("Spinner"),m=f("Origin"),v=f("Preview"),g=s.cn("MMImageContainer"),y=s.cn("MMImageThumb"),b=s.cn("MMImageWrapper"),w=b("Trimmer"),M=b("CropObjects"),C=b("CropObjects-Item"),S=function(e){function t(t){var n=e.call(this,t)||this;n.currentImageInViewer="",n.startLoadTime=Date.now(),n.isComponentMounted=!1,n.loadedImagesMap={},n.imageRef=a.createRef(),n.wrapper=a.createRef(),n.container=a.createRef(),n.onContextMenu=n.onContextMenu.bind(n),n.onPreviewLoaded=n.onPreviewLoaded.bind(n),n.getCurrentImageUrl=n.getCurrentImageUrl.bind(n),n.saveTrimmerArea=n.saveTrimmerArea.bind(n),n.onResizeThrottleHandler=c.throttle(n.onResizeHandler.bind(n),50,{delayedLastCall:!0});var r=1+(n.props.squareDiffPercent||0)/100;return n.geom=n.getGeometryParams(p.getThumbsParam(t.item)),n.smartFitBounds={upperBound:r,lowerBound:1/r},n}return o(t,e),t.prototype.componentDidMount=function(){this.isComponentMounted=!0,this.geom=this.getGeometryParams(p.getThumbsParam(this.props.item)),window.addEventListener("resize",this.onResizeThrottleHandler)},t.prototype.componentWillUnmount=function(){this.isComponentMounted=!1,window.removeEventListener("resize",this.onResizeThrottleHandler)},t.prototype.componentDidUpdate=function(e){this.props.hasTrimmer!==e.hasTrimmer&&this.onResizeHandler()},t.prototype.shouldComponentUpdate=function(e){return e.item!==this.props.item&&this.updateGeometry(e.item),!0},t.prototype.render=function(){var e=this.props,t=e.item,n=e.hasTrimmer,r=e.onPreviewSave,o=p.getThumbsParam(t),i=!t.loadedImage,s=t.loadedImage&&t.loadedImage.data,c=this.geom,l=this.currentImageInViewer=o&&o.url;!n&&this.trimmerArea&&delete this.trimmerArea;var f,y=(s||t.thumb).url,S=s&&s.origin,O=this.imageRef.current;O&&(s?f=this.onPreviewLoaded:O.style.width=!c.smartFit&&c.width?c.width+"px":"",this.shownData!==t&&(O.src=t.thumb.url),O.style.maxHeight=c.maxHeight?c.maxHeight+"px":"");var _=y;if(!i){var P=p.isFirefox&&this.getCurrentImageOriginUrl();P&&(_=P)}return this.handleImageShow(t,s),a.createElement("div",{className:b(),ref:this.wrapper},a.createElement("div",{className:g({fit:c.smartFit,hasTrimmer:n}),ref:this.container},n&&a.createElement(d.Trimmer,{className:w,cropObjectsWrapperClassName:M,cropObjectsClassName:C,imageHref:l,imageId:t.rimid,saveTrimmerArea:this.saveTrimmerArea}),Boolean(c.maxHeight)&&a.createElement("img",{className:v,src:y,onContextMenuCapture:!(S&&S.url)&&r||void 0,ref:this.imageRef,onClick:this.props.onClick,onLoad:f})),i&&a.createElement(u.SpinnerSizeM,{className:h}),a.createElement("img",{className:m,onContextMenuCapture:this.onContextMenu,src:_||y,onClick:this.props.onClick}))},t.prototype.onPreviewLoaded=function(){var e=this.imageRef.current;e&&(e.style.height="",e.style.width="")},t.prototype.getTrimmerArea=function(){return this.trimmerArea},t.prototype.getCurrentImageUrl=function(){return this.currentImageInViewer},t.prototype.onResizeHandler=function(){this.isComponentMounted&&this.updateGeometry(this.props.item)&&this.forceUpdate()},t.prototype.updateGeometry=function(e){var t=this.geom,n=t.smartFit,r=t.maxHeight,o=t.width,i=this.getGeometryParams(p.getThumbsParam(e)),a=i.smartFit,s=i.maxHeight,c=i.width;return(n!==a||r!==s||o!==c||!this.getCurrentLoadedThumb()&&this.geom.height!==i.height)&&(this.geom=i,!0)},t.prototype.getDimensionsRatio=function(e,t){return e.w/e.h/(t.w/t.h)},t.prototype.isImageCloseToViewport=function(e,t,n){return!(e.w<t.w||e.h<t.h)&&(n>=this.smartFitBounds.lowerBound&&n<=this.smartFitBounds.upperBound)},t.prototype.shouldUseSmartFit=function(e,t,n){return p.isObjectFitSupported&&this.isImageCloseToViewport(e,t,n)},t.prototype.getGeometryParams=function(e){var t=this.wrapper.current;if(!t||!e)return{};var n={w:t&&t.clientWidth||0,h:t&&t.clientHeight||0},r={w:e.w||1,h:e.h||1},o=!1,i=this.getDimensionsRatio(n,e);this.props.squareDiffPercent&&(o=this.shouldUseSmartFit(e,n,i));var a=r.h||1;!o&&i<1&&n.h<e.h&&(a=i*n.h);var s=n.h;return{width:s>a?r.w:r.w/a*s,height:a,smartFit:o,maxHeight:n.h}},t.prototype.getOriginUrlFromItem=function(e){return e&&e.origin&&e.origin.url},t.prototype.onContextMenu=function(e){var t=e.target,n=this.getCurrentImageOriginUrl();t&&n&&t.setAttribute("src",n),this.props.onPreviewSave&&this.props.onPreviewSave()},t.prototype.handleImageShow=function(e,t){this.shownData!==e&&(this.startLoadTime=Date.now(),this.shownData=e,this.shownImage=void 0),t&&this.shownImage!==t&&(this.shownImage=t,this.onOriginShow(t))},t.prototype.getCurrentLoadedThumb=function(){var e=this.props.item.loadedImage;return e&&e.data||void 0},t.prototype.getCurrentImageOriginUrl=function(){var e=this.getOriginUrlFromItem(this.getCurrentLoadedThumb());if(!e){var t=this.props.item;e=this.getOriginUrlFromItem(t.preview&&t.preview[0])||this.getOriginUrlFromItem(t.dups&&t.dups[0])}return e},t.prototype.saveTrimmerArea=function(e,t){var n="",r=this.getCurrentLoadedThumb();r&&(n=r.url),!this.trimmerArea&&this.props.onTrimmerStart?this.props.onTrimmerStart(n):this.props.onTrimmerChange&&this.props.onTrimmerChange(e,t,n),this.trimmerArea=e},t.prototype.onOriginShow=function(e){var t,n=this,r=this.props.item,o=Number(r.pos||0);this.shownImage=this.getCurrentLoadedThumb(),e&&(t={url:e.url,w:String(e.w),h:String(e.h),loadTime:Number(e.loadTime),usertime:String(Date.now()-this.startLoadTime),isMixedImage:Boolean(e.isMixedImage),isRim:r.isRim,rimid:r.rimid,rim_index:r.pos,origin:e.origin}),setTimeout(function(){n.props.onPreviewShow&&t&&n.props.onPreviewShow(o,t),n.props.onShow&&t&&n.props.onShow(o,t)},0)},t.defaultProps={squareDiffPercent:25},t}(a.Component);function O(e){var t=e.item;return a.createElement("div",{className:y({hasMarketData:Boolean(t.marketSnippet)}),style:{backgroundImage:"url("+t.thumb.url+")"}})}t.MMImage=S,t.ImageThumb=O,t.getImageRenderer=function(e){return function(t,n){if(!t)return null;var r=t.loadedImage,o=t.snippet,s=Boolean(r);return a.createElement(a.Fragment,null,a.createElement(S,i({item:t,ref:n.imageRef},n,e)),n.hasFullscreen&&a.createElement(l.FullscreenControls,{isLoaded:s,title:o.title,domain:o.domain,url:o.redirUrl||o.url,nextItemHandler:n.switchNext,prevItemHandler:n.switchPrev,onExit:n.onFullscreenExit,onTitleClick:n.onFullscreenTitleClick,onDomainClick:n.onFullscreenDomainClick,onStartAutoplay:n.onFullscreenStartAutoplay,onStopAutoplay:n.onFullscreenStopAutoplay}))}},t.imageThumbRenderer=function(e,t){return e?a.createElement(O,{key:e.id,item:e}):null}},function(e,t,n){"use strict";t.__esModule=!0,n(29),n(311),n(312),n(313),n(30),t.theme={color:"yandex-default",size:"legacy-default",capacity:"legacy-default",space:"legacy-default",cosmetic:"default"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(211),i=n(222),a=n(156),s=n(263),c=n(7),u=n(32),l=n(184),d=n(10),p=n(230);t.cnMMOrganicSnippet=p.cnMMOrganicSnippet,n(499),t.MMOrganicSnippet=function(e){var t=e.redirUrl,n=e.url,f=e.text,h=e.domain,m=e.title,v=e.favicon,g=e.pos,y=e.reqid,b=e.commercialPath,w=e.rimPos,M=e.rimid,C={"-pos":g};return"undefined"!==typeof w&&(C["-rim_id"]=M,C["-rim_index"]=w),r.createElement(u.CountersConsumer,null,function(e){return r.createElement("div",{className:p.cnMMOrganicSnippet()},r.createElement(o.Link,{className:p.cnMMOrganicSnippet("Title",[s.cnMMSidebarSectionTitle]),url:t,key:g,logNode:{name:"title",events:{onClick:c.logClick(d.addCounterParams(e.organic.title,C,{path:""+d.getCounterPath(e.organic.title)+b,redirUrl:n,pos:b?g:"",reqid:y},{href:t}))}}},r.createElement(a.Markup,null,m)),r.createElement(i.Path,{className:p.cnMMOrganicSnippet("Path"),favicon:v?r.createElement(l.MMFavicon,{favicon:v}):void 0,items:[{url:t,text:h,counter:d.addCounterParams(e.organic.path,C,{path:""+d.getCounterPath(e.organic.path)+b,redirUrl:n,pos:b?g:"",reqid:y},{href:t})}]}),r.createElement("div",{className:p.cnMMOrganicSnippet("Text")},r.createElement(a.Markup,null,f)))})}},,,function(e,t,n){"use strict";function r(e){return Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(String(e[t]))}).join("&")}Object.defineProperty(t,"__esModule",{value:!0}),t.stringifyUrlParams=r,t.appendQueryString=function(e,t){var n=r(t);return 0===n.length?e:e.indexOf("?")>-1?e+"&"+n:e+"?"+n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(206);t.shouldSendCredentials=function(e,t){return!(!t||"omit"===t)&&("include"===t||r.getOrigin(e)===r.getOrigin(window.location))}},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4);t.cnImageStore=r.cn("MMImageStore")},,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(81);n(498),t.cnMMSidebarSectionTitle=r.cnSidebar("SectionTitle")},,,function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var s=n(31),c=n(148),u=n(10),l=n(191),d=n(362);t.DEFAULT_DIRECT_BASE_URL="https://bs.yandex.ru/page/",t.DEFAULT_PAGE_ID="253184";var p=["url","title","body","domain","warning","age","path"],f=90,h=function(e){function n(n){var r=n.storeGetter,o=n.storeSetter,s=a(n,["storeGetter","storeSetter"]),c=e.call(this,{storeGetter:r,storeSetter:o})||this;c.uniqueHandler=!0,c.maxCalloutsLength=f,c.params=i({useJsonp:!1},s,{url:t.DEFAULT_DIRECT_BASE_URL,pageId:s.pageId||t.DEFAULT_PAGE_ID}),c.adsFieldsList=p.slice(),s.isWorkingTimeEnabled&&p.push("workingTime"),s.isRegionEnabled&&p.push("region","metro");var u=window.location,l=u.protocol,d=u.search;return c.targetRef=encodeURI(l+"//images.yandex."+s.tld+"/search"+d),c}return o(n,e),n.prototype.updateParams=function(e){this.params=Object.assign(this.params,e)},n.prototype.load=function(t,n){if(void 0===n&&(n={}),this.canLoadItem(t)){if(n.callback||!this.params.emptyResponseFallbackPageId||t.retryIndex)return e.prototype.load.call(this,t,n);e.prototype.load.call(this,t,i({},n,{callback:this.getRetryHandler(t,n)}))}},n.prototype.precache=function(t,n){var r=this,o=n?n.slice():[];if(this.params.emptyResponseFallbackPageId&&t.forEach(function(e,t){var n=o[t]||(o[t]={});e.retryIndex||(n.callback=r.getRetryHandler(e,{}))}),this.params.useTagsTitle){var i=t.filter(function(e){return r.canLoadItem(e)});e.prototype.precache.call(this,i,o)}else e.prototype.precache.call(this,t,o)},n.prototype.getRetryHandler=function(t,n){var r=this;return function(o){if((!o.data||!o.data.length)&&!t.retryIndex&&r.params.emptyResponseFallbackPageId){var a=i({},t,{retryIndex:1,text:r.params.query,pageId:r.params.emptyResponseFallbackPageId});r.setInStore(r.getItemID(a),void 0),e.prototype.load.call(r,a,i({},n,{preempt:!0,callback:function(e){!r.params.saveTrafficOnFallback||e.data&&e.data[0]||delete r.params.emptyResponseFallbackPageId,r.setInStore(r.getItemID(t),e)}}))}}},n.prototype.canLoadItem=function(e){return!this.params.useTagsTitle||!e.rimid||Boolean(e.tags)},n.prototype.getItemID=function(e){return u.getDirectItemID(e,this.params)||""},n.prototype.getFullUrlParams=function(e){var t=this.params,n=e.text||u.getDirectRequestText(e,this.params),r={"target-ref":this.targetRef,"tune-region-id":t.region,charset:"utf-8",text:n};t.experimentId&&(r["experiment-id"]=t.experimentId),t.pageReqid&&(r.reqid=t.pageReqid),t.enableFlatHighlight&&(r["enable-flat-highlight"]="1");var o=this.getImpId(e);return o&&(r["imp-id"]=o),r},n.prototype.getCountUrl=function(e,t){return""+e+t},n.prototype.extractResponseData=function(e){var t=d.ExtractMMDirectResponseData(e);return[this.convertDirectData(t)]},n.prototype.convertDirectData=function(e){var t,n,r=this;if(!e||e.error||!e.common)return[];var o=this.params.encryptUrl;return e.premium&&e.premium.ads&&e.premium.ads[0]?(t="premium",n=e.premium):(t="direct",n=e.direct),n&&n.ads&&n.ads.length?n.ads.map(function(n){var i=e.common&&(e.common.linkHead||e.common.link_head)||"",a=n.linkTail||n.link_tail,s=n.path_url||"",u=n.vcardUrl||n.vcard_url||"",l=r.getCountUrl(i,a),d=n.punyDomain||n.fav_domain,f=n.workingTime||n.working_time,h=o&&o(l),m=o&&o(n.url),v=o&&o(s),g=o&&o(u),y=n.telNum||n.phone;y&&(y=c.decodeHTMLEntities(y));var b=r.params.ratingPosition&&n.ratings&&n.ratings.market_rating?Number(n.ratings.market_rating):void 0,w=r.params.isCalloutsEnabled&&n.add_info&&n.add_info.callouts_list,M=w?r.getCallouts(w,r.maxCalloutsLength):void 0,C=n.images&&n.images.length?r.getImageData(n.images):void 0;return p.reduce(function(e,t){return void 0!==n[t]&&(e[t]="url"!==t?c.decodeHTMLEntities(n[t]):n[t]),e},{source:"direct",adType:t,vcardUrl:u,marketRating:b,callouts:M,pathUrl:s,punyDomain:d,telNum:y,workingTime:f,image:C,sitelinks:r.getSitelinks(n.sitelinks),countUrl:l,linkTail:a,linkHead:i,encryptedUrl:m,encryptedPathUrl:v,encryptedCountUrl:h,encryptedVCardUrl:g})},this):[]},n.prototype.getCallouts=function(e,t){for(var n=[],r=0,o=0;o<e.length;o++){var i=c.decodeHTMLEntities(e[o]);if((r+=e[o].length)>t)break;n.push(i)}return n},n.prototype.getImageData=function(e){for(var t,n,r=1/0,o=0,i=0;i<e.length;i++){var a=e[i],s=Number(a[1]),c=Number(a[2]),u=Math.max(s,c);if(90===u)return this.convertImageArrayToObject(a);u>=90&&u<r&&(r=u,t=a),u<90&&u>o&&(o=u,n=a)}return t&&(!n||r<=150)?this.convertImageArrayToObject(t):n&&(!t||6*(90-o)<r-90)?this.convertImageArrayToObject(n):t?this.convertImageArrayToObject(t):void 0},n.prototype.convertImageArrayToObject=function(e){var t=Number(e[1]),n=Number(e[2]),r=Math.max(n,t)/90;return r>1&&(n/=r,t/=r),{width:t,height:n,url:e[0]}},n.prototype.getSitelinks=function(e){var t=this.params.encryptUrl;return e?e.filter(function(e){return Boolean(e.title&&e.url)}).map(function(e){return{url:e.url,title:c.decodeHTMLEntities(e.title),encryptedUrl:t&&t(e.url)}},this):[]},n.prototype.getUrlPathFromPageId=function(e){return String(e.pageId||this.params.pageId).split("-")[0]},n.prototype.getImpId=function(e){return String(e.pageId||this.params.pageId).split("-")[1]},n.prototype.getUrl=function(e){var t=e[0].data;return s.appendQueryString(this.params.url+this.getUrlPathFromPageId(t),this.getFullUrlParams(t))},n}(l.BatchDataLoader);t.MMDirectLoader=h},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(368);!function(e){e[e.timeout=0]="timeout",e[e.error=1]="error",e[e.canceled=2]="canceled"}(o=t.RejectReason||(t.RejectReason={})),t.noop=function(){};var a=function(){function e(e,t){this.startLoadTime=0,this.onResult=e,this.timeout=t&&t.timeout,this.itemTimeout=t&&t.itemTimeout,this.onImageError=t&&t.onImageError}return e.prototype.stop=function(){this.destroyLoaderElement(),this.watchdog&&clearTimeout(this.watchdog),this.onResult=t.noop},e.prototype.startLoading=function(){var e=this;this.startWatchdog(),this.tryLoadNext()||setTimeout(function(){return e.onResult(o.error)},0)},e.prototype.onLoad=function(){var e,t=this.getResultData();this.loader&&this.loader.src&&i.ImageHistoryCache.instance().addToHistory(this.loader.src),t&&!t.loadTime&&(e=r({},t,{loadTime:Date.now()-this.startLoadTime})),this.onResult(void 0,e),this.stop()},e.prototype.onError=function(){this.tryLoadNext()||this.onResult(o.error)},e.prototype.onItemLoadingError=function(){this.onImageError&&this.loader&&this.loader.src&&this.onImageError(this.loader.src),this.onError()},e.prototype.tryLoadNext=function(){var e=this.getUrlFromItem();return this.destroyLoaderElement(),!!e&&(this.createLoaderElement(e),!0)},e.prototype.createLoaderElement=function(e){var t=this;this.itemTimeout&&(this.itemWatchdog=window.setTimeout(function(){return t.onError()},this.itemTimeout));var n=this.loader=new Image;n.onload=function(){return t.onLoad()},n.onerror=function(){return t.onItemLoadingError()},n.src=e,this.startLoadTime=Date.now()},e.prototype.destroyLoaderElement=function(){var e=this.loader;e&&(this.itemWatchdog&&clearTimeout(this.itemWatchdog),e.onload=t.noop,e.onerror=t.noop,e.src="",this.loader=void 0)},e.prototype.startWatchdog=function(){var e=this;this.timeout&&!this.watchdog&&(this.watchdog=window.setTimeout(function(){var t=e.onResult;e.stop(),t(o.timeout)},this.timeout))},e}();t.BaseImageItemLoader=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(6),i=n(1),a=n(7),s=n(284),c=n(283),u=n(211),l=n(222),d=n(72),p=n(184),f=n(223),h=n(32),m=n(10),v=n(232),g=n(263),y=n(195),b=n(110);t.cnMMMarketSnippet=b.cnMMMarketSnippet;var w=n(514),M=n(515);n(526);var C=c.withSizeS(c.Rating),S=o.default(M),O=i.compose(f.withThemeAction,f.withTypeLink,f.withViewClassic,f.withSizeM,a.withBaobab({name:"button"}))(f.Button);function _(e){return function(t){var n,r=t.props;if(r.counters&&r.counters.market&&r.counters.market[e]){var o=r.counters.market[e];return void 0===r.pos?o:m.addCounterParams(o,{"-pos":r.pos},void 0,{href:(n=r.url,encodeURIComponent(n))})}}}t.MMMarketSnippetPresenter=function(e){var t=e.theme,n=e.url,o=e.domain,i=e.title,c=e.price,f=e.imageUrl,h=e.shopRating,m=e.text,M=e.withTitle,P=void 0===M||M,I=e.withButton,E=void 0===I||I,k=e.withImage,D=void 0===k||k,j=e.withDescription,T=void 0!==j&&j,x=e.withFavicon,R=void 0!==x&&x,N=e.buttonTheme,L=e.onShow,B=e.counters,A=e.onButtonClick,F=e.onImageClick,U=e.onPathClick,z=e.onTitleClick,H=e.favicon,q=e.pos;r.useEffect(function(){L&&L()},[n,L]);var V=Boolean(D&&f),G="top"===t,W="description"===t,Y={props:{counters:B,pos:q,url:n}},K="";K=S(G?"в магазине":V?"На сайт":"на сайте магазина",{context:"Надпись на кнопке, которая ведет на сайт продавца товара"});var X=r.createElement("div",{className:b.cnMMMarketSnippet("ImageContainer")},r.createElement(w.MMMarketSnippetImage,{url:n,imageUrl:f,title:i,onClick:F,logNode:{name:"image",events:{onClick:a.logClick(_("image").bind(null,Y))}}})),Q=r.createElement(u.Link,{className:b.cnMMMarketSnippet("Title",{withImage:V},[g.cnMMSidebarSectionTitle]),url:n,onClick:z,logNode:{name:"title",events:{onClick:a.logClick(_("title").bind(null,Y))}}},i),Z=r.createElement("div",{className:b.cnMMMarketSnippet("Description")},m);return r.createElement("div",{className:b.cnMMMarketSnippet({theme:t,withImage:D,withDescription:T},[y.cnMMSidebarSection])},P&&r.createElement("div",{className:v.cnMMSidebarSectionHeader},S("Яндекс.Маркет",{context:'Заголовок блока в просмотрщике картинок. Содержит данные из сервиса "Яндекс.Маркет"'})),!G&&Q,T&&W&&m&&m.length>50?Z:null,r.createElement("div",{className:b.cnMMMarketSnippet("Content")},V&&!G&&X,r.createElement("div",{className:b.cnMMMarketSnippet("Info",{withImage:V})},V&&G&&X,G&&Q,V&&!G&&r.createElement("div",{className:b.cnMMMarketSnippet("Price")},r.createElement(s.Price,{value:c,currency:"RUB",rurSymbolFont:!0})),r.createElement("div",{className:b.cnMMMarketSnippet("ShopInfo")},r.createElement(l.Path,{className:b.cnMMMarketSnippet("GreenUrl"),favicon:R&&H?r.createElement(p.MMFavicon,{favicon:H}):void 0,items:[{url:n,text:o,onClick:U}]}),r.createElement(C,{className:b.cnMMMarketSnippet("Rating"),value:h,base:5,size:"s"})),T&&!W&&m?Z:null,E&&r.createElement(O,{theme:"action",className:b.cnMMMarketSnippet("ShopButton",{withImage:V,theme:N}),view:"classic",size:"m",type:"link",url:n,target:"_blank",children:K,onClick:A,logNode:{events:{onClick:a.logClick(_("button").bind(null,Y))}},addonBefore:r.createElement(r.Fragment,null,r.createElement("span",{className:b.cnMMMarketSnippet("MarketButtonIcon")},r.createElement(d.MMIcon,{type:"market-cart"})),V&&!G?null:r.createElement("span",{className:b.cnMMMarketSnippet("PriceOnButton")},r.createElement(s.Price,{value:c,currency:"RUB",rurSymbolFont:!0})))}))))},t.MMMarketSnippet=h.withImageCounters(a.withBaobab({name:"MarketSnippet",events:{onShow:a.logTech("show",_("shown")),onPathClick:a.logClick(_("path"))}})(t.MMMarketSnippetPresenter))},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=n(10),a=n(20),s=n(64),c=n(110);t.cnMMMarketSnippet=c.cnMMMarketSnippet;t.MMMarketSnippetWithImageContext=o.compose(a.withImageContext(function(e){var t=i.getShownImageData(e),n=t&&t.marketSnippet,o=n&&i.getFavicon(e,n.punycode||n.domain);return r({},t&&t.marketSnippet,{pos:t&&t.pos,favicon:o&&o.data})}),s.withDefinedProps(["domain","title","url","price","shopRating"]))},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10),o=n(51),i=6;function a(e,t,n){if(!e.rimThumbsLoader)return!1;var o=r.getRim(t,r.getRimItemID(n));if(!o||!o.data)return!1;var a=t.config.imagesLoadingParams.rimPreloadPerImage||i;return s(e,t,o.data,a)}function s(e,t,n,o){if(!e.rimThumbsLoader)return!1;var i=r.getRimThumbsToLoad(n,t.loadedRimThumbs,o);return!!i.length&&(e.rimThumbsLoader.precache(i),!0)}function c(e,t,n){e.imageLoader.load(t,function(r,i){e.dispatch(o.addLoadedThumbData(t.id,{data:i,isFailed:!i},n))})}t.preloadImages=function(e,t){var n=r.getShownImageData(t),o=void 0!==t.rimSelectedIdx,i=t.config.imagesLoadingParams.numImagesPreload||0;if(n){if(n&&!t.loadedThumbs[n.id])return e.rimThumbsLoader&&e.rimThumbsLoader.stop(),c(e,n,o?void 0:t.currentItemIdx);var u=t.config.imagesLoadingParams.rimPreloadImagesCount||0;if(!s(e,t,t.rimForItem))for(var l=1;l<=i;l++){var d=t.currentItemIdx+l,p=r.getImageDataByIdx(t,d);if(p){if(!t.loadedThumbs[p.id])return c(e,p,d);if(l<=u&&a(e,t,p))return}}}},t.loadRimThumbs=s},function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"===typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};function o(e,t){void 0===t&&(t=[]);var n=[].concat(t);return e.forEach(function(e){void 0===e.pos||n[e.pos]||(n[e.pos]=e)}),n}function i(e,t){return void 0===t&&(t={}),e&&e.forEach(function(e){e.rimid&&!t[e.rimid]&&(t[e.rimid]=e)}),t}function a(e){return e.replace(/&shower=\d+/,"")}Object.defineProperty(t,"__esModule",{value:!0}),t.mergeImagesByPos=o,t.mergeImagesToRimMap=i,t.getInitialImagesStateWithPos=function(e){return o(e)},t.getInitialImagesStateWithThumbs=function(e,t){var n,o,s,c,u=[],l={},d=0;if(t&&t.forEach(function(t){t.forEach(function(t){var n,o,i=e[d++],p=t.docid;if(i&&p===i.docid)u.push(i),l[i.docid]=!0;else{var f=void 0;if(!s&&(s={},c={},e))try{for(var h=r(e),m=h.next();!m.done;m=h.next()){var v=m.value;s[v.docid]=v}}catch(e){n={error:e}}finally{try{m&&!m.done&&(o=h.return)&&o.call(h)}finally{if(n)throw n.error}}p&&(f=s[p]),f?(u.push(f),l[f.docid]=!0):(c[p||""]=u.length,u.push(function(e){var t=a(e.url||"");return{id:e.docid||"",dups:[{url:"",h:e.height||0,w:e.width||0}],preview:[],snippet:{url:t,title:"",hasTitle:!1,text:"",domain:"",redirUrl:t,gotoService:!0},thumb:{url:a(e.image||"")},docid:e.docid||"",isEmptyThumb:!0}}(t)))}})}),u.length<e.length)try{for(var p=r(e),f=p.next();!f.done;f=p.next()){var h=f.value;l[h.docid]||u.push(h)}}catch(e){n={error:e}}finally{try{f&&!f.done&&(o=p.return)&&o.call(p)}finally{if(n)throw n.error}}return{loadedPagesCount:1,images:u,imagesByRimId:i(u),emptyImagesMap:c}}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=n(378),s=n(6);n(379);var c=n(105),u=n(156),l=n(381),d=n(382),p=s.default(d),f=function(e){function t(t){var n=e.call(this,t)||this;return n.hideDelayTimeout=2e3,n.slideshowDelayInterval=4e3,n.isComponentMounted=!1,n.onActionClick=function(e){n.slideshowToggle(),e.stopPropagation()},n.onCloseClick=function(e){n.exitFullscreen(),e.stopPropagation()},n.onTitleClick=function(e){n.props.onTitleClick&&n.props.onTitleClick(),e.stopPropagation()},n.onDomainClick=function(e){n.props.onDomainClick&&n.props.onDomainClick(),e.stopPropagation()},n.state={hidden:!1,isSlideshowPlay:!1,isFullscreen:Boolean(a&&a.isFullscreen)},n.showInfoPanel=n.showInfoPanel.bind(n),n.showInfoPanelThrottle=c.throttle(n.showInfoPanel.bind(n),n.hideDelayTimeout/2,{delayedLastCall:!0}),n.hideInfoPanel=n.hideInfoPanel.bind(n),n.onFullscreenChange=n.onFullscreenChange.bind(n),n.onTitleClick=n.onTitleClick.bind(n),n.onDomainClick=n.onDomainClick.bind(n),n.goNext=n.goNext.bind(n),n}return o(t,e),t.prototype.componentDidUpdate=function(){this.state.isSlideshowPlay&&this.restartSlideshowTimer()},t.prototype.componentDidMount=function(){this.showInfoPanel(),this.isComponentMounted=!0,a&&a.on("change",this.onFullscreenChange)},t.prototype.componentWillUnmount=function(){this.exitFullscreen(),this.isComponentMounted=!1,window.removeEventListener("mousemove",this.showInfoPanelThrottle),a&&a.off("change",this.onFullscreenChange)},t.prototype.render=function(){var e=this.props,t=e.title,n=e.domain,r=e.url,o=e.nextItemHandler,a=e.prevItemHandler;return this.state.isFullscreen?i.createElement("div",{className:l.cnFullscreenControls({hidden:this.state.hidden})},a&&i.createElement("div",{className:l.cnFullscreenControls("PrevArrow"),onClick:a}),o&&i.createElement("div",{className:l.cnFullscreenControls("NextArrow"),onClick:o}),i.createElement("div",{className:l.cnFullscreenControls("Main")},o&&i.createElement("button",{className:l.cnFullscreenControls("Action",{stop:this.state.isSlideshowPlay}),onClick:this.onActionClick,"aria-label":this.state.isSlideshowPlay?p("Остановить",{context:"Кнопка остановки режима слайдшоу картинок"}):p("Запустить",{context:"Кнопка запуска режима слайдшоу картинок"})}),i.createElement("div",{className:l.cnFullscreenControls("Info")},i.createElement("a",{className:l.cnFullscreenControls("Title"),href:r,rel:"noopener",target:"_blank",onClick:this.onTitleClick},i.createElement(u.Markup,null,t)),i.createElement("a",{className:l.cnFullscreenControls("Domain"),href:r,rel:"noopener",target:"_blank",onClick:this.onDomainClick},n)),i.createElement("button",{className:l.cnFullscreenControls("Close"),onClick:this.onCloseClick,"aria-label":p("Закрыть",{context:"Кнопка выключения режима полноэкранного просмотра картинок"})}))):""},t.prototype.onFullscreenChange=function(){a&&(Boolean(a.isFullscreen)?this.enterFullscreen():this.exitFullscreen())},t.prototype.enterFullscreen=function(){this.setState({isFullscreen:!0}),window.addEventListener("mousemove",this.showInfoPanelThrottle)},t.prototype.exitFullscreen=function(){if(a){var e=this.state.isFullscreen;this.slideshowStop(),e&&(this.setState({isFullscreen:!1}),window.removeEventListener("mousemove",this.showInfoPanelThrottle),a.isFullscreen&&a.exit(),this.props.onExit&&this.props.onExit())}},t.prototype.showInfoPanel=function(){this.toggleInfoPanel(!1)},t.prototype.hideInfoPanel=function(){this.toggleInfoPanel(!0)},t.prototype.toggleInfoPanel=function(e){e||("undefined"!==typeof this.hideTimeoutHandle&&window.clearTimeout(this.hideTimeoutHandle),this.hideTimeoutHandle=window.setTimeout(this.hideInfoPanel,this.hideDelayTimeout)),this.isComponentMounted&&this.setState({hidden:e})},t.prototype.slideshowStop=function(){this.state.isSlideshowPlay&&(this.setState({isSlideshowPlay:!1}),this.stopSlideshowTimer(),this.props.onStopAutoplay&&this.props.onStopAutoplay())},t.prototype.slideshowToggle=function(){this.props.nextItemHandler&&(this.state.isSlideshowPlay?this.slideshowStop():(this.setState({isSlideshowPlay:!0}),this.props.onStartAutoplay&&this.props.onStartAutoplay(),this.restartSlideshowTimer()))},t.prototype.restartSlideshowTimer=function(){this.stopSlideshowTimer(),this.slideshowTimeoutHandle=window.setTimeout(this.goNext,this.slideshowDelayInterval)},t.prototype.goNext=function(){var e=this.props,t=e.nextItemHandler,n=e.isLoaded;t&&(this.state.isSlideshowPlay?(n&&t(),this.restartSlideshowTimer()):this.stopSlideshowTimer())},t.prototype.stopSlideshowTimer=function(){this.slideshowTimeoutHandle&&(window.clearTimeout(this.slideshowTimeoutHandle),this.slideshowTimeoutHandle=void 0)},t.stopPropagation=function(e){e.stopPropagation()},t}(i.PureComponent);t.FullscreenControls=f,t.FullscreenButton=function(e){a&&e&&a.request(e)}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=n(31),s=n(7),c=n(24),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.prevAdsCountUrl="",t}return o(t,e),t.prototype.componentDidMount=function(){var e=this.props.ads;e&&(this.hitAdsShowCounter(e),this.onAdsUpdate(e))},t.prototype.componentDidUpdate=function(){var e=this.props.ads;e&&(this.hitAdsShowCounter(e),this.onAdsUpdate(e))},t.prototype.render=function(){var e=this.props,t=e.ads,n=e.children,r=e.advanced,o=e.className,a=e.unifiedV1;return t?i.createElement("div",{className:c.cnMMDirectSnippet({advanced:Boolean(r),unifiedV1:a},[o])},n):null},t.prototype.onAdsUpdate=function(e){var t=this.getAdsCountUrl(e);t&&t!==this.prevAdsCountUrl&&(this.prevAdsCountUrl=t,this.props.onShow&&this.props.onShow())},t.prototype.hitAdsShowCounter=function(e){var n=t.shownAds,r=t.processingAdsCounter,o=this.getAdsCountUrl(e),i=Boolean(e.encryptedCountUrl);if(o&&!n[o]&&!r[o]){var a=this.props.makeShowCounterRequest;r[o]=!0,(i&&a?a:this.makeShowCounterRequest)(o,function(){return n[o]=!0},function(){return delete r[o]})}},t.prototype.makeShowCounterRequest=function(e,t,n){a.get(e,{},{successCallback:function(){t(),n()},failureCallback:function(){return n()}})},t.prototype.getAdsCountUrl=function(e){return e.encryptedCountUrl||e.countUrl},t.shownAds={},t.processingAdsCounter={},t}(i.Component);t.MMDirectSnippet=s.withBaobab({name:"MMDirectSnippet",events:{onShow:s.logTech("show",function(e){return e.counter})}})(u)},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a,s=n(0),c=n(665),u=n(233);!function(e){e.active="active",e.loading="loading",e.uploaded="uploaded",e.failed="failed"}(a=t.DiskUploadControllerStatus||(t.DiskUploadControllerStatus={}));var l={},d=function(e){function t(t){var n=e.call(this,t)||this;return n.defaults=i({},n.props,{maxPollingRequests:15,pollingTimeout:300,fileName:"Image.jpg",dirName:"Images"}),n.retriesCount={},n.mounted=!0,n.api=new c.DiskApi(t),n.state={status:l[t.fileUrl]||a.active},n}return o(t,e),t.prototype.componentDidMount=function(){this.mounted=!0},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.upload=function(){var e=this,t=this.props.fileUrl,n=this.props.dirName||this.defaults.dirName,r=n+"/"+(this.props.fileName||this.getFileName(t));return!this.props.loggedIn&&this.props.requestAuthorization?this.props.requestAuthorization():(this.setState({status:a.loading,error:void 0}),this.ensureDirectory(n).then(function(){return e.api.upload(r,t)}).then(function(t){return e.waitForUpload(t.href)}).then(function(){e.props.fileMeta&&e.setMeta(r,e.props.fileMeta)}).then(function(){e.mounted&&(l[e.props.fileUrl]=a.uploaded,e.setState({status:a.uploaded,error:void 0}))}).catch(function(t){e.mounted&&e.setState({status:a.failed,error:t})}))},t.prototype.ensureDirectory=function(e){var t=this;return this.api.isPathExists(e).catch(function(n){if(!n||404!==n.status)throw n;return t.api.mkdir(e)})},t.prototype.setMeta=function(e,t){return this.api.setMeta(e,t)},t.prototype.waitForUpload=function(e){var t=this;return new Promise(function(n,r){t.checkOperationStatus(e).then(function(o){t.mounted||r(new u.UnknownError),"pending"===o.status&&setTimeout(function(){return n(t.waitForUpload(e))},t.defaults.pollingTimeout),"failed"===o.status&&r(o.error),"success"===o.status&&n()})})},t.prototype.checkOperationStatus=function(e){var t=this;return this.api.status(e).then(function(e){return null==e||"failed"===e.status?{status:"failed",error:new u.UnknownError}:"success"===e.status?{status:"success"}:{status:"pending"}}).catch(function(n){var r=null==t.retriesCount[e]?t.defaults.maxPollingRequests:t.retriesCount[e];return 0!==r&&n instanceof u.UnknownError?(t.retriesCount[e]=r-1,{status:"pending"}):{status:"failed",error:n}})},t.prototype.getFileName=function(e){var t=e.substring(e.lastIndexOf("/")+1,e.length),n=t.indexOf("#"),r=t.indexOf("?");-1!==r?t=t.substring(0,r):-1!==n&&(t=t.substring(0,n));try{t=decodeURIComponent(t)}catch(e){}return t.length>250&&(t=t.substr(0,250)),(t=t.replace(/(\*|\||\\|:|"|<|>)/gi,"-"))||this.defaults.fileName},t.prototype.render=function(){return this.props.children({fileName:this.props.fileName||this.getFileName(this.props.fileUrl),status:this.state.status,uploaded:this.state.status===a.uploaded,loading:this.state.status===a.loading,failed:this.state.status===a.failed,error:this.state.error,upload:this.upload.bind(this)})},t}(s.Component);t.DiskUploadController=d},function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(1),a=n(200),s=n(178),c=n(736);n(737);var u=i.compose(a.withViewDefault,a.withThemeNormal,a.withTargetAnchor,s.withZIndex)(a.Popup);t.MMViewerButtonTooltip=function(e){var t=e.hasTail,n=void 0!==t&&t,i=e.anchor,a=e.mainOffset,s=void 0===a?0:a,l=e.zIndexGroupLevel,d=void 0===l?20:l,p=e.text,f=e.children,h=r(o.useState(e.initialVisibility),2),m=h[0],v=h[1],g=o.useCallback(function(){return v(!0)},[]),y=o.useCallback(function(){return v(!1)},[]);return o.createElement(o.Fragment,null,f(g,y),p?o.createElement(u,{theme:"normal",view:"default",target:"anchor",className:c.cnMMViewerButtonTooltip(),directions:e.directions,keepMounted:!1,hasTail:n,visible:m,anchor:i,mainOffset:s,zIndexGroupLevel:d},o.createElement("div",{className:c.cnMMViewerButtonTooltip("Text")},e.text)):null)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.disabled=0]="disabled",e[e.top=1]="top",e[e.middle=2]="middle"}(t.IDirectSnippetPosition||(t.IDirectSnippetPosition={})),function(e){e[e.disabled=0]="disabled",e[e.top=1]="top",e[e.middle=2]="middle"}(t.IMarketSnippetPosition||(t.IMarketSnippetPosition={})),function(e){e.full="full",e.short="short"}(t.IFixedPaneTheme||(t.IFixedPaneTheme={}))},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(761)),r(n(762)),r(n(763)),r(n(764)),r(n(765)),r(n(766)),r(n(767)),r(n(768)),r(n(769)),r(n(770))},function(e,t,n){"use strict";var r;n(199);!function(e){e[e.disabled=0]="disabled",e[e.enabled=1]="enabled"}(r||(r={}))},function(e,t,n){"use strict";var r,o;!function(e){e.organic="organic",e.wizard="wizard",e.adv="adv"}(r||(r={})),function(e){e.adv="banner"}(o||(o={}))},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"be",function(){return M}),n.d(r,"en",function(){return C}),n.d(r,"id",function(){return S}),n.d(r,"kk",function(){return O}),n.d(r,"ru",function(){return _}),n.d(r,"tr",function(){return P}),n.d(r,"tt",function(){return I}),n.d(r,"uk",function(){return E}),n.d(r,"uz",function(){return k});var o=n(1),i=n(2),a=n(0),s=n.n(a),c=n(4),u=Object(c.cn)("Rating","Stars"),l=Object(c.cn)("Rating","Half"),d=Object(c.cn)("Rating","Star"),p=Object(c.cn)("Rating","Rest"),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.b(t,e),t.prototype.render=function(){var e=this.props.size,t=this.props.base,n=Math.min(this.props.value,t),r=10*Math.round(10*n/t),o=r/10%2===1,i=5*e+4,a=Math.round(i/100*r),c=i-a-(o?e/2:0),f=i-c;return s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{className:u(),style:{width:f+"px"}},s.a.createElement("span",{className:l(),style:{width:f+"px"}}),s.a.createElement("span",{className:d(),style:{width:a+"px"}})),s.a.createElement("span",{className:p(),style:{width:c+"px"}}))},t}(s.a.PureComponent),h=Object(c.cn)("Rating"),m=(n(504),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.b(t,e),t.prototype.render=function(){var e=this.props,t=e.value,n=e.base,r=e.starSize,o=void 0===r?12:r,i=e.className,a=e.children;return s.a.createElement("span",{className:h(null,[i])},s.a.createElement(f,{value:t,base:n,size:o}),a)},t}(s.a.Component)),v=(n(505),Object(o.withBemMod)(h(),{size:"m"},function(e){return function(t){return s.a.createElement(e,i.a({starSize:16},t))}})),g=(n(506),Object(o.withBemMod)(h(),{size:"s"},function(e){return function(t){return s.a.createElement(e,i.a({starSize:12},t))}})),y=Object(o.compose)(v,g)(m),b=(n(507),n(508),Object(o.withBemMod)(h(),{size:"l"},function(e){return function(t){return s.a.createElement(e,i.a({starSize:26},t))}})),w=(n(509),n(510),n(6)),M={"из":"из"},C={"из":"out of"},S={"из":"out of"},O={"из":"из"},_={"из":"из"},P={"из":"/"},I={"из":"/"},E={"из":"из"},k={"из":"tadan"},D=n.n(w)()(r),j=function(e){return s.a.createElement(s.a.Fragment,null," ",s.a.createElement("span",{className:h("Value")},String(e.value).replace(".",e.decimalSeparator||",")),s.a.createElement("span",{className:h("Delimiter")},D("из")),s.a.createElement("span",{className:h("Base")},e.base))},T=function(e){return s.a.createElement("span",{className:h("Hint")},e.hint)},x=Object(o.withBemMod)(h(),{type:"extended"},function(e){return function(t){return s.a.createElement(e,i.a({},t),s.a.createElement(j,{base:t.base,value:t.value,decimalSeparator:t.decimalSeparator}),t.hint&&s.a.createElement(T,{hint:t.hint}))}});n.d(t,"Rating",function(){return y}),n.d(t,"withSizeL",function(){return b}),n.d(t,"withSizeM",function(){return v}),n.d(t,"withSizeS",function(){return g}),n.d(t,"withTypeExtended",function(){return x})},function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"az",function(){return p}),n.d(r,"be",function(){return f}),n.d(r,"en",function(){return h}),n.d(r,"id",function(){return m}),n.d(r,"kk",function(){return v}),n.d(r,"ru",function(){return g}),n.d(r,"tr",function(){return y}),n.d(r,"tt",function(){return b}),n.d(r,"uk",function(){return w}),n.d(r,"uz",function(){return M});var o=n(0),i=n.n(o),a=n(2),s=n(6),c=n.n(s),u=(n(501),{en:",",id:",",tr:"."}),l=function(e){if(e.length<4)return e;var t=Object(s.getI18nLang)(),n=u[t],r=/\B(?=(?:\d{3})+(?!\d))/g;return n?e.replace(r,n):e.split(r)};var d=function(e){var t=function(e){var t=e.value,n=e.withCents,r=e.key,o=a.c(Math.abs(t||0).toFixed(n?2:0).split("."),2),c=o[0],u=o[1],d=void 0===u?"":u;d=Number(d)?(-1!==["en","id"].indexOf(Object(s.getI18nLang)())?".":",")+d:"";var p=l(c);return Array.isArray(p)?i.a.createElement("span",{className:"PriceValue",key:r},p.map(function(e,t){return i.a.createElement("span",{key:t},e)}),d):p+d}(e);return"string"===typeof t?i.a.createElement(i.a.Fragment,null,t):t},p={"б.p.":"б.p.","грн.":"грн.","долл.":"долл.","евро":"евро","руб.":"руб.","тнг.":"тнг."},f={"б.p.":"б.р.","грн.":"грн.","долл.":"дал.","евро":"еўра","руб.":"руб.","тнг.":"тнг."},h={"б.p.":"Belarusian rubles","грн.":"hryvnas","долл.":"dollars","евро":"euros","руб.":"rub.","тнг.":"tenge"},m={"б.p.":"b.p.","грн.":"UAH.","долл.":"$ .","евро":"Euro","руб.":"Rp","тнг.":"TNG."},v={"б.p.":"б.p.","грн.":"грн.","долл.":"долл.","евро":"евро","руб.":"руб.","тнг.":"тнг."},g={"б.p.":"б.p.","грн.":"грн.","долл.":"долл.","евро":"евро","руб.":"руб.","тнг.":"тнг."},y={"б.p.":"byr","грн.":"uah","долл.":"usd","евро":"eur","руб.":"ruble","тнг.":"kzt"},b={"б.p.":"б.с.","грн.":"грн.","долл.":"долл.","евро":"евро","руб.":"сум","тнг.":"тнг."},w={"б.p.":"б.p.","грн.":"грн","долл.":"дол.","евро":"євро","руб.":"руб.","тнг.":"тнг"},M={"б.p.":"б.p.","грн.":"hrn.","долл.":"долл.","евро":"евро","руб.":"rub","тнг.":"tng."},C=n(4),S=Object(C.cn)("Rub"),O=(n(502),S()),_=function(){return i.a.createElement("span",{className:O},"Р")},P=c()(r),I={RUR:"RUB",BYR:"BYN"},E={RUB:"₽",EUR:"€",USD:"$",UAH:"₴"},k={RUB:P("руб."),EUR:P("евро"),USD:P("долл."),UAH:P("грн."),KZT:P("тнг."),BYN:P("б.p."),TRY:"TL"};var D=function(e){var t,n,r,o,a,s=(n=(t=e).currency,r=t.showAbbr,o=t.rurSymbolFont,a=I[n]||n,o&&"RUB"===a&&!r?i.a.createElement(_,null):!r&&E[a]||k[a]||a);return"string"===typeof s?i.a.createElement(i.a.Fragment,null,s):s},j=Object(C.cn)("Price"),T=(n(503),j()),x=j("OldValue"),R=function(e){return i.a.createElement("span",{className:T},i.a.createElement(d,{value:e.value,withCents:e.withCents})," ",i.a.createElement(D,{currency:e.currency,showAbbr:e.showAbbr,rurSymbolFont:e.rurSymbolFont}),e.oldValue?i.a.createElement("span",{className:x},i.a.createElement(d,{value:e.oldValue,withCents:e.withCents})," ",i.a.createElement(D,{currency:e.currency,showAbbr:e.showAbbr,rurSymbolFont:e.rurSymbolFont})):void 0)};R.displayName="Price",n.d(t,"Price",function(){return R}),n.d(t,"cnPrice",function(){return j})},function(e,t,n){"use strict";var r=n(3),o=n(2),i=n(0),a=n.n(i),s=n(7),c=n(66),u=(n(494),Object(s.withBaobab)({name:"path"})(function(e){var t=e.className,n=e.items,i=Object(r.useComponentRegistry)(Object(c.a)()).Link,s="";return a.a.createElement("div",{className:Object(c.a)(null,[t])},n.reduce(function(t,n,r){var u;return 0===r?u=a.a.createElement(a.a.Fragment,null,e.favicon,a.a.createElement("b",null,n.text)):(t.push(a.a.createElement("span",{className:Object(c.a)("Separator"),key:"separator-"+r},"›")),u=n.text),n.url?s=n.url:n.text&&(s+="/"+n.text),t.push(a.a.createElement(i,{key:"link-"+r,className:Object(c.a)("Item"),url:s,logNode:o.a({name:"urlnav",attrs:{pos:r}},n.logNode),counter:n.counter,onClick:n.onClick},u)),t},[]))})),l=(n(495),n(496),n(201)),d=new r.Registry({id:Object(c.a)()});d.set("Link",l.a),n.d(t,"a",function(){return p}),n.d(t,"b",function(){return c.a});var p=Object(r.withRegistry)(d)(u)},function(e,t,n){"use strict";var r=n(58);Object(r.a)()&&function(e){var t=function(){return function(){var t=this;this.onKeyDown=function(){e.clearTimeout(t.timeoutId),t.isPointer=!1},this.onMouseDown=function(){t.isPointer=!0,e.clearTimeout(t.timeoutId),t.timeoutId=e.setTimeout(function(){return t.isPointer=!1},600)},this.onFocus=function(){t.isPointer?(e.document.body.classList.add("pointerfocus"),e.document.body.classList.remove("utilityfocus")):(e.document.body.classList.add("utilityfocus"),e.document.body.classList.remove("pointerfocus"))},this.onBlur=function(){e.addEventListener("focus",t.setIsPointerOnTabFocus,!0)},this.setIsPointerOnTabFocus=function(){e.removeEventListener("focus",t.setIsPointerOnTabFocus,!0),e.document.body.classList.contains("pointerfocus")&&(t.isPointer=!0,e.setTimeout(function(){return t.isPointer=!1}))},this.timeoutId=0,this.isPointer=!1,e.addEventListener("blur",this.onBlur),e.document.addEventListener("keydown",this.onKeyDown),e.document.addEventListener("mousedown",this.onMouseDown),e.document.addEventListener("mouseup",this.onMouseDown),e.document.addEventListener("focusin",this.onFocus),e.document.body.classList.contains("pointerfocus")||e.document.documentElement.classList.contains("pointerfocus")||e.document.body.classList.add("utilityfocus")}}();e.LegoPointerFocus||(e.LegoPointerFocus=new t)}(window)},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(1),o=n(83),i=(n(696),Object(r.withBemMod)(Object(o.b)(),{type:"cross"}))},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(1),o=n(83),i=(n(697),Object(r.withBemMod)(Object(o.b)(),{type:"cross-websearch"}))},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(2),o=n(0),i=n.n(o),a=n(1),s=n(83),c=(n(349),n(698),Object(a.withBemMod)(Object(s.b)(),{glyph:"x-sign"},function(e){return function(t){var n=t.className,o=r.d(t,["className"]);return i.a.createElement(e,r.a({},o,{className:Object(s.b)({hasGlyph:!0},[n])}),i.a.createElement("svg",{viewBox:"0 0 20 20"},i.a.createElement("path",{focusable:"false",width:"0",height:"0",d:"M10,20 C4.5,20 0,15.5 0,10 C0,4.5 4.5,0 10,0 C15.5,0 20,4.5 20,10 C20,15.5 15.5,20 10,20 L10,20 L10,20 L10,20 Z M15,6.4 L13.6,5 L10,8.6 L6.4,5 L5,6.4 L8.6,10 L5,13.6 L6.4,15 L10,11.4 L13.6,15 L15,13.6 L11.4,10 L15,6.4 L15,6.4 L15,6.4 L15,6.4 Z"})))}}))},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(31),a=n(10),s=n(266);t.ADVMACHINE_DEFAULT_PAGE_ID="476060",t.getAdvMachineBaseUrl=function(e){return"https://yandex."+e+"/search/adonly"};var c=function(e){function n(n){var r=e.call(this,n)||this;return r.params.url=n.url||t.getAdvMachineBaseUrl(r.params.tld),r.params.pageId=n.pageId||t.ADVMACHINE_DEFAULT_PAGE_ID,r}return o(n,e),n.prototype.getUrl=function(e){var n=this.params,r=n.pageReqid;return i.appendQueryString(n.url||t.getAdvMachineBaseUrl(this.params.tld),{reqid:r,bpage:n.pageId,lr:n.region,"target-ref":this.targetRef,"title-length-limit":1e4,p:0,text:a.getDirectRequestText(e[0].data,this.params)})},n.prototype.extractResponseData=function(e){var t;try{t=JSON.parse(e)}catch(e){return[]}return[this.convertDirectData(t.data)]},n}(s.MMDirectLoader);t.MMDirectLoader=c},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=n(4),s=n(31);n(403);var c=n(6),u=n(404),l=c.default(u),d=a.cn("TrimmerControls"),p=function(e){function t(t){var n=e.call(this,t)||this;return n.cancel=function(e){n.props.closeEvent(e)},n.state={},n.onPointerOver=n.onPointerOver.bind(n),n}return o(t,e),t.prototype.render=function(){var e=this,t=this.getCrop(),n=this.getImageUrl(this.props.imageRef.current.getCurrentImageUrl()||""),r=n&&this.props.onSearchClick?function(r){e.props.onSearchClick&&e.props.onSearchClick(r,t,n)}:void 0;return i.createElement("div",{className:d(),onMouseOver:this.onPointerOver},i.createElement("div",{className:d("Label")},l("Укажите выше область для поиска по картинке",{context:"Инструмент выбора области картинки для дальнейшего поиска по ней"})),i.createElement("div",{className:d("Cancel"),onClick:this.cancel},i.createElement("span",{className:d("CancelText")},l("Отменить",{context:'Кнопка "Отменить"'}))),i.createElement("a",{className:d("Search"),target:this.getTarget(),onClick:r,href:this.getSearchUrl(t,n)},l("Искать",{context:'Кнопка "Искать"'})))},t.prototype.getTarget=function(){return this.props.target||"_blank"},t.prototype.onPointerOver=function(){this.forceUpdate()},t.prototype.getImageUrl=function(e){var t=e;return t?("/"===t[0]&&(t=location.protocol+t),t):""},t.prototype.getSearchUrl=function(e,t){return t?s.appendQueryString(this.props.imagesCbirSearchUrl,{rpt:"imagelike",url:t,crop:e}):""},t.prototype.getCrop=function(){var e=this.props.imageRef.current.getTrimmerArea();return e?e.point1.x+";"+e.point1.y+";"+e.point2.x+";"+e.point2.y:""},t}(i.Component);t.TrimmerControls=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(4),i=n(6),a=n(415);n(425);var s=i.default(a),c=i.i18nRaw(a),u=o.cn("MMViewMessage");t.MMViewMessage=function(e){var t=e.onClick,n=e.redirUrl,o=e.type;return r.createElement("span",null,c("Не удалось загрузить картинку, возможно, она есть на {link}",{context:"https://nda.ya.ru/3UYjnC",link:r.createElement("a",{className:u("ErrorMessage"),href:n,rel:"noopener",target:"_blank",onClick:t,key:o},"service"===o?s("сервисе Яндекс.Картинки",{context:"https://nda.ya.ru/3UYjnC"}):s("сайте",{context:"https://nda.ya.ru/3UYjnK"}))}),".")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(20),i=n(64),a=n(274),s=n(429),c=n(173),u=n(24);t.cnMMDirectSnippet=u.cnMMDirectSnippet;var l=r.compose(s.withTypeStripe)(a.MMDirectSnippet);t.MMDirectSnippet=r.compose(o.withImageContext(function(e,t,n){return c.getDirectSnippetProps(e,n)}),i.withDefinedProps(function(e){return Boolean(e.ads)}))(l)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(229);n(487),t.MMGalleryEdgeCenteredLeft=r.withBemMod(o.cnMMGallery(),{edgeCentered:"left"}),t.MMGalleryEdgeCenteredRight=r.withBemMod(o.cnMMGallery(),{edgeCentered:"right"}),t.MMGalleryEdgeCenteredBoth=r.withBemMod(o.cnMMGallery(),{edgeCentered:"both"})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10),o=n(20),i=n(488),a=n(277),s=n(51),c=r.naiveMemoiseOne(function(e){return function(){return e(s.requestRimPage())}});t.MMSidebar=o.withImageContext(function(e,t){var n=r.getCurrentImageData(e),o=e.config,i=o.directSnippetParams,s=o.marketSnippetParams,u=o.fixedPaneEnabled,l=o.fixedPaneConfig,d=o.isDuckEnabled,p=a.IDirectSnippetPosition.disabled;if(i&&r.isDirectSnippetEnabled(e))if(i.forceDirectSnippetAtTop)p=a.IDirectSnippetPosition.top;else if(i.useAlternativePositionData){var f=r.getDirectDataForCurrentImage(e);f&&(p="premium"===f.adType?a.IDirectSnippetPosition.top:a.IDirectSnippetPosition.middle)}else p=r.isCommercialRequestForDS(e.globalContext,i)?a.IDirectSnippetPosition.top:a.IDirectSnippetPosition.middle;var h=s&&"top"===s.theme,m=s&&s.position,v=a.IMarketSnippetPosition.middle;if(h&&(v=m||a.IMarketSnippetPosition.disabled),h&&!m){var g=r.getDirectDataForCurrentImage(e);v=r.isDirectSnippetEnabled(e)&&null===g?a.IMarketSnippetPosition.top:a.IMarketSnippetPosition.middle}return{fixedPaneEnabled:u,fixedPaneConfig:l,directPosition:p,marketPosition:v,isDuckEnabled:Boolean(d),reqid:n&&n.reqid,activeImage:n,onBottomSidebar:c(t)}})(i.MMSidebar)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(741),i=n(1),a=n(7),s=n(350),c=n(178),u=n(224),l=n(745),d=n(747),p=n(234);n(749),t.Modal=i.compose(s.withThemeNormal,c.withZIndex,u.withOutsideClick,a.withBaobab({name:"MMViewerModal"}))(s.Modal),t.MMViewerModal=function(e){var n=r.useRef(null);return r.useEffect(function(){if(n.current){var t=n.current;if(e.isVisible)return o.disableBodyScroll(t),function(){e.isVisible&&o.enableBodyScroll(t)};o.enableBodyScroll(t)}},[e.isVisible]),r.createElement(t.Modal,{innerRef:n,className:p.cnViewerModal(null,[e.className]),theme:"normal",visible:e.isVisible,hasAnimation:!1,zIndex:e.zIndex,zIndexGroupLevel:e.zIndexGroupLevel||20},r.createElement(l.ViewerModalParanja,{onClick:e.onParanjaClick}),r.createElement(d.ViewerModalClose,{onClick:e.onCloseClick}),e.children)}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=n(4),c=n(1),u=n(105),l=n(7),d=n(207),p=n(750),f=n(752),h=n(755),m=n(757),v=n(759),g=n(771),y=n(273),b=n(773);n(774);var w,M=s.cn("MediaViewer"),C=c.compose(f.CircleButtonTyped,c.composeU(v.CircleButtonTypeFullscreen,m.CircleButtonTypePrev,h.CircleButtonTypeNext,g.CircleButtonTypeCbirCrop),b.CircleButtonWithTooltip)(p.CircleButton);!function(e){e.imageClick="imageClick",e.imageShow="imageShow",e.imageError="imageError",e.nextItem="nextItem",e.prevItem="prevItem",e.setItem="setItem",e.close="close",e.paranjaClick="paranjaClick",e.fullscreenEnter="fullscreenEnter",e.fullscreenExit="fullscreenExit",e.fullscreenTitleClick="fullscreenTitleClick",e.fullscreenDomainClick="fullscreenDomainClick",e.fullscreenStartAutoplay="fullscreenStartAutoplay",e.fullscreenStopAutoplay="fullscreenStopAutoplay",e.previewSave="previewSave",e.previewShow="previewShow"}(w||(w={}));var S=function(e){function t(n){var r=e.call(this,n)||this;return r.isFullscreenMode=!1,r.onViewErrorHandler=r.onViewErrorHandler.bind(r),r.genClass=r.genClass.bind(r),r.onFullscreenClick=r.onFullscreenClick.bind(r),r.onFullscreenExit=r.onFullscreenExit.bind(r),r.onFullscreenTitleClick=r.onFullscreenTitleClick.bind(r),r.onFullscreenDomainClick=r.onFullscreenDomainClick.bind(r),r.onFullscreenStartAutoplay=r.onFullscreenStartAutoplay.bind(r),r.onPreviewSave=r.onPreviewSave.bind(r),r.onPreviewShow=r.onPreviewShow.bind(r),r.onSceneClick=r.onSceneClick.bind(r),r.onItemClick=r.onItemClick.bind(r),r.onItemShow=r.onItemShow.bind(r),r.onFullscreenStopAutoplay=r.onFullscreenStopAutoplay.bind(r),r.switchNext=r.genItemSwitcher(1),r.switchPrev=r.genItemSwitcher(-1),r.onKeyDownHandler=u.throttle(r.onKeyDownHandler.bind(r),100),r.onKeyUpHandler=u.throttle(r.onKeyUpHandler.bind(r),100),r.onSceneMouseMove=r.onSceneMouseMove.bind(r),r.onMouseMove=u.throttle(r.onMouseMove.bind(r),100,{delayedLastCall:!0}),r.getScrollContainer=r.getScrollContainer.bind(r),r.nodes={},r.state=i({hoveredArrow:"",viewHeightStyle:"100%",viewWidthStyle:"100%"},t.getStateForNewItem(n.items,n.initialIdx||0,n.showItem)),r}return o(t,e),t.prototype.componentDidMount=function(){this.componentIsMounted=!0,window.addEventListener("keydown",this.onKeyDownHandler),window.addEventListener("keyup",this.onKeyUpHandler),this.trigger(w.setItem,this.state.currentIdx)},t.prototype.componentWillUnmount=function(){this.componentIsMounted=!1,window.removeEventListener("keydown",this.onKeyDownHandler),window.removeEventListener("keyup",this.onKeyUpHandler)},t.prototype.componentDidUpdate=function(e,n){var r=this.props.items,o=e.items;this.state.shownItem!==n.shownItem||this.state.currentIdx===n.currentIdx&&r.length===o.length&&r[this.state.currentIdx]===o[n.currentIdx]&&this.props.showItem===e.showItem||this.setState(t.getStateForNewItem(this.props.items,this.state.currentIdx,this.props.showItem))},t.prototype.render=function(){var e=this.state,t=this.props.theme,n=this.props,r=n.layout,o=n.className;return a.createElement("div",{className:M({theme:t},[o]),ref:this.saveRef("self")},a.createElement("div",{className:this.genClass("LayoutContainer"),ref:this.saveRef("container")},a.createElement("div",{className:this.genClass("LayoutMain"),style:{width:e.viewWidthStyle}},this.renderScene(),r&&r.footer&&a.createElement("div",{className:this.genClass("LayoutFooter"),ref:this.saveRef("footer")},this.props.layout&&this.props.layout.footer)),r&&r.sideblock&&a.createElement("div",{className:this.genClass("LayoutSideblock"),ref:this.saveRef("sideblock")},r.sideblock)))},t.prototype.getScrollContainer=function(){return this.nodes.container},t.prototype.switchToItem=function(e){var n=this,r=t.getStateForNewItem(this.props.items,e,this.props.showItem);this.setState(r,function(){n.trigger(w.setItem,r.currentIdx)})},t.prototype.renderScene=function(){var e=this,t=this.state,n=this.props.buttons,r=void 0===n?{}:n,o=Object.keys(r).map(function(e){return Object.assign({},r[e],{type:r[e].type||e})});return this.props.hasFullscreen&&o.unshift({type:"fullscreen",clickHandler:this.onFullscreenClick}),a.createElement(d.BaobabNodeDiv,{className:this.genClass("LayoutScene"),forwardRef:this.saveRef("scene"),onClick:this.props.hasTrimmer?void 0:this.onSceneClick,logNode:{name:"preview",events:{onClick:l.logClick(function(){return{action:e.state.hoveredArrow}})}},onMouseMove:this.onSceneMouseMove},a.createElement(C,{className:this.genClass(["Button","ButtonPrev"],[{hovered:"prev"===this.state.hoveredArrow}]),logNode:{name:"arrow-left",events:{onClick:l.logClick()}},disabled:t.isFirst,onClick:this.switchPrev,type:"prev"}),Boolean(o.length)&&a.createElement("div",{className:this.genClass("LayoutSceneControls")},o.map(function(t,n){return t.content||a.createElement(C,{key:n,type:t.type,className:e.genClass(["Button","Button"+t.type]),onClick:t.clickHandler,logNode:{name:t.type,events:{onClick:l.logClick()}},withTooltip:!0})})),a.createElement("div",{className:this.genClass("View"),ref:this.saveRef("view"),style:{width:t.viewWidthStyle,height:t.viewHeightStyle,lineHeight:t.viewHeightStyle}},this.props.itemRenderer(this.state.shownItem,{switchNext:this.switchNext,switchPrev:this.switchPrev,onShow:this.onItemShow,onError:this.onViewErrorHandler,hasFullscreen:this.props.hasFullscreen,onFullscreenExit:this.onFullscreenExit,onFullscreenTitleClick:this.onFullscreenTitleClick,onFullscreenDomainClick:this.onFullscreenDomainClick,onFullscreenStartAutoplay:this.onFullscreenStartAutoplay,onFullscreenStopAutoplay:this.onFullscreenStopAutoplay,onPreviewSave:this.onPreviewSave,onPreviewShow:this.onPreviewShow,hasTrimmer:this.props.hasTrimmer,imageRef:this.props.imageRef})),a.createElement(C,{className:this.genClass(["Button","ButtonNext"],[{hovered:"next"===this.state.hoveredArrow}]),logNode:{name:"arrow-right",events:{onClick:l.logClick()}},disabled:t.isLast,onClick:this.switchNext,type:"next"}),this.props.viewMessage&&a.createElement("div",{className:this.genClass("ViewMessage")},this.props.viewMessage))},t.prototype.onItemShow=function(e,t){this.trigger(w.imageShow,e,t)},t.prototype.onItemClick=function(e){this.trigger(w.imageClick,e)},t.prototype.onSceneClick=function(e){"prev"===this.state.hoveredArrow?this.switchPrev(e,"",this.onItemClick):this.switchNext(e,"",this.onItemClick)},t.prototype.saveRef=function(e){var t=this;return function(n){return t.nodes[e]=n}},t.prototype.genClass=function(e,t){var n=this.props.theme||"fiji",r=s.cn(M()+"_theme_"+n),o=Array.isArray(t)?t:[t];return(Array.isArray(e)?e:[e]).map(function(e,t){return M(e,o[t],[r(e)])}).join(" ")},t.prototype.trigger=function(e,t,n,r){var o=this.props.on,i=o&&o[e];i&&i(void 0!==t?t:this.state.currentIdx,n,r)},t.prototype.genItemSwitcher=function(e){var n=this;return void 0===e&&(e=1),function(r,o,i){r&&r.stopPropagation();for(var a=n.state.currentIdx,s=n.props.items,c=a+e;!s[c]&&c>=0&&c<s.length;c+=e);if(s[c]){var u=t.getStateForNewItem(n.props.items,c,n.props.showItem);n.setState(u,function(){i&&i(u.currentIdx),n.trigger(e>0?w.nextItem:w.prevItem,u.currentIdx,null,o),n.trigger(w.setItem,u.currentIdx)})}}},t.prototype.onFullscreenClick=function(e){y.FullscreenButton(this.nodes.view),this.isFullscreenMode=!0,this.trigger(w.fullscreenEnter),e.stopPropagation()},t.prototype.onFullscreenExit=function(){this.isFullscreenMode=!1,this.trigger(w.fullscreenExit)},t.prototype.onFullscreenTitleClick=function(){this.trigger(w.fullscreenTitleClick)},t.prototype.onFullscreenDomainClick=function(){this.trigger(w.fullscreenDomainClick)},t.prototype.onFullscreenStartAutoplay=function(){this.trigger(w.fullscreenStartAutoplay)},t.prototype.onPreviewSave=function(){this.trigger(w.previewSave,this.state.currentIdx)},t.prototype.onPreviewShow=function(e,t){this.trigger(w.previewShow,e||this.state.currentIdx,t)},t.prototype.onFullscreenStopAutoplay=function(){this.trigger(w.fullscreenStopAutoplay)},t.prototype.onViewErrorHandler=function(e){this.trigger(w.imageError)},t.prototype.onSceneMouseMove=function(e){this.onMouseMove(e.clientX)},t.prototype.onMouseMove=function(e){if(this.nodes.scene&&this.componentIsMounted){var t=this.props.prevArrowSize,n="number"===typeof t?t:.3,r=this.nodes.scene.getBoundingClientRect(),o=r.left,i=(e-o)/(r.right-o)<=n?"prev":"next";this.state.hoveredArrow!==i&&this.setState({hoveredArrow:i})}},t.prototype.onKeyDownHandler=function(e){if(!this.shouldPreventKeyHandler(e))switch(e.keyCode){case 8:case 27:this.isFullscreenMode||this.trigger(w.close);break;case 32:e.preventDefault();case 39:this.switchNext(null,"keyboard");break;case 37:this.switchPrev(null,"keyboard")}},t.prototype.onKeyUpHandler=function(e){this.shouldPreventKeyHandler(e)||32===e.keyCode&&e.preventDefault()},t.prototype.shouldPreventKeyHandler=function(e){var t=e.target.nodeName;return!this.componentIsMounted||"TEXTAREA"===t||"INPUT"===t},t.getStateForNewItem=function(e,t,n){var r=0===e.length,o=e.length-1,i=t;i<0?i=0:i>o&&(i=o);var a=r?void 0:e[i];return{currentIdx:i,isFirst:0===i||r,isLast:i===o||r,shownItem:n||a}},t}(a.Component);t.MediaViewer=S},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=n(1),s=n(20),c=n(64),u=n(73),l=n(10),d=n(203),p=n(81),f=n(195);n(777);var h=p.cnSidebar("BehavioralDirectContainer",[f.cnMMSidebarSection]);t.BehavioralDirectSnippet=a.compose(s.withImageContext(function(e){var t=e.config.behavioralDirectSnippetParams,n=l.getCurrentImageData(e);if(!t)return{};var r=t.mode;if((r===u.IBehavioralDirectSnippeModes.withoutDSnMarket||r===u.IBehavioralDirectSnippeModes.withoutMarket)&&n&&n.marketSnippet)return{};var o=n&&l.getDirectLoadingResultForImage(e,n);return r!==u.IBehavioralDirectSnippeModes.withoutDSnMarket&&r!==u.IBehavioralDirectSnippeModes.withoutDS||!(!o||o.data&&o.data[0])?{directId:t.directId,height:t.height,mode:t.mode,yandexuid:e.globalContext.yandexuid,text:e.globalContext.query,reqid:n&&n.reqid||"",visible:!0}:{}}),c.withDefinedProps(["directId"]))(function(e){var t=e.visible,n=e.height,a=o(e,["visible","height"]),s=i.useMemo(function(){return{height:void 0!==n?n+"px":void 0,display:t?"block":"none"}},[n,t]);return i.createElement(d.MMDirectStripeWithContext,r({},a,{className:h,style:s,fixWidth:!0}))})},function(e,t,n){"use strict";var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(0),c=n(779),u=[],l=[];function d(e){var t=e(),n={loading:!0,loaded:null,error:null};return n.promise=t.then(function(e){return n.loading=!1,n.loaded=e,e}).catch(function(e){throw n.loading=!1,n.error=e,e}),n}function p(e){var t={loading:!1,loaded:{},error:null},n=[];try{Object.keys(e).forEach(function(r){var o=d(e[r]);o.loading?t.loading=!0:(t.loaded[r]=o.loaded,t.error=o.error),n.push(o.promise),o.promise.then(function(e){t.loaded[r]=e}).catch(function(e){t.error=e})})}catch(e){t.error=e}return t.promise=Promise.all(n).then(function(e){return t.loading=!1,e}).catch(function(e){throw t.loading=!1,e}),t}function f(e,t){return s.createElement((n=e)&&n.__esModule?n.default:n,t);var n}function h(e,t){var d,p;if(!t.loading)throw new Error("react-loadable requires a `loading` component");var h=Object.assign({loader:null,loading:null,delay:200,timeout:null,render:f,webpack:null,modules:null},t),m=null;function v(){return m||(m=e(h.loader)),m.promise}return u.push(v),"function"===typeof h.webpack&&l.push(function(){if(e=h.webpack,"object"===r(n.m)&&e().every(function(e){return"undefined"!==typeof e&&"undefined"!==typeof n.m[e]}))return v();var e}),p=d=function(t){function n(r){o(this,n);var a=i(this,t.call(this,r));return a.retry=function(){a.setState({error:null,loading:!0,timedOut:!1}),m=e(h.loader),a._loadModule()},v(),a.state={error:m.error,pastDelay:!1,timedOut:!1,loading:m.loading,loaded:m.loaded},a}return a(n,t),n.preload=function(){return v()},n.prototype.componentWillMount=function(){this._mounted=!0,this._loadModule()},n.prototype._loadModule=function(){var e=this;if(this.context.loadable&&Array.isArray(h.modules)&&h.modules.forEach(function(t){e.context.loadable.report(t)}),m.loading){"number"===typeof h.delay&&(0===h.delay?this.setState({pastDelay:!0}):this._delay=setTimeout(function(){e.setState({pastDelay:!0})},h.delay)),"number"===typeof h.timeout&&(this._timeout=setTimeout(function(){e.setState({timedOut:!0})},h.timeout));var t=function(){e._mounted&&(e.setState({error:m.error,loaded:m.loaded,loading:m.loading}),e._clearTimeouts())};m.promise.then(function(){t()}).catch(function(e){t()})}},n.prototype.componentWillUnmount=function(){this._mounted=!1,this._clearTimeouts()},n.prototype._clearTimeouts=function(){clearTimeout(this._delay),clearTimeout(this._timeout)},n.prototype.render=function(){return this.state.loading||this.state.error?s.createElement(h.loading,{isLoading:this.state.loading,pastDelay:this.state.pastDelay,timedOut:this.state.timedOut,error:this.state.error,retry:this.retry}):this.state.loaded?h.render(this.state.loaded,this.props):null},n}(s.Component),d.contextTypes={loadable:c.shape({report:c.func.isRequired})},p}function m(e){return h(d,e)}m.Map=function(e){if("function"!==typeof e.render)throw new Error("LoadableMap requires a `render(loaded, props)` function");return h(p,e)};var v=function(e){function t(){return o(this,t),i(this,e.apply(this,arguments))}return a(t,e),t.prototype.getChildContext=function(){return{loadable:{report:this.props.report}}},t.prototype.render=function(){return s.Children.only(this.props.children)},t}(s.Component);function g(e){for(var t=[];e.length;){var n=e.pop();t.push(n())}return Promise.all(t).then(function(){if(e.length)return g(e)})}v.propTypes={report:c.func.isRequired},v.childContextTypes={loadable:c.shape({report:c.func.isRequired}).isRequired},m.Capture=v,m.preloadAll=function(){return new Promise(function(e,t){g(u).then(e,t)})},m.preloadReady=function(){return new Promise(function(e,t){g(l).then(e,e)})},e.exports=m},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(1),a=n(20),s=n(64),c=n(268),u=n(269);n(782);t.MarketSnippetWithThemeTop=i.compose(a.withImageContext(function(e){var t=e.config.marketSnippetParams;return t&&t.theme?{withTitle:!1,withButton:!0,withFavicon:!0,theme:t.theme,withImage:Boolean(t.withImage),withDescription:Boolean(t.withDescription),buttonTheme:t.buttonTheme}:{}}),s.withDefinedProps(["theme"]))(u.MMMarketSnippetWithImageContext(function(e){return o.createElement(c.MMMarketSnippet,r({},e))}))},,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=";function o(e){for(var t="",n=0;n<e.length;){var o=e.charCodeAt(n++),i=e.charCodeAt(n++),a=e.charCodeAt(n++),s=o>>2,c=(3&o)<<4|i>>4,u=(15&i)<<2|a>>6,l=63&a;isNaN(i)?u=l=64:isNaN(a)&&(l=64),t=t+r.charAt(s)+r.charAt(c)+r.charAt(u)+r.charAt(l)}return t}function i(e){var t=[],n=0;for(e=e.replace(/[^A-Za-z0-9\-_=]/g,"");n<e.length;){var o=r.indexOf(e.charAt(n++)),i=r.indexOf(e.charAt(n++)),a=r.indexOf(e.charAt(n++)),s=r.indexOf(e.charAt(n++)),c=o<<2|i>>4,u=(15&i)<<4|a>>2,l=(3&a)<<6|s;t.push(String.fromCharCode(c)),64!==a&&t.push(String.fromCharCode(u)),64!==s&&t.push(String.fromCharCode(l))}return t.join("")}function a(e){for(var t=[],n=0;n<e.length;){var r=e.charCodeAt(n);if(r<128)t.push(String.fromCharCode(r)),n++;else if(r>191&&r<224){var o=e.charCodeAt(n+1);t.push(String.fromCharCode((31&r)<<6|63&o)),n+=2}else{o=e.charCodeAt(n+1);var i=e.charCodeAt(n+2);t.push(String.fromCharCode((15&r)<<12|(63&o)<<6|63&i)),n+=3}}return t.join("")}t.encode=function(e,t){return void 0===t&&(t=1e6),o(function(e,t){e=e.replace(/\r\n/g,"\n");for(var n="",r=0;r<e.length;r++){var o=e.charCodeAt(r),i=void 0;if(o<128?i=String.fromCharCode(o):o>127&&o<2048?(i=String.fromCharCode(o>>6|192),i+=String.fromCharCode(63&o|128)):(i=String.fromCharCode(o>>12|224),i+=String.fromCharCode(o>>6&63|128),i+=String.fromCharCode(63&o|128)),n.length+i.length>t)break;n+=i}return n}(e,3*t/4|0))},t.encodeUInt8String=o,t.decode=function(e){return a(i(e))},t.decodeUInt8String=i,t.utf8Decode=a,t.cropEquals=function(e){return e.replace(/=+$/,"")},t.addEquals=function(e){for(;e.length%4!==0;)e+="=";return e}},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),c=n(6),u=n(7),l=n(32),d=n(10),p=n(153),f=n(232),h=n(195),m=n(155);t.cnMMSimilarOffers=m.cnMMSimilarOffers;var v=n(527),g=n(328);n(540);var y=c.default(g),b=function(e){function t(t){var n=e.call(this,t)||this;return n.loadedCount=0,n.shownCounted=!1,n.onErrorHandler=n.onErrorHandler.bind(n),n.onLoadHandler=n.onLoadHandler.bind(n),n.onImageLoadingResult=n.onImageLoadingResult.bind(n),n.state={banned:{}},n}return o(t,e),t.prototype.render=function(){var e=this.props,t=e.offers,n=e.className;this.prevOffers!==t&&(this.prevOffers=t,this.loadedCount=0,this.shownCounted=!1);var r=this.getRenderedOffersList();return r.length?s.createElement("div",{className:m.cnMMSimilarOffers({withMarket:this.props.isMarket},[h.cnMMSidebarSection,n])},s.createElement("div",{className:m.cnMMSimilarOffers("Header",[f.cnMMSidebarSectionHeader])},this.props.title),s.createElement("div",{className:m.cnMMSimilarOffers("Content")},r)):null},t.prototype.getRenderedOffersList=function(){var e=this,t=this.state.banned;return this.props.offers.reduce(function(n,r,o){return r.image&&r.image.url&&!t[r.image.url]&&n.push(s.createElement(v.MMSimilarOffer,i({key:o},r,{onError:e.onErrorHandler(r),clickCounters:{image:e.getCounter("thumb",r,o),path:e.getCounter("greenurl",r,o),title:e.getCounter("title",r,o)},logNode:{attrs:{index:o}},onImageLoad:e.onLoadHandler,onPathClick:e.onClickHandler("greenurl",o)}))),n},[])},t.prototype.getCounter=function(e,t,n){return w("click",this.props,{type:t.source,vars:{"-pos":String(n),"-type":e},params:{redirUrl:encodeURIComponent(t.link)}})},t.prototype.onClickHandler=function(e,t){var n=this;if(this.props.onClick)return function(){return n.props.onClick&&n.props.onClick({target:e,idx:t})}},t.prototype.onErrorHandler=function(e){var t=this;return function(){var n;return t.setState({banned:i({},t.state.banned,(n={},n[e.image&&e.image.url||""]=!0,n))},function(){t.onImageLoadingResult()})}},t.prototype.onLoadHandler=function(){this.loadedCount++,this.onImageLoadingResult()},t.prototype.onImageLoadingResult=function(){var e=this;if(this.props.onShow&&!this.shownCounted){var t=this.props.offers,n=this.state.banned,r=t.reduce(function(e,t){return e+(n[t.image.url]?1:0)},0);if(this.loadedCount+r===t.length){this.shownCounted=!0;var o=t.reduce(function(e,t){return n[t.image.url]||(e[t.source]=(e[t.source]||0)+1),e},{});Object.keys(o).forEach(function(t){o[t]&&e.props.onShow&&e.props.onShow({type:t,count:o[t]||0})})}}},t}(s.PureComponent);function w(e,t,n){var r=n.type,o=t.counters&&t.counters.similarOffers&&t.counters.similarOffers[r],a=o&&o[e];if(a)return d.addCounterParams(a,n.vars,i({reqid:t.reqid},n.params),{href:t.href||""})}t.MMSimilarOffersPresenter=b;var M={title:y("Похожие товары",{context:'Заголовок блока в просмотрщике картинок содержащего товары, похожие на показанный. Содержит данные из сервиса "Яндекс.Маркет"'})};t.MMSimilarOffers=l.withImageCounters(u.withBaobab({name:"similar-offers",events:{onShow:u.logTech("show",function(e,t){var n=e.props,r=a(t,1)[0];return w("shown",n,{type:r.type,vars:{"-count":String(r.count)}})}),onClick:u.logClick(function(e,t){var n=e.props,r=a(t,1)[0];return w("click",n,{type:n.offers[r.idx].source,vars:{"-pos":String(r.idx),"-type":r.target},params:{redirUrl:encodeURIComponent(n.offers[r.idx].link)}})})}})(p.withDefaultProps(M)(b)))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(10),i=n(20),a=n(64),s=n(155);t.cnMMSimilarOffers=s.cnMMSimilarOffers;t.MMSimilarOffersWithImageContext=r.compose(i.withImageContext(function(e){var t=o.getShownImageData(e),n=t&&t.preview&&t.preview[0];return n||(n=t&&t.dups&&t.dups[0]),{isMarket:t&&Boolean(t.marketSnippet),offers:t&&t.similarOffers,reqid:t&&t.reqid,href:n&&n.url}}),a.withDefinedProps(function(e){return Boolean(e.offers&&e.offers.length)}))},,,,,,,,,function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(531)),r(n(532)),r(n(533)),r(n(534)),r(n(535)),r(n(536)),r(n(537)),r(n(538)),r(n(539))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(10),i=n(64),a=n(51),s=n(20),c=n(579);t.cnMMRelatedImages=c.cnMMRelatedImages;var u=o.naiveMemoiseOne(function(e){return function(t){return e(a.setSelectedRim(t))}}),l=o.naiveCreateSelector(function(e,t){return[o.getCurrentImageData(e),o.getShownImageData(e),e.rimSelectedIdx,e.rimForItem,e.rimLoadingId,e.config.rim,t]},function(e,t,n,r,i,a,s){return{imgHref:t&&t.imgHref?t.imgHref:(c=t,l=c&&c.dups&&c.dups[0],l&&l.origin?l.origin.url:""),rimid:o.getRimItemID(e),relatedImages:r,selectedRimIdx:n,setSelectedRim:u(s),isLoading:""!==i,baseRowHeight:a&&a.justifier.baseRowHeight};var c,l});t.MMRelatedImages=r.compose(s.withImageContext(l),i.withDefinedProps(["relatedImages","rimid","isLoading"]))(c.MMRelatedImages)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(7),i=n(10),a=n(221);n(584),t.MMTiledImages=function(e){var t=e.items,n=e.selectedItemIdx,c=e.onClick,u=e.clickedCounter,l=e.className,d=e.counterParams,p=e.incutStart,f=e.incutStep,h=e.incutRenderer,m=0;return r.createElement("div",{className:a.cnTiledImages(null,[l])},t.reduce(function(e,t,a){var l=d&&d.vars,v=t.thumb.url,g={},y=a===n;if(t.newWidth&&(g.width=t.newWidth+"px"),t.newHeight&&(g.height=t.newHeight+"px",t.rowHeight&&t.rowHeight>t.newHeight&&(g.paddingTop=Math.round((t.rowHeight-t.newHeight)/2)+"px")),e.push(r.createElement(s,{key:v,src:v,style:g,logNode:{events:{onClick:y?void 0:o.logClick(i.addCounterParams(u,{"-rim-idx":a,"-rim_index":a,"-pos":l&&l["-pos"],"-rim_id":t.rimid}))}},selected:y,onClick:c&&c.bind(void 0,a,t)})),t.isLast&&(m++,void 0!==p&&void 0!==f&&void 0!==h)){var b=m-p;b>=0&&b%f===0&&e.push(h(m,b/f))}return e},[]))};var s=o.withBaobab({name:"item"})(function(e){var t=e.selected,n=e.onClick,o=e.style,i=e.src,s=e.title,c=void 0===s?"":s;return r.createElement("div",{className:a.cnTiledImages("Item",{selected:t}),onClick:n,style:o},r.createElement("img",{src:i,className:a.cnTiledImages("Image"),alt:c}))})},,,,,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(3),o=n(2),i=n(0),a=n.n(i),s=n(4),c=(n(742),Object(s.cn)("Modal")),u=function(e){var t=e.children,n=e.className,i=e.contentVerticalAlign,s=e.hasAnimation,u=void 0===s||s,l=e.targetRef,d=e.visible,p=o.d(e,["children","className","contentVerticalAlign","hasAnimation","targetRef","visible"]),f=Object(r.useComponentRegistry)(c()).Popup;return a.a.createElement(f,o.a({},p,{className:c({visible:d,hasAnimation:u},[n]),visible:d}),a.a.createElement("div",{className:c("Table")},a.a.createElement("div",{className:c("Cell"),style:{verticalAlign:i}},a.a.createElement("div",{className:c("Content"),ref:l},t))))};u.displayName=c();var l=n(202),d=new r.Registry({id:c()});d.set("Popup",l.a);var p=Object(r.withRegistry)(d)(u),f=n(1),h=(n(743),Object(f.withBemMod)(c(),{theme:"normal"}));n(744);n.d(t,"Modal",function(){return p}),n.d(t,"cnModal",function(){return c}),n.d(t,"withThemeNormal",function(){return h})},,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n(266),i=n(363),a=n(364),s=n(365),c=n(251);function u(e,n){t.imageStoreProviderRegistry.set(e,n)}t.imageStoreProviderRegistry=new r.Registry({id:c.cnImageStore()}),u("DirectLoaderHighComm",o.MMDirectLoader),u("DirectLoaderLowComm",o.MMDirectLoader),u("DirectLoaderAdultHighComm",o.MMDirectLoader),u("DirectLoaderAdultLowComm",o.MMDirectLoader),u("RimLoader",i.MMRimLoader),u("TagsLoader",a.MMTagsLoader),u("FaviconLoader",s.MMFaviconLoader)},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var i=n(148),a=n(10),s=n(190),c=n(225),u=/[^a-zа-яїієґàâäèéêëîïôœùûüÿç0-9\-!'’"\s]/gi,l=/\s+/gi;function d(e){return e?i.decodeHTMLEntities(e).replace(u," "):""}function p(e,n){var r;if("shown"===n?r=a.getShownImageData(e):"current"===n&&(r=a.getCurrentImageData(e)),r){var o=t.getDirectLoadingResultForImage(e,r);return o&&o.data?o.data[0]||null:void 0}}function f(e,n,r){var o=t.isCommercialRequestForDS(e,n),i=r||n;return e.isQueryPorn?o?i.directPageIdAdultCommercial:i.directPageIdAdult:o?i.directPageIdCommercial:i.directPageIdLowCommercial}t.getDirect=s.entityMapGetterFabric("directData"),t.getDirectRequestText=s.naiveMemoiseOne(function(e,t){var n=[];t.useTagsTitle&&e.tags&&e.tags[0]&&n.push(e.tags[0]),t.useMarketTitle&&e.marketSnippet&&e.marketSnippet.title?n.push(e.marketSnippet.title):t.useSnippetTitle&&e.snippet.title&&n.push(e.snippet.title);var r=n.join(" ");return"meta"===t.cleanRequestText&&(r=d(r)),t.query&&(r=t.query+" "+r),"all"===t.cleanRequestText&&(r=d(r)),r.replace(l," ").trim()}),t.getDirectSnippetParams=function(e,n){var o=r({},n,{query:e.query});return o.useSnippetTitleForCommOnly&&(o.useSnippetTitle=t.isCommercialRequestForDS(e,o)),void 0===o.useSnippetTitle&&(o.useSnippetTitle=!0),o},t.getDirectItemID=s.naiveMemoiseOne(function(e,n){return e&&e.docid+"_"+t.getDirectRequestText(e,n)}),t.getDirectLoadingResultForImage=s.naiveMemoiseOne(function(e,n){var o=e.config.directSnippetParams;if(o){var i,a;o.useTagsTitle&&(a=c.getRimItemID(n),i=c.getTags(e,a));var s=r({},n,{tags:i&&i.data}),u=t.getDirectItemID(s,o);return t.getDirect(e,u)}}),t.getDirectDataForCurrentImage=s.naiveMemoiseOne(function(e){var t,n=c.getRimFeatures(e),r=n.searchAdvertEnabled,o=void 0!==r&&r,i=n.useDefaultSRFallback,a=void 0!==i&&i;return o?!(t=p(e,"shown"))&&"undefined"!==typeof t&&a&&(t=p(e,"current")):t=p(e,"current"),t}),t.isCommercialRequestForDS=s.naiveMemoiseOne(function(e,t){return(e.cm2||0)>t.queryCommThreshould}),t.getActualDirectPage=f,t.extractDirectDomain=function(e,n){if(n){var r=t.getDirectLoadingResultForImage(e,n),o=r&&r.data&&r.data[0];return o&&(o.punyDomain||o.domain)}},t.isDirectUseTagsTitle=function(e){var t=e.config.directSnippetParams;return Boolean(t&&t.useTagsTitle)},t.isDirectStripeEnabled=function(e){if(e.globalContext.isQueryPorn){var t=e.config.directStripeParams;return Boolean(t&&t.directIdAdult)}return!0},t.isDirectSnippetEnabled=function(e){if(e.globalContext.isQueryPorn){var t=e.config.directSnippetParams;return Boolean(t&&t.directPageIdAdult&&t.directPageIdAdultCommercial)}return!0},t.getDirectLoaderParamsFromState=function(e,t,n){var i,a=e.tld,s=e.query,c=e.lr,u=t.useMarketTitle,l=t.useTagsTitle,d=t.encryptUrl,p=t.baseUrl,h=t.queryPagesOrder,m=o(t,["useMarketTitle","useTagsTitle","encryptUrl","baseUrl","queryPagesOrder"]),v=f(e,t),g=l&&n.isDuckEnabled,y=t.emptyResponseFallbackParams,b=y?f(e,t,y):void 0;h&&(i=h.map(function(n){return f(e,t,n)}));var w=r({},m,{tld:a,url:p,query:s,pageId:v,region:String(c),pageReqid:e.reqid,useMarketTitle:u,useTagsTitle:g,encryptUrl:d});return i&&(w.queryPagesOrder=i),b&&(w.emptyResponseFallbackPageId=b),w}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExtractMMDirectResponseData=function(e){var t,n;"string"===typeof e&&(t=e.match(/^(\/\*\*\/)?\('(.*)\'\)$/)),n=t&&t[2]?t[2]:e;try{if(!n||"{ }"===n)throw new Error("Empty response");return new Function("return"+n)()}catch(e){return{error:e}}}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(31),s=function(e){function t(t){var n=e.call(this,{format:"json",credentials:"same-origin",storeGetter:t.storeGetter,storeSetter:t.storeSetter})||this;return n.path=t.path,n.config=t.config,n}return o(t,e),t.prototype.getItemID=function(e){return e},t.prototype.extractResponseData=function(e){var t=this;if(!e.rld||!e.rld.length)return[];var n=this.config.justifier.baseRowHeight;return[e.rld.map(function(e,r){var o=e.s[0],i=e.s[0],a=e.bid&&e.btw&&e.bth?[{w:e.btw,h:e.bth,url:t.buildThumbUrl(e.bid,{n:13,w:e.btw,h:e.bth}),origin:{w:i.iw,h:i.ih,url:i.iu},isMixedImage:!0}]:null,s=e.tw,c=e.th,u=n*t.getPixelDensity(),l=t.thumbSize33(s,c,u),d=e.s.map(function(e){return{w:e.iw,h:e.ih,url:e.iu}}),p=a||d;return{id:e.id,rimid:e.id,pos:r,docid:e.zid,thumb:{url:t.buildThumbUrl(e.tid,{n:33,w:l.width,h:l.height}),size:{w:e.tw,h:e.th}},width:e.bth,height:e.btw,preview:p,dups:d,images:[],snippet:{text:"",title:o.t,url:o.pu,redirUrl:o.pu,domain:o.ph,hasTitle:!0}}})]},t.prototype.buildThumbUrl=function(e,t){var n=this.config,r=this.getThumbHostNum(n),o=n.thumb.hosts[r],s=t||n.thumb.params;return a.appendQueryString("https://"+o+"/i",i({id:e,ref:"rim"},s))},t.prototype.getThumbHostNum=function(e){return e.thumb.hosts.length>=2?1:0},t.prototype.getUrl=function(e){var t=this.config,n=t.loader.tld||"ru",r=t.loader.host||"yandex."+n+"/images-apphost";return a.appendQueryString("https://"+r+"/"+this.path,i({docid:e[0].data,lang:n},t.loader.urlParams))},t.prototype.thumbSize33=function(e,t,n){var r=Math.max(e/480,t/n);return{width:Math.round(e/r),height:Math.round(t/r)}},t.prototype.getPixelDensity=function(){return window.devicePixelRatio||1},t}(n(191).BatchDataLoader);t.MMRimLoader=s},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(31),a=function(e){function t(t){var n=e.call(this,{format:"json",credentials:"same-origin",storeGetter:t.storeGetter,storeSetter:t.storeSetter})||this;return n.uniqueHandler=!0,n.tagsCount=5,n.params={text:t.text,tld:t.tld},n}return o(t,e),t.prototype.updateParams=function(e){this.params=Object.assign(this.params,e)},t.prototype.getUrl=function(e){var t=this.params,n=t.tld,r=void 0===n?"ru":n,o=t.text;return i.appendQueryString("https://yandex."+r+"/images-apphost/duck",{docid:e[0].data,count:this.tagsCount,lang:r,text:o})},t.prototype.extractResponseData=function(e){return Array.isArray(e)?[e.filter(function(e){return"string"===typeof e})]:[]},t.prototype.getItemID=function(e){return e},t}(n(191).BatchDataLoader);t.MMTagsLoader=a},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(191),a=n(10),s=function(e){function t(t){var n=t.storeGetter,r=t.storeSetter,o=t.multiRequestLimit,i=e.call(this,{credentials:"omit",format:"json",storeGetter:n,storeSetter:r,multiRequestLimit:o})||this;return i.getItemID=a.naiveMemoiseOne(i.getItemID),i}return o(t,e),t.prototype.getItemID=function(e){return e.toLowerCase()},t.prototype.getUrl=function(e){return"https://favicon.yandex.net/favicon/"+e.map(function(e){return e.data}).join("/").toLowerCase()+"?size=16&json=1"},t.prototype.extractResponseData=function(e){return e.map(function(e){return e.image||null})},t}(i.BatchDataLoader);t.MMFaviconLoader=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(367);t.RejectReason=r.RejectReason;var o=function(){function e(e){this.currentWorkersData=[],this.imagesCache={},this.resultHandler=this.resultHandler.bind(this),this.validateImages=e&&e.validateImages,this.onImageLoaded=e&&e.onImageLoaded,this.onImageSizeError=e&&e.onImageSizeError,this.onImageFileSizeError=e&&e.onImageFileSizeError,this.onImageError=e&&e.onImageError}return e.prototype.load=function(e,t){var n=this,o=this.imagesCache[e.id];if(!this.currentWorkersData.some(function(t){return t.item.id===e.id})&&!o){var i;this.stop();i={item:e,onResultHandler:t,loader:new r.ImageItemLoader(e,function(e,t){n.resultHandler(e,t,i)},{itemTimeout:15e3,timeout:9e4,validateImages:this.validateImages,onImageSizeError:this.onImageSizeError,onImageFileSizeError:this.onImageFileSizeError,onImageError:this.onImageError})},this.currentWorkersData.push(i)}},e.prototype.stop=function(){return this.currentWorkersData.length&&(this.currentWorkersData.forEach(function(e){return e.loader.stop()}),this.currentWorkersData.length=0),this},e.prototype.removeItemFromQueue=function(e){var t=this.currentWorkersData.indexOf(e);-1!==t&&this.currentWorkersData.splice(t,1)},e.prototype.resultHandler=function(e,t,n){var o=n.item,i=n.onResultHandler;if(this.removeItemFromQueue(n),!e&&t&&(this.imagesCache[o.id]=t),this.onImageLoaded&&this.onImageLoaded(o,t),i)return e||!t?i(e||r.RejectReason.error):void i(void 0,t)},e}();t.MMImageLoader=o},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(267),a=n(267);t.noop=a.noop,t.RejectReason=a.RejectReason;var s=/^(https?:)?\/\/(avatars\.mds\.yandex|im[0-9]+-tub-ru\.yandex)\.net/i,c=function(e){function t(t,n,r){var o=e.call(this,n,r)||this;return o.idx=0,o.validateImages=!r||void 0===r.validateImages||r.validateImages,o.onImageSizeError=r&&r.onImageSizeError,o.onImageFileSizeError=r&&r.onImageFileSizeError,o.item=t,o.startLoading(),o}return o(t,e),t.prototype.getUrlFromItem=function(){return this.currentThumb=this.switchToNextThumb(),this.currentThumb?this.currentThumb.url:void 0},t.prototype.getResultData=function(){return this.currentThumb},t.prototype.onLoad=function(){return this.validateImages&&this.loader&&this.currentThumb&&!this.isValidImage(this.loader,this.currentThumb)?this.onError():e.prototype.onLoad.call(this)},t.prototype.onError=function(){if(!this.tryLoadNext()){if(this.thumbWithWrongFileSize)return this.currentThumb=this.thumbWithWrongFileSize,e.prototype.onLoad.call(this);this.onResult(i.RejectReason.error)}},t.prototype.isValidImage=function(e,t){var n=this.getImageInfo(e);return this.isSizeMatch(n,t,2)?!!(t.isMixedImage||this.isWhiteListUrl(n.url)||this.isFileSizeMatch(e,t.fileSizeInBytes))||(this.onImageFileSizeError&&this.onImageFileSizeError(n.url),this.thumbWithWrongFileSize=this.currentThumb,!1):(this.onImageSizeError&&this.onImageSizeError(n.url),!1)},t.prototype.getImageInfo=function(e){return{url:e.src,w:e.width,h:e.height}},t.prototype.isFileSizeMatch=function(e,t){if(!t||!window.yandex)return!0;var n,r=window.yandex.publicFeature;if(!r||!r.getImageOriginalSize||!r.getImageSize)return!0;try{n=r.getImageOriginalSize(e)}catch(t){try{n=r.getImageSize(e)}catch(e){return!0}}return n===t},t.prototype.isSizeMatch=function(e,t,n){return void 0===n&&(n=0),!t.w&&!t.h||Math.abs(e.w-t.w)<=n&&Math.abs(e.h-t.h)<=n},t.prototype.isWhiteListUrl=function(e){return s.test(e)},t.prototype.switchToNextThumb=function(){var e,t=this.idx;if(this.item.preview){if(t<(e=this.item.preview.length))return this.idx++,this.item.preview[t];for(t-=e;t<e;){var n=this.item.preview[t].origin;if(this.idx++,n)return n;t++}t-=e}if(t<(e=this.item.dups.length))return this.idx++,this.item.dups[t];for(t-=e;t<e;){var r=this.item.dups[t].origin;if(this.idx++,r)return r;t++}},t}(i.BaseImageItemLoader);t.ImageItemLoader=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(369);var r=function(){function e(){this.history=document.createElement("div"),this.history.className="image_history_cache",document.body.appendChild(this.history)}return e.prototype.addToHistory=function(e){var t=document.createElement("img");t.src=e,this.history.appendChild(t)},e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}();t.ImageHistoryCache=r},function(e,t,n){},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(10),i=n(51),a=n(271);function s(e,t,n){var r=e.rimLoader;if(r){var o=t.rimData[n];o?e.dispatch(i.addRimData(n,o)):r.load(n,{preempt:!0})}}function c(e,t){var n=o.getShownImageData(t);n&&((u=o.extractDirectDomain(t,n))&&!o.getFavicon(t,u)&&e.faviconLoader&&e.faviconLoader.load(u));for(var r=t.images,i=o.getPreloadImagesIndexes(t),a=i.min,s=i.max,c=a;c<s;c++){var u,l=r[c];if(l)(u=o.extractDirectDomain(t,l))&&!o.getFavicon(t,u)&&e.faviconLoader&&e.faviconLoader.load(u)}}t.preloadImages=a.preloadImages,t.loadDataForItem=function(e,t){var n,i=o.getCurrentImageData(t),a={preempt:!0,cleanChain:!0},s=o.getRimItemID(i),u=o.getFaviconItemID(i),l=t.config.marketSnippetParams,d=o.getTags(t,o.getTagsItemID(i));l&&"top"===l.theme&&i&&i.marketSnippet&&(n=i.marketSnippet.punycode||i.marketSnippet.domain),n&&e.faviconLoader&&e.faviconLoader.load(n,a),u&&e.faviconLoader&&e.faviconLoader.load(u,a),c(e,t),s&&e.tagsLoader&&e.tagsLoader.load(s,a),e.directLoader&&i&&e.directLoader.load(r({},i,{tags:d&&d.data}),a)},t.loadDataForRim=function(e,t){var n=o.getShownImageData(t);if(n){var i={preempt:!0},a=o.getRimItemID(n),s=o.getFaviconItemID(n),c=o.getTags(t,o.getTagsItemID(n));a&&e.tagsLoader&&e.tagsLoader.load(a,i),s&&e.faviconLoader&&e.faviconLoader.load(s,i);var u=o.getRimFeatures(t).searchAdvertEnabled;void 0!==u&&u&&e.directLoader&&e.directLoader.load(r({},n,{tags:c&&c.data}),i)}},t.loadInitialRimPage=function(e,t){var n=o.getCurrentImageData(t),r=o.getRimItemID(n);r&&s(e,t,r)},t.loadNextRimPage=function(e,t){var n=t.rimLoadingId;n&&s(e,t,n)},t.precacheRim=function(e,t){var n=e.rimLoader;if(n){var r=t.config.rim;if(r&&r.loader.pagesMaxCount){var i=r.loader,a=i.preloadCountOnInit,s=void 0===a?1:a,c=i.preloadCountOnMore,u=void 0===c?1:c,l=t.rimPagesCount,d=t.rimLoadingIdx,p=t.rimLoadingId,f=t.rimForItem,h=!p&&1===l,m=h?s:u,v=h?0:s+d,g=o.getPrecacheRimIds(f,v,m);g.length&&n.precache(g)}}},t.loadActualDirectFavicon=c,t.loadActualImageDirect=function(e,t){if(e.directLoader)for(var n=o.getPreloadImagesIndexes(t),i=n.min,a=n.max,s=t.images,c=i;c<a;c++){var u=s[c];if(u){var l=o.getTags(t,o.getTagsItemID(u));e.directLoader.load(r({},u,{tags:l&&l.data}),c===i?{preempt:!0}:void 0)}}},t.preloadData=function(e,t){for(var n=o.getPreloadImagesIndexes(t),i=n.min,a=n.max,s=t.images,c=[],u=[],l=[],d=t.config.marketSnippetParams,p=i;p<a;p++){var f=s[p];if(f){var h=o.getFaviconItemID(f),m=o.getRimItemID(f),v=o.getDirectLoadingResultForImage(t,f),g=v&&v.data&&v.data[0],y=g&&(g.punyDomain||g.domain),b=o.getTags(t,o.getTagsItemID(f));c.push(r({},f,{tags:b&&b.data})),h&&l.push(h),y&&l.push(y),m&&u.push(m),d&&"top"===d.theme&&f.marketSnippet&&l.push(f.marketSnippet.punycode||f.marketSnippet.domain)}}e.faviconLoader&&e.faviconLoader.precache(l),e.tagsLoader&&e.tagsLoader.precache(u),e.rimLoader&&(e.rimLoader.cleanChain(),e.rimLoader.precache(u)),e.directLoader&&e.directLoader.precache(c)},t.updateLoadersParams=function(e,t){t.config.directSnippetParams&&e.initDirectLoader(),e.tagsLoader&&e.tagsLoader.updateParams(o.getTagsLoaderParamsFromState(t.globalContext))}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(372),i=n(20),a=n(51),s=n(10),c=n(272),u=h("directData"),l=h("favicons"),d=h("tags"),p=h("rimData");var f=3e5;function h(e){return function(t,n,o){var i,a;return(i={})[e]=r({},t[e],((a={})[n]=o,a)),i}}t.default=function(e,t){switch(void 0===e&&(e=i.defaultInitialState),t.type){case a.ImagesActions.UPDATE_CONFIG:return function(e,t){var n={config:r({},e.config,t)};return n.config.directSnippetParams&&(n.config.directSnippetParams=s.getDirectSnippetParams(e.globalContext,n.config.directSnippetParams)),n}(e,t.config);case a.ImagesActions.UPDATE_CONTEXT:return function(e,t){var n={globalContext:r({},e.globalContext,t)};return e.config.directSnippetParams&&n.globalContext&&(n.config=e.config,n.config.directSnippetParams=s.getDirectSnippetParams(e.globalContext,e.config.directSnippetParams)),n}(e,t.context);case a.ImagesActions.ADD_DIRECT_DATA:return u(e,t.id,t.data);case a.ImagesActions.ADD_FAVICON_DATA:return l(e,t.id,t.data);case a.ImagesActions.ADD_TAGS_DATA:return d(e,t.id,t.data);case a.ImagesActions.ADD_RIM_DATA:return function(e,t,n){var o=e.imagesByRimId,i=e.rimForItem,a=e.rimLoadingId,u=e.rimPageItems,l=e.rimPageItemsMap,d=e.rimLoadingIdx,f=e.rimPagesCount,h=e.loadedRimThumbs,m=p(e,t,n),v=s.getRimItemID(s.getCurrentImageData(e)),g=s.getFilteredRimItems(n&&n.data||[],l,h);if(v===t){var y=s.getCurrentImageData(e);y&&(l=c.mergeImagesToRimMap([y],l)),l=c.mergeImagesToRimMap(g,l),i=g,f++}else if(a===t){var b=e.config.rim,w=b?b.loader.itemsOnPage:8;u=u.concat(g),l=c.mergeImagesToRimMap(g,l),u.length>=w?(i=i.concat(u),u=[],a="",f++):(d++,a=s.getRimItemID(i[d])||"")}return o=c.mergeImagesToRimMap(g,o),r({},m,{rimForItem:i,rimPageItems:u,rimPageItemsMap:l,rimPagesCount:f,rimLoadingId:a,rimLoadingIdx:d,imagesByRimId:o})}(e,t.id,t.data);case a.ImagesActions.REQUEST_RIM_PAGE:return function(e){var t=e.config.rim;if(!t)return null;var n=t.loader.pagesMaxCount,r=e.rimLoadingIdx,o=e.rimLoadingId,i=e.rimForItem,a=e.rimPagesCount;return o||a>n?null:(r++,{rimLoadingId:o=s.getRimItemID(i[r])||"",rimLoadingIdx:r})}(e);case a.ImagesActions.SET_SELECTED_RIM:return function(e,t){var n,o=s.getPureSelectedRimImageDataByIdx(e,t),i={rimSelectedIdx:t};if(o){var a=e.loadedThumbs[o.id];a&&!a.data&&(i.loadedThumbs=r({},e.loadedThumbs,((n={})[o.id]=void 0,n)))}return i}(e,t.idx);case a.ImagesActions.SET_CURRENT_ITEM_IDX:return function(e,t){var n;if(t===e.currentItemIdx)return{rimSelectedIdx:void 0};var o={currentItemIdx:t,rimSelectedIdx:void 0,rimForItem:[],rimLoadingId:"",rimLoadingIdx:-1,rimPagesCount:0,rimPageItemsMap:{}},i=s.getImageDataByIdx(e,t),a=i&&e.loadedThumbs[i.id];return a&&!a.data&&(o.loadedThumbs=r({},e.loadedThumbs,((n={})[i.id]=void 0,n))),o}(e,t.index);case a.ImagesActions.ADD_IMAGES_BY_THUMB:return o.addImagesByThumbsOrder(e,t.items);case a.ImagesActions.ADD_IMAGES_BY_POS:return o.addImagesByPos(e,t.items);case a.ImagesActions.SET_IMAGES_BY_POS:return o.setImagesByPos(e,t.items);case a.ImagesActions.ADD_LOADED_THUMB_DATA:return function(e,t,n,o){var i,a={loadedThumbs:r({},e.loadedThumbs,(i={},i[t]=n,i))};if(void 0===o)return a;var s=e.images[o];return s&&(a.images=e.images.slice(),a.images[o]=r({},s,{loadedImage:n})),a}(e,t.id,t.data,t.index);case a.ImagesActions.ADD_CROP_OBJECT:return function(e,t){var n;return{cropObjects:r({},e.cropObjects,(n={},n[t.imageId]={data:t.data,expireTime:t.timestamp+f},n))}}(e,t);case a.ImagesActions.ADD_LOADED_RIM_THUMB_DATA:return function(e,t,n){var o,i=r({},e.loadedRimThumbs,((o={})[t]=n,o)),a={loadedRimThumbs:i};return a.rimForItem=s.getFilteredRimItems(e.rimForItem,void 0,i),a}(e,t.id,t.data);default:return e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10),o=n(272);t.addImagesByThumbsOrder=function(e,t){return function(e,t,n,r){if(!r)return{images:t.concat(n),loadedPagesCount:e+1};var o=t.slice(0);return n.forEach(function(e){var t=r[e.docid];"undefined"!==typeof t?(o[t]=e,delete r[e.docid]):o.push(e)}),{loadedPagesCount:e+1,images:o,emptyImagesMap:Object.keys(r).length?r:void 0}}(e.loadedPagesCount,e.images,r.getNextItems(e.config.viewerDataLoadingType||0,t,e.images.length),e.emptyImagesMap)},t.setImagesByPos=function(e,t){return{images:o.mergeImagesByPos(t),imagesByRimId:o.mergeImagesToRimMap(t)}},t.addImagesByPos=function(e,t){return{images:o.mergeImagesByPos(t,e.images),imagesByRimId:o.mergeImagesToRimMap(t,e.imagesByRimId)}}},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0});var o=n(0);t.contextStub={reqid:"#invalid-value-error",query:"#invalid-value-error",yandexuid:"#invalid-value-error",lr:-100500,tld:"#invalid-value-error",lang:"#invalid-value-error"},t.GlobalContextProvider=(r=o.createContext(t.contextStub)).Provider,t.GlobalContextConsumer=r.Consumer},function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0);function a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.reduce(function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e(t.apply(void 0,o(n)))}})}t.getDisplayName=function(e){return e.displayName||e.name||"Component"},t.compose=a,t.useHocks=function(e){return i.useMemo(function(){return a.apply(void 0,o(e))},[e])}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0);n(376);var i=n(227);t.ISpinnerSize=i.ISpinnerSize,t.SpinnerSizeM=function(e){return o.createElement(i.Spinner,r({size:i.ISpinnerSize.m},e))}},function(e,t,n){},function(e,t,n){},function(e,t,n){
/*!
* screenfull
* v3.3.3 - 2018-09-04
* (c) Sindre Sorhus; MIT License
*/
!function(){"use strict";var t="undefined"!==typeof window&&"undefined"!==typeof window.document?window.document:{},n=e.exports,r="undefined"!==typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,o=function(){for(var e,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],r=0,o=n.length,i={};r<o;r++)if((e=n[r])&&e[1]in t){for(r=0;r<e.length;r++)i[n[0][r]]=e[r];return i}return!1}(),i={change:o.fullscreenchange,error:o.fullscreenerror},a={request:function(e){var n=o.requestFullscreen;e=e||t.documentElement,/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)?e[n]():e[n](r?Element.ALLOW_KEYBOARD_INPUT:{})},exit:function(){t[o.exitFullscreen]()},toggle:function(e){this.isFullscreen?this.exit():this.request(e)},onchange:function(e){this.on("change",e)},onerror:function(e){this.on("error",e)},on:function(e,n){var r=i[e];r&&t.addEventListener(r,n,!1)},off:function(e,n){var r=i[e];r&&t.removeEventListener(r,n,!1)},raw:o};o?(Object.defineProperties(a,{isFullscreen:{get:function(){return Boolean(t[o.fullscreenElement])}},element:{enumerable:!0,get:function(){return t[o.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(t[o.fullscreenEnabled])}}}),n?e.exports=a:window.screenfull=a):n?e.exports=!1:window.screenfull=!1}()},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.markup=function(e,t){for(var n,r,o=t.delimiters,i=t.highlighter,a=t.textPreprocessor,s=o.start,c=o.end,u=[],l=[],d=0,p=0,f=0,h=function(t){var o=!1===r?n:e.indexOf(s,t),i=!0===r?n:e.indexOf(c,t);return o>-1&&(o<i||-1===i)?(n=i,r=!0,d=s.length,o):(n=o,r=!1,d=c.length,i)},m=h(0);m>-1;){if(p!==m&&l.push(a(e.substring(p,m))),r)u.push(l),l=[];else if(u.length){var v=l;l=u.pop(),v.length&&l.push(i(v,f++))}m=h(p=m+d)}var g=e.substring(p);for(g&&l.push(a(g));u.length;)v=l,l=u.pop(),v.length&&l.push(i(v,f++));return l}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4);t.cnFullscreenControls=r.cn("FullscreenControls")},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(383)),r(n(384)),r(n(385)),r(n(386)),r(n(387)),r(n(388)),r(n(389)),r(n(390)),r(n(391)),r(n(392))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.be={"Закрыть":"Зачыніць","Запустить":"Запусціць","Остановить":"Спыніць"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.en={"Закрыть":"Close","Запустить":"Start","Остановить":"Stop"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.id={"Закрыть":"Tutup","Запустить":"Mulai","Остановить":"Berhenti"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.kk={"Закрыть":"Жабу","Запустить":"Iске қосу","Остановить":"Тоқтату"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pl={"Закрыть":"Zamknij","Запустить":"Start","Остановить":"Stop"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ru={"Закрыть":"Закрыть","Запустить":"Запустить","Остановить":"Остановить"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tr={"Закрыть":"Kapat","Запустить":"Başlat","Остановить":"Durdur"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tt={"Закрыть":"Закрыть","Запустить":"Запустить","Остановить":"Остановить"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uk={"Закрыть":"Закрыть","Запустить":"Запустити","Остановить":"Зупинити"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uz={"Закрыть":"Yopish","Запустить":"Ishga tushirish","Остановить":"To‘xtatish"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(20),o=n(394);t.Trimmer=r.withImageContext(function(e){return{areCropObjectsEnabled:e.config.areCropObjectsEnabled}})(o.Trimmer)},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=n(4),s=n(395);n(400);var c=a.cn("trimmer"),u=function(e){function t(t){var n=e.call(this,t)||this;return n.startPointerXMove=NaN,n.startPointerYMove=NaN,n.startPositionXMove=NaN,n.startPositionYMove=NaN,n.startSizeWidthMove=NaN,n.startSizeHeightMove=NaN,n.pointNameMove="",n.actionName="",n.trimmerRef=i.createRef(),n.parentWidth=0,n.parentHeight=0,n.positionX=0,n.positionY=0,n.initWidthInPercent=70,n.initHeighInPercent=70,n.minWidth=50,n.minHeight=50,n.x=15,n.y=15,n.width=0,n.height=0,n.onCropObjectClick=function(e){n.setSize(e.size.width,e.size.height),n.setPosition(e.position.x,e.position.y),n.props.saveTrimmerArea(n.getArea(),"crop-object-click"),n.setActiveCropObject(e)},n.onPointerDown=n.onPointerDown.bind(n),n.onPointerUp=n.onPointerUp.bind(n),n.onTrimmerPointerMove=n.onTrimmerPointerMove.bind(n),n.onTrimmerPointerDown=n.onTrimmerPointerDown.bind(n),n.onPointPointerMove=n.onPointPointerMove.bind(n),n.onPointPointerDown=n.onPointPointerDown.bind(n),n.onPointLeftTopPointerDown=n.onPointLeftTopPointerDown.bind(n),n.onPointRightTopPointerDown=n.onPointRightTopPointerDown.bind(n),n.onPointLeftBottomPointerDown=n.onPointLeftBottomPointerDown.bind(n),n.onPointRightBottomPointerDown=n.onPointRightBottomPointerDown.bind(n),n.state={activeCropObject:null},n}return o(t,e),t.prototype.componentDidMount=function(){this.setDefaults(),this.checkParentSize(),this.setSize(this.initWidthInPercent,this.initHeighInPercent),this.setPosition(this.x,this.y),this.props.saveTrimmerArea(this.getArea(),"point")},t.prototype.componentWillUnmount=function(){window.removeEventListener("mouseup",this.onPointerUp),window.removeEventListener("mousemove",this.onTrimmerPointerMove),window.removeEventListener("mousemove",this.onPointPointerMove)},t.prototype.getArea=function(){var e=this.getRectangle(),n=e.point1,r=e.point2;return{point1:{x:this.roundNumber(t.toRangeFromZeroToOne(n.x),4),y:this.roundNumber(t.toRangeFromZeroToOne(n.y),4)},point2:{x:this.roundNumber(t.toRangeFromZeroToOne(r.x),4),y:this.roundNumber(t.toRangeFromZeroToOne(r.y),4)}}},t.prototype.render=function(){var e=this.props,n=e.areCropObjectsEnabled,r=e.cropObjectsWrapperClassName,o=e.cropObjectsClassName,a=e.imageHref,u=e.imageId,l=this.state.activeCropObject,d=n&&i.createElement(s.CropObjects,{className:r,objectsClassName:o,activeCropObject:l,imageHref:a,imageId:u,onObjectClick:this.onCropObjectClick});return i.createElement(i.Fragment,null,i.createElement("div",{className:c(null,[this.props.className]),ref:this.trimmerRef,onClick:t.stopPropogation,onMouseDown:this.onTrimmerPointerDown},i.createElement("div",{className:c("point",{pos:"left-top"}),onClick:t.stopPropogation,onMouseDown:this.onPointLeftTopPointerDown}),i.createElement("div",{className:c("point",{pos:"right-top"}),onClick:t.stopPropogation,onMouseDown:this.onPointRightTopPointerDown}),i.createElement("div",{className:c("point",{pos:"right-bottom"}),onClick:t.stopPropogation,onMouseDown:this.onPointRightBottomPointerDown}),i.createElement("div",{className:c("point",{pos:"left-bottom"}),onClick:t.stopPropogation,onMouseDown:this.onPointLeftBottomPointerDown})),d)},t.prototype.onPointLeftTopPointerDown=function(e){this.onPointPointerDown(e,"left-top")},t.prototype.onPointRightTopPointerDown=function(e){this.onPointPointerDown(e,"right-top")},t.prototype.onPointLeftBottomPointerDown=function(e){this.onPointPointerDown(e,"left-bottom")},t.prototype.onPointRightBottomPointerDown=function(e){this.onPointPointerDown(e,"right-bottom")},t.prototype.onPointPointerDown=function(e,t){e.stopPropagation(),this.onPointerDown(e),this.pointNameMove=t,this.actionName="size",window.addEventListener("mousemove",this.onPointPointerMove)},t.prototype.setPosition=function(e,t){if(this.trimmerRef.current){var n=this.roundNumber(e),r=this.roundNumber(t);n=Math.max(0,n),r=Math.max(0,r),n=Math.min(100-this.width,n),r=Math.min(100-this.height,r),this.trimmerRef.current.style.top=r+"%",this.trimmerRef.current.style.left=n+"%",this.positionX=n,this.positionY=r}},t.prototype.getRectangle=function(){return{point1:{x:this.positionX,y:this.positionY},point2:{x:this.positionX+this.width,y:this.positionY+this.height}}},t.prototype.onPointerDown=function(e){this.startPointerXMove=e.clientX,this.startPointerYMove=e.clientY,this.startPositionXMove=this.positionX,this.startPositionYMove=this.positionY,this.startSizeWidthMove=this.width,this.startSizeHeightMove=this.height,this.checkParentSize(),window.addEventListener("mouseup",this.onPointerUp)},t.prototype.onPointerUp=function(){this.props.saveTrimmerArea(this.getArea(),this.actionName),window.removeEventListener("mouseup",this.onPointerUp),window.removeEventListener("mousemove",this.onTrimmerPointerMove),window.removeEventListener("mousemove",this.onPointPointerMove),this.setDefaults(),this.resetActiveCropObject()},t.prototype.onTrimmerPointerDown=function(e){this.onPointerDown(e),this.actionName="drag",window.addEventListener("mousemove",this.onTrimmerPointerMove)},t.prototype.onTrimmerPointerMove=function(e){e.stopPropagation();var t=e.clientX-this.startPointerXMove,n=e.clientY-this.startPointerYMove,r=this.convertPixelsToPercentages(t,n);this.setPosition(this.startPositionXMove+r.x,this.startPositionYMove+r.y)},t.prototype.onPointPointerMove=function(e){e.stopPropagation();var t=e.clientX-this.startPointerXMove,n=e.clientY-this.startPointerYMove,r=this.convertPixelsToPercentages(t,n),o=this.convertPixelsToPercentages(this.minWidth,this.minHeight),i=this.startPositionXMove+this.startSizeWidthMove,a=this.startPositionYMove+this.startSizeHeightMove,s=100-this.startPositionXMove,c=100-this.startPositionYMove,u=this.startPositionXMove+this.startSizeWidthMove-o.x,l=this.startPositionYMove+this.startSizeHeightMove-o.y;switch(this.pointNameMove){case"left-top":this.setSize(Math.min(i,this.startSizeWidthMove-r.x),Math.min(a,this.startSizeHeightMove-r.y)),this.setPosition(Math.min(u,this.startPositionXMove+r.x),Math.min(l,this.startPositionYMove+r.y));break;case"right-top":this.setSize(Math.min(s,this.startSizeWidthMove+r.x),Math.min(a,this.startSizeHeightMove-r.y)),this.setPosition(this.startPositionXMove,Math.min(l,this.startPositionYMove+r.y));break;case"right-bottom":this.setSize(Math.min(100-this.positionX,this.startSizeWidthMove+r.x),Math.min(100-this.positionY,this.startSizeHeightMove+r.y));break;case"left-bottom":this.setSize(Math.min(i,this.startSizeWidthMove-r.x),Math.min(c,this.startSizeHeightMove+r.y)),this.setPosition(Math.min(u,this.startPositionXMove+r.x),this.startPositionYMove)}},t.prototype.convertPixelsToPercentages=function(e,t){return{x:e/this.parentWidth*100,y:t/this.parentHeight*100}},t.prototype.setSize=function(e,t){var n=this.convertPixelsToPercentages(this.minWidth,this.minHeight),r=this.roundNumber(e),o=this.roundNumber(t);r=Math.max(n.x,r),o=Math.max(n.y,o),this.trimmerRef.current.style.width=e+"%",this.trimmerRef.current.style.height=t+"%",this.width=r,this.height=o},t.prototype.roundNumber=function(e,t){void 0===t&&(t=2);var n=Math.pow(10,t);return Math.round(e*n)/n},t.prototype.setDefaults=function(){this.startPointerXMove=NaN,this.startPointerYMove=NaN,this.startPositionXMove=NaN,this.startPositionYMove=NaN,this.startSizeWidthMove=NaN,this.startSizeHeightMove=NaN,this.pointNameMove=""},t.prototype.checkParentSize=function(){var e=this.trimmerRef.current.parentNode;this.parentWidth=e.offsetWidth,this.parentHeight=e.offsetHeight},t.prototype.setActiveCropObject=function(e){this.state.activeCropObject!==e&&this.setState({activeCropObject:e})},t.prototype.resetActiveCropObject=function(){this.state.activeCropObject&&this.setState({activeCropObject:null})},t.stopPropogation=function(e){e.stopPropagation()},t.toRangeFromZeroToOne=function(e){return e/100},t}(i.Component);t.Trimmer=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(51),o=n(20),i=n(396);t.CropObjects=o.withImageContext(function(e,t,n){return{cropObjects:n.imageId&&e.cropObjects[n.imageId]||void 0,fetchCropObjects:function(e,t){return function(n,o){return r.fetchCropObjects(e,t,n,o)}}(t,e)}})(i.CropObjects)},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),a=n(0),s=n(397);n(399);var c=i.cn("CropObjects"),u=function(e){function t(t){var n=e.call(this,t)||this;return n.updateWrapRef=function(e){n.setState({wrapElement:e})},n.state={wrapElement:null},n}return o(t,e),t.prototype.componentDidMount=function(){this.loadImageCropObjects()},t.prototype.render=function(){var e,t=this.props,n=t.className,r=t.activeCropObject,o=t.cropObjects,i=t.objectsClassName,u=t.onObjectClick,l=this.state.wrapElement;if(!o||!o.data.length)return null;if(l){var d=100/l.offsetWidth,p=100/l.offsetHeight;e=o&&o.data.map(function(e,t){var n=c("Item",{active:r===e},[i]),o=e.position.x+e.size.width/2-d+"%",l=e.position.y+e.size.height/2-p+"%";return a.createElement(s.CropObjectsItem,{key:t,className:n,style:{top:l,left:o},onClick:function(){return u(e)}})})}return a.createElement("div",{className:n,ref:this.updateWrapRef},e)},t.prototype.loadImageCropObjects=function(){var e=this.props,t=e.fetchCropObjects,n=e.imageHref,r=e.imageId;r&&n&&t(r,n)},t}(a.PureComponent);t.CropObjects=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),o=n(0);n(398);var i=r.cn("CropObjectsItem");t.CropObjectsItem=function(e){var t=e.className,n=e.style,r=e.onClick;return o.createElement("div",{className:i(null,[t]),style:n,onClick:r},o.createElement("div",{className:i("Point")}))}},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(228),o=n(10);t.isObjectFitSupported=function(){if(!r.canUseDOM)return!1;var e=document.createElement("img");return e.style.cssText="object-fit:cover",Boolean(e.style.objectFit)}(),t.isFirefox="undefined"!==typeof InstallTrigger,t.getThumbsParam=o.naiveMemoiseOne(function(e){return e.preview&&e.preview[0]||e.dups&&e.dups[0]||{}})},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(405)),r(n(406)),r(n(407)),r(n(408)),r(n(409)),r(n(410)),r(n(411)),r(n(412)),r(n(413)),r(n(414))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.be={"Искать":"Шукаць","Отменить":"Адмяніць","Укажите выше область для поиска по картинке":"Зазначце вышэй абшар для пошуку па малюнку"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.en={"Искать":"Search","Отменить":"Cancel","Укажите выше область для поиска по картинке":"Select the area of the image that you want to use for image search"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.id={"Искать":"Cari","Отменить":"Batal","Укажите выше область для поиска по картинке":"Pilih area gambar yang ingin Anda gunakan untuk pencarian gambar"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.kk={"Искать":"Іздеу","Отменить":"Болдырмау","Укажите выше область для поиска по картинке":"Сурет бойынша іздеу үшін жоғары аймақты көрсетіңіз"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pl={"Искать":"Szukaj","Отменить":"Anuluj","Укажите выше область для поиска по картинке":"Zaznacz obszar obrazu, który chcesz wykorzystać do wyszukiwania obrazów"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ru={"Искать":"Искать","Отменить":"Отменить","Укажите выше область для поиска по картинке":"Укажите выше область для поиска по картинке"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tr={"Искать":"Bul","Отменить":"İptal","Укажите выше область для поиска по картинке":"Görsel arama için yukarıda bölümü belirtin"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tt={"Искать":"Эзләргә","Отменить":"Баш тартырга","Укажите выше область для поиска по картинке":"Югарыдарак рәсем буенча эзләү өлкәсен күрсәтегез"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uk={"Искать":"Шукати","Отменить":"Скасувати","Укажите выше область для поиска по картинке":"Вкажіть вище область для пошуку за зображенням"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uz={"Искать":"Izlash","Отменить":"Bekor qilish","Укажите выше область для поиска по картинке":"Rasm bo‘yicha izlash uchun yuqorida sohani ko‘rsating"}},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(416)),r(n(417)),r(n(418)),r(n(419)),r(n(420)),r(n(421)),r(n(422)),r(n(423)),r(n(424))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.be={"Не удалось загрузить картинку, возможно, она есть на {link}":"Не атрымалася запампаваць карцінку, магчыма, яна ёсць на {link}","сайте":"сайце","сервисе Яндекс.Картинки":"сэрвісе Яндэкс.Карцінкі"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.en={"Не удалось загрузить картинку, возможно, она есть на {link}":"Couldn't download image. Check if it's available on {link}","сайте":"the website","сервисе Яндекс.Картинки":"Yandex.Images"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.id={"Не удалось загрузить картинку, возможно, она есть на {link}":"Couldn't download image. Check if it's available on {link}","сайте":"the website","сервисе Яндекс.Картинки":"Yandex.Images"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.kk={"Не удалось загрузить картинку, возможно, она есть на {link}":"Суретті жүктеу мүмкін болмады, {link} болуы мүмкін","сайте":"сайтта","сервисе Яндекс.Картинки":"Яндекс.Суреттер қызметінде"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ru={"Не удалось загрузить картинку, возможно, она есть на {link}":"Не удалось загрузить картинку, возможно, она есть на {link}","сайте":"сайте","сервисе Яндекс.Картинки":"сервисе Яндекс.Картинки"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tr={"Не удалось загрузить картинку, возможно, она есть на {link}":"Görsel yüklenemedi; {link} bulmayı deneyin","сайте":"sitesinde","сервисе Яндекс.Картинки":"Yandex.Görsel servisinde"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tt={"Не удалось загрузить картинку, возможно, она есть на {link}":"Не удалось загрузить картинку, возможно, она есть на {link}","сайте":"сайте","сервисе Яндекс.Картинки":"сервисе Яндекс.Картинки"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uk={"Не удалось загрузить картинку, возможно, она есть на {link}":"Не вдалося завантажити зображення, можливо, воно є на {link}","сайте":"сайті","сервисе Яндекс.Картинки":"сервісі Яндекс.Зображення"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uz={"Не удалось загрузить картинку, возможно, она есть на {link}":"Не удалось загрузить картинку, возможно, она есть на {link}","сайте":"сайте","сервисе Яндекс.Картинки":"сервисе Яндекс.Картинки"}},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e};t.linear=r,t.easeInOutQuad=function(e){return e<.5?2*e*e:-2*(e*(e-2)+.5)},t.easeInOutSin=function(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2},t.animate=function(e,t,n,o){var i;void 0===n&&(n=r);var a=!1,s=function(r){if(!a){i||(i=r);var c=(r-i)/e;c>1&&(c=1);var u=n(c);t(u),c<1?requestAnimationFrame(s):o&&o()}};return requestAnimationFrame(s),function(){return a=!0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(7),i=n(229);t.MMGalleryItem=o.withBaobab({name:"MMGallery-Item"})(function(e){var t=e.selected,n=e.onClick,o=e.children,a=e.forwardRef;return r.createElement("div",{className:i.cnMMGallery("Item",{selected:t}),onClick:n,ref:a},o)})},function(e,t,n){},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=n(1),c=n(7),u=n(24),l=n(32),d=n(10),p=n(430),f=n(432),h=n(481),m=n(483);n(486),t.withTypeStripe=s.withBemMod(u.cnMMDirectSnippet(),{type:"stripe"},function(e){return function(t){function n(e){var n=t.call(this,e)||this;return n.state={disclaimerHovered:!1},n.onDisclaimerMouseLeave=n.onDisclaimerMouseLeave.bind(n),n.onDisclaimerMouseEnter=n.onDisclaimerMouseEnter.bind(n),n}return o(n,t),n.prototype.onDisclaimerMouseEnter=function(){this.setState({disclaimerHovered:!0})},n.prototype.onDisclaimerMouseLeave=function(){this.setState({disclaimerHovered:!1})},n.prototype.render=function(){var t=this,n=this.props,r=n.ads,o=n.favicon,s=n.pos,v=n.reqid,g=n.className;if(!r)return null;var y=this.state.disclaimerHovered,b=r.url,w=r.encryptedUrl,M=r.domain,C=w||b||"";return a.createElement(l.CountersConsumer,null,function(n){return a.createElement(e,i({},t.props,{className:u.cnMMDirectSnippet({disclaimerHovered:y},[g]),counter:n&&n.directSnippetStripe&&d.addCounterParams(n.directSnippetStripe.shown,{"-pos":s},{domain:M,pos:s,reqid:v},{href:C})}),a.createElement(m.MMDirectSnippetStripeFavicon,{favicon:o,url:C,logNode:{events:{onClick:c.logClick(d.addCounterParams(n.directSnippetStripe.path,{"-pos":s,"-elem":"favicon"},{domain:M,pos:s,reqid:v},{href:C}))}}}),a.createElement(h.MMDirectSnippetStripeMain,{ads:r,onDisclaimerMouseEnter:t.onDisclaimerMouseEnter,onDisclaimerMouseLeave:t.onDisclaimerMouseLeave,logNode:{events:{onClick:c.logClick(d.addCounterParams(n.directSnippetStripe.title,{"-pos":s},{domain:M,pos:s,reqid:v},{href:C}))}}}),a.createElement(f.MMDirectSnippetStripeButton,{url:C,logNode:{events:{onClick:c.logClick(d.addCounterParams(n.directSnippetStripe.path,{"-pos":s,"-elem":"button"},{domain:M,pos:s,reqid:v},{href:C}))}}}),a.createElement(p.MMDirectSnippetStripeLabel,{logNode:{events:{onClick:c.logClick(d.addCounterParams(n.directSnippetStripe.partner,{"-pos":s},{domain:M,pos:s,reqid:v},{href:p.DIRECT_PAGE_URL}))}}}))})},n}(a.Component)})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(7),i=n(24);n(431),t.DIRECT_PAGE_URL="https://yandex.ru/images/_crpd/hmiK28s06/3a2294DBBNSc/f1sZgJE25Op6XlBIMyxbA5YRIsLtDp22tHmjVUCRWhuWXvYA/",t.MMDirectSnippetStripeLabel=o.withBaobab({name:"MMDirectSnippet-StripeLabel"})(function(e){return r.createElement("a",{onClick:e.onClick,href:t.DIRECT_PAGE_URL,target:"_blank",rel:"noopener",className:i.cnMMDirectSnippet("StripeLabel")},"Яндекс.Директ")})},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(7),i=n(1),a=n(223),s=n(24);n(480);var c=i.compose(a.withThemeAction,a.withTypeLink,a.withViewClassic,a.withSizeXS)(a.Button);t.MMDirectSnippetStripeButton=o.withBaobab({name:"MMDirectSnippet-StripeButton"})(function(e){return r.createElement(c,{theme:"action",view:"classic",className:s.cnMMDirectSnippet("StripeButton"),size:"xs",type:"link",url:e.url,target:"_blank",children:"Перейти",onClick:e.onClick})})},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0);n(482);var a=n(7),s=n(156),c=n(24),u=n(173),l=function(e){function t(t){var n=e.call(this,t)||this;return n.infoDisclaimerRef=i.createRef(),n.infoDisclaimerTextRef=i.createRef(),n.warningDisclaimerRef=i.createRef(),n.warningDisclaimerTextRef=i.createRef(),n.SECONDS_PER_SCREEN=3.5,n.onWarningDisclaimerMouseEnter=n.onWarningDisclaimerMouseEnter.bind(n),n.onWarningDisclaimerMouseLeave=n.onWarningDisclaimerMouseLeave.bind(n),n.onInfoDisclaimerMouseEnter=n.onInfoDisclaimerMouseEnter.bind(n),n.onInfoDisclaimerMouseLeave=n.onInfoDisclaimerMouseLeave.bind(n),n}return o(t,e),t.prototype.onWarningDisclaimerMouseEnter=function(){this.onDisclaimerMouseEnter(this.warningDisclaimerRef,this.warningDisclaimerTextRef,30)},t.prototype.onWarningDisclaimerMouseLeave=function(){this.onDisclaimerMouseLeave(this.warningDisclaimerTextRef)},t.prototype.onInfoDisclaimerMouseEnter=function(){this.onDisclaimerMouseEnter(this.infoDisclaimerRef,this.infoDisclaimerTextRef)},t.prototype.onInfoDisclaimerMouseLeave=function(){this.onDisclaimerMouseLeave(this.infoDisclaimerTextRef)},t.prototype.onDisclaimerMouseEnter=function(e,t,n){if(void 0===n&&(n=0),e.current&&t.current){var r=Math.ceil(e.current.clientWidth),o=Math.ceil(t.current.clientWidth)+n;if(!(r>=o)){var i=Math.ceil(o/r)*this.SECONDS_PER_SCREEN;t.current.style.transitionDuration=i+"s",t.current.style.transform="translateX("+(r-o)+"px)"}}},t.prototype.onDisclaimerMouseLeave=function(e){e.current&&(e.current.style.transitionDuration="",e.current.style.transform="")},t.prototype.render=function(){var e=this.props,t=e.ads,n=e.onClick,r=t.url,o=t.encryptedUrl,a=t.title,l=t.body,d=t.age,p=t.warning,f=u.isWarningDisclaimer(p),h=p&&!f,m=p&&f,v=o||r||"";return i.createElement("div",{className:c.cnMMDirectSnippet("StripeMain")},i.createElement("div",{className:c.cnMMDirectSnippet("StripeBlock"),onMouseLeave:this.props.onDisclaimerMouseLeave},i.createElement("a",{className:c.cnMMDirectSnippet("StripeLink"),target:"_blank",rel:"noopener",href:v,onClick:n},i.createElement("span",{className:c.cnMMDirectSnippet("StripeLinkBody")},i.createElement("span",{className:c.cnMMDirectSnippet("StripeTitle")},i.createElement(s.Markup,{start:"<hl>",end:"</hl>"},a)),i.createElement("span",{className:c.cnMMDirectSnippet("StripeDescription")},i.createElement(s.Markup,{start:"<hl>",end:"</hl>"},l))),h&&i.createElement("span",{className:c.cnMMDirectSnippet("StripeDisclaimerInfo"),ref:this.infoDisclaimerRef,onMouseEnter:this.onInfoDisclaimerMouseEnter,onMouseLeave:this.onInfoDisclaimerMouseLeave},i.createElement("span",{ref:this.infoDisclaimerTextRef,className:c.cnMMDirectSnippet("StripeDisclaimerInfoMask")},i.createElement("span",{className:c.cnMMDirectSnippet("StripeDisclaimerInfoText")},i.createElement(s.Markup,null,p))))),h&&i.createElement("div",{className:c.cnMMDirectSnippet("StripeDisclaimer"),onMouseEnter:this.props.onDisclaimerMouseEnter},i.createElement("span",{className:c.cnMMDirectSnippet("StripeDisclaimerInner")},"Юр.информация"))),m&&i.createElement("div",{ref:this.warningDisclaimerRef,className:c.cnMMDirectSnippet("StripeDisclaimerExpand"),onMouseEnter:this.onWarningDisclaimerMouseEnter,onMouseLeave:this.onWarningDisclaimerMouseLeave},i.createElement("span",{ref:this.warningDisclaimerTextRef,className:c.cnMMDirectSnippet("StripeDisclaimerExpandText")},i.createElement(s.Markup,null,p))),d&&i.createElement("div",{className:c.cnMMDirectSnippet("StripeDisclaimerAge")},d))},t}(i.Component);t.MMDirectSnippetStripeMain=a.withBaobab({name:"MMDirectSnippet-StripeMain"})(l)},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(7),i=n(184),a=n(24);n(485),t.MMDirectSnippetStripeFavicon=o.withBaobab({name:"MMDirectSnippet-StripeFavicon"})(function(e){var t=e.favicon,n=e.url;return t?r.createElement(i.MMFavicon,{favicon:t,url:n,className:a.cnMMDirectSnippet("StripeFavicon"),onClick:e.onClick}):null})},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=n(3),c=n(105),u=n(230),l=n(24),d=n(110),p=n(231),f=n(208),h=n(42),m=n(155),v=n(7),g=n(489),y=n(739),b=n(81);n(740);var w=n(277),M=u.cnMMOrganicSnippet(),C=l.cnMMDirectSnippet(),S=d.cnMMMarketSnippet(),O=p.cnMMViewerTags(),_=f.cnMMRelatedImages(),P=h.cnMMViewerButtons(),I=m.cnMMSimilarOffers(),E=function(e){function t(t){var n=e.call(this,t)||this;return n.containerNode={current:null},n.fixedPaneRef=a.createRef(),n.fixedPaneVisibilityAnchorRef=a.createRef(),n.scrollStartLogged=!1,n.scrollToBottomLogged=!1,n.scrollShowLogged=!1,n.autoScroll=!1,n.componentIsMounted=!1,n.BOTTOM_REACH_OFFSET=300,n.state={scrollShowLogged:!1,fixedPaneHidden:!0,fixedPaneAnimated:!1},n.onScroll=c.throttle(n.onScroll.bind(n),100,{delayedLastCall:!0}),n.onRootNodeRef=n.onRootNodeRef.bind(n),n.onContainerNodeRef=n.onContainerNodeRef.bind(n),n.onMutation=n.onMutation.bind(n),n.onRimPageLoaded=n.onRimPageLoaded.bind(n),n.observerCallback=n.observerCallback.bind(n),n}return o(t,e),t.prototype.isFixedPaneEnabled=function(){if(!y.isIntersectionObserverSupported)return!1;if(!this.props.fixedPaneConfig)return!1;var e=window.navigator.userAgent.toLowerCase();return-1===e.indexOf("safari")||-1!==e.indexOf("chrome")},t.prototype.componentDidUpdate=function(e,t){var n=this;this.props.isVisible&&(e.activeImage&&this.props.activeImage&&e.activeImage.docid!==this.props.activeImage.docid&&(this.scrollShowLogged=!1,this.hasScroll()&&this.resetScroll(),this.setState({fixedPaneHidden:!0,fixedPaneAnimated:!1})),t.fixedPaneHidden!==this.state.fixedPaneHidden&&window.requestAnimationFrame(function(){n.setState({fixedPaneAnimated:!0})}))},t.prototype.componentDidMount=function(){this.componentIsMounted=!0,this.autoScroll=!1,this.props.fixedPaneConfig&&this.attachFixedPaneObserver()},t.prototype.attachFixedPaneObserver=function(){if(this.isFixedPaneEnabled()){var e=this.fixedPaneVisibilityAnchorRef&&this.fixedPaneVisibilityAnchorRef.current,t=this.rootNode;e&&t&&(this.fixedPaneAnchorObserver=new IntersectionObserver(this.observerCallback,{root:t,threshold:1}),this.fixedPaneAnchorObserver&&this.fixedPaneAnchorObserver.observe(e))}},t.prototype.detachFixedPaneObserver=function(){this.fixedPaneAnchorObserver&&this.fixedPaneAnchorObserver.disconnect()},t.prototype.componentWillUnmount=function(){this.componentIsMounted=!1,this.detachFixedPaneObserver()},t.prototype.render=function(){var e=this,t=this.props,n=t.activeImage,r=t.directPosition,o=t.marketPosition,c=t.addToCollectionsLoginUrl,u=void 0===c?"":c,l=t.isDuckEnabled,d=t.onTagClick,p=t.behavioralDirectRef,f=n&&this.itemHasOriginImage(n)?r:void 0,h=n&&n.marketSnippet,m=this.containerNode.current?this.containerNode:void 0,v="undefined"!==typeof o?o:w.IMarketSnippetPosition.middle,g=Boolean(n&&n.isFavorite),E=this.isFixedPaneEnabled(),k=this.props.fixedPaneConfig,D=k&&k.theme?k.theme:w.IFixedPaneTheme.full,j=this.state,T=j.fixedPaneHidden,x=j.fixedPaneAnimated,R=!T&&x,N=y.shouldUseFixedPosition?"fixed":"sticky";return a.createElement("div",{className:b.cnSidebar(),onScroll:this.onScroll,ref:this.onRootNodeRef},a.createElement(s.ComponentRegistryConsumer,{id:b.cnSidebar()},function(t){var r=t[M],o=t[C],s=t[S],c=t.MMComplainer,y=t.BehavioralDirectSnippet,k=t[O],j=t[_],x=t[P],L=t[I];return a.createElement(a.Fragment,null,E&&!T&&a.createElement("div",{className:b.cnSidebar("FixedPane",{hidden:T,type:T?"":N,animated:R,theme:D}),ref:e.fixedPaneRef},a.createElement(o,{type:"default",advanced:!1}),a.createElement(r,null),a.createElement(x,{view:"compact",onLog:e.props.onLog,loginUrl:u,isFavorite:g})),a.createElement("div",{className:b.cnSidebar("Container"),ref:e.onContainerNodeRef},f===w.IDirectSnippetPosition.top&&a.createElement(o,{type:"default"}),h&&s&&v===w.IMarketSnippetPosition.top&&a.createElement(s,i({},h)),a.createElement(r,null),c&&n&&a.createElement(c,{item:n}),l&&a.createElement(k,{onTagClick:d}),a.createElement(x,{view:"default",popupScope:m,onLog:e.props.onLog,loginUrl:u,isFavorite:g}),E&&a.createElement("div",{className:b.cnSidebar("FixedPaneVisibilityAnchor"),ref:e.fixedPaneVisibilityAnchorRef}),f===w.IDirectSnippetPosition.middle&&a.createElement(o,{type:"default"}),y&&a.createElement(y,{forwardRef:p}),h&&s&&v===w.IMarketSnippetPosition.middle&&a.createElement(s,i({},h)),L&&a.createElement(L,null),a.createElement(j,{onPageLoaded:e.onRimPageLoaded,onClick:e.props.onRelatedItemClick,counterParams:{vars:{"-pos":n&&n.pos}}})))}))},t.prototype.onRootNodeRef=function(e){e&&this.rootNode!==e&&(this.rootObserver&&this.rootObserver.disconnect(),this.rootObserver=new MutationObserver(this.onMutation),this.rootObserver.observe(e,{attributes:!0,childList:!0,subtree:!0})),this.props.nodeRef&&(this.props.nodeRef.current=e),this.rootNode=e},t.prototype.onContainerNodeRef=function(e){this.containerNode.current!==e&&(this.containerNode.current=e,this.forceUpdate())},t.prototype.onMutation=function(){this.props.isVisible&&!this.scrollShowLogged&&this.countNewScrollState()},t.prototype.onRimPageLoaded=function(){this.checkSidebarBottomReached()},t.prototype.itemHasOriginImage=function(e){return Boolean(e.dups.length||e.preview.length)},t.prototype.resetScroll=function(){var e=this;this.rootNode&&(this.autoScroll=!0,this.rootNode.scrollTop=0,setTimeout(function(){e.autoScroll=!1},0))},t.prototype.hasScroll=function(){var e=this.containerNode.current,t=e&&e.parentElement;return e&&t&&e.clientHeight>t.clientHeight},t.prototype.countNewScrollState=function(){this.scrollStartLogged=!1,this.scrollToBottomLogged=!1,this.hasScroll()&&(this.scrollShowLogged=!0,this.props.onScrollShow&&this.props.onScrollShow())},t.prototype.observerCallback=function(e){var t=this;this.componentIsMounted&&e.forEach(function(e){var n=e.rootBounds,r=e.boundingClientRect;n&&r.top<n.top?t.setState({fixedPaneHidden:!1,fixedPaneAnimated:!1}):t.setState({fixedPaneHidden:!0,fixedPaneAnimated:!1})})},t.prototype.isSidebarBottomReached=function(){var e=this.rootNode;if(!e)return!1;var t=e.scrollTop+e.clientHeight;return e.scrollHeight-t<=this.BOTTOM_REACH_OFFSET},t.prototype.checkSidebarBottomReached=function(){this.isSidebarBottomReached()&&this.props.onBottomSidebar&&this.props.onBottomSidebar()},t.prototype.onScroll=function(){if(this.componentIsMounted)if(this.autoScroll)this.autoScroll=!1;else if(this.checkSidebarBottomReached(),!this.scrollStartLogged||!this.scrollToBottomLogged){var e=this.containerNode.current,t=e&&e.parentElement;e&&t&&(this.scrollStartLogged||(this.scrollStartLogged=!0,this.props.onScrollStart&&this.props.onScrollStart()),!this.scrollToBottomLogged&&t.scrollTop+t.clientHeight>=e.clientHeight&&(this.scrollToBottomLogged=!0,this.props.onScrollToBottom&&this.props.onScrollToBottom()))}},t}(a.Component);t.MMSidebarPresenter=E,t.MMSidebar=v.withBaobab({name:"pane"})(s.withRegistry(g.sidebarRegistry)(E))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n(243),i=n(500),a=n(268),s=n(269),c=n(318),u=n(319),l=n(541),d=n(574),p=n(329),f=n(94),h=n(81);t.sidebarRegistry=new r.Registry({id:h.cnSidebar()}),t.sidebarRegistry.set(o.cnMMOrganicSnippet(),i.MMOrganicSnippetWithImagesContext(o.MMOrganicSnippet)),t.sidebarRegistry.set(a.cnMMMarketSnippet(),s.MMMarketSnippetWithImageContext(a.MMMarketSnippet)),t.sidebarRegistry.set(c.cnMMSimilarOffers(),u.MMSimilarOffersWithImageContext(c.MMSimilarOffers)),t.sidebarRegistry.set(l.cnMMDirectSnippet(),l.MMDirectSnippet),t.sidebarRegistry.set(d.cnMMViewerTags(),d.MMViewerTags),t.sidebarRegistry.set(p.cnMMRelatedImages(),p.MMRelatedImages),t.sidebarRegistry.set(f.cnMMViewerButtons(),f.MMViewerButtons)},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10),o=n(20),i=n(230);t.cnMMOrganicSnippet=i.cnMMOrganicSnippet;t.MMOrganicSnippetWithImagesContext=o.withImageContext(function(e){var t=r.getCurrentImageData(e),n=r.getShownImageData(e)||{},o=n.snippet||{},i=o.title,a=void 0===i?"":i,s=o.redirUrl,c=void 0===s?"":s,u=o.url,l=void 0===u?"":u,d=o.text,p=void 0===d?"":d,f=o.domain,h=void 0===f?"":f,m=r.getFavicon(e,r.getFaviconItemID(n)),v=n.commercialSource||"market",g=n.isMarketIncut?"/commercial/"+v:"";return{title:a,text:p,reqid:t&&t.reqid,pos:t&&t.pos,rimPos:e.rimSelectedIdx,rimid:n&&n.rimid,commercialPath:g,domain:h,favicon:m&&m.data,url:l,redirUrl:c}})},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(7),i=n(110);t.MMMarketSnippetImage=o.withBaobab({name:"MMMarketSnippetImage",events:{onClick:o.logClick()}})(function(e){var t=e.url,n=e.imageUrl,o=e.title,a=e.onClick;return r.createElement("a",{href:t,className:i.cnMMMarketSnippet("ImageLink"),onClick:a,rel:"noopener",target:"_blank"},r.createElement("img",{className:i.cnMMMarketSnippet("Image"),key:n,src:n,alt:o}))})},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(516)),r(n(517)),r(n(518)),r(n(519)),r(n(520)),r(n(521)),r(n(522)),r(n(523)),r(n(524)),r(n(525))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.be={"На сайт":"На сайт","Яндекс.Маркет":"Яндэкс.Маркет","в магазине":"у магазіне","на сайте магазина":"на сайце крамы"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.en={"На сайт":"Go to site","Яндекс.Маркет":"Yandex.Market","в магазине":"Buy in store","на сайте магазина":"view on seller's site"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.id={"На сайт":"Buka situs","Яндекс.Маркет":"Yandex.Market","в магазине":"Beli di toko","на сайте магазина":"lihat di situs web penjual"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.kk={"На сайт":"Сайтқа","Яндекс.Маркет":"Яндекс.Маркет","в магазине":"дүкенде","на сайте магазина":"дүкен сайтында"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pl={"На сайт":"Przejdź do witryny","Яндекс.Маркет":"Yandex.Market","в магазине":"Kup w sklepie","на сайте магазина":"zobacz w witrynie sprzedawcy"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ru={"На сайт":"На сайт","Яндекс.Маркет":"Яндекс.Маркет","в магазине":"в магазине","на сайте магазина":"на сайте магазина"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tr={"На сайт":"Siteye git","Яндекс.Маркет":"Yandex.Market","в магазине":"mağazada","на сайте магазина":"mağazanın sitesinde"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tt={"На сайт":"Сайтка","Яндекс.Маркет":"Яндекс.Маркет","в магазине":"кибеттә","на сайте магазина":"кибет сайтында"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uk={"На сайт":"На сайт","Яндекс.Маркет":"Яндекс.Маркет","в магазине":"у магазині","на сайте магазина":"на сайті магазину"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uz={"На сайт":"Saytga","Яндекс.Маркет":"Yandex.Market","в магазине":"ushbu doʻkonda","на сайте магазина":"do‘kon saytida"}},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(7),i=n(284),a=n(211),s=n(222),c=n(32),u=n(155),l=n(528);n(530),t.MMSimilarOffersPresenter=function(e){var t=e.image,n=e.title,c=e.domain,d=e.price,p=e.link,f=e.onError,h=e.onImageLoad,m=e.onImageClick,v=e.onPathClick,g=e.onTitleClick,y=e.clickCounters;return r.createElement("div",{className:u.cnMMSimilarOffers("Offer")},r.createElement(l.MMSimilarOffersImage,{url:p,imageUrl:t.url,title:n,onError:f,onLoad:h,onClick:m,logNode:{name:"image",events:{onClick:o.logClick(y&&y.image)}}}),r.createElement(a.Link,{className:u.cnMMSimilarOffers("Title"),url:p,onClick:g,logNode:{name:"title",events:{onClick:o.logClick(y&&y.title)}}},n),r.createElement(s.Path,{className:u.cnMMSimilarOffers("GreenUrl"),items:[{url:p,text:c,onClick:v}]}),d&&r.createElement("div",{className:u.cnMMSimilarOffers("Price")},r.createElement(i.Price,{value:d,currency:"RUB",rurSymbolFont:!0})))},t.MMSimilarOffer=c.withImageCounters(o.withBaobab({name:"offer"})(t.MMSimilarOffersPresenter))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(7),i=n(155);n(529),t.MMSimilarOffersImage=o.withBaobab({name:"MMSimilarOffersImage"})(function(e){var t=e.url,n=e.imageUrl,o=e.title,a=e.onClick,s=e.onError,c=e.onLoad;return r.createElement("a",{href:t,className:i.cnMMSimilarOffers("ImageLink"),onClick:a,rel:"noopener",target:"_blank"},r.createElement("img",{className:i.cnMMSimilarOffers("Image"),key:n,src:n,alt:o,onError:s,onLoad:c}))})},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.be={"Похожие товары":"Падобныя тавары"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.id={"Похожие товары":"Similar products"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.en={"Похожие товары":"Similar products"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.kk={"Похожие товары":"Ұқсас тауарлар"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ru={"Похожие товары":"Похожие товары","Похожие товары на Маркете":"Похожие товары на Маркете"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tr={"Похожие товары":"Benzer yorumlar"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tt={"Похожие товары":"Охшаш товарлар"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uk={"Похожие товары":"Схожі товари"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uz={"Похожие товары":"O‘xshash tovarlar"}},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(20),i=n(64),a=n(274),s=n(542),c=n(173),u=n(24);t.cnMMDirectSnippet=u.cnMMDirectSnippet;var l=r.compose(s.withTypeDefault)(a.MMDirectSnippet);t.MMDirectSnippet=r.compose(o.withImageContext(function(e,t,n){return c.getDirectSnippetProps(e,n)}),i.withDefinedProps(function(e){return Boolean(e.ads)}))(l)},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(1),a=n(6),s=n(73),c=n(10),u=n(32),l=n(24),d=n(543),p=n(545),f=n(562),h=n(564),m=n(567),v=n(569),g=n(571),y=n(173),b=n(174);n(573);var w=a.i18nRaw(b);t.withTypeDefault=i.withBemMod(l.cnMMDirectSnippet(),{type:"default"},function(e){return function(t){var n=t.ads,i=t.favicon,a=t.pos,l=t.reqid,b=t.ratingPosition;if(!n)return null;var M=n.url,C=n.encryptedUrl,S=n.encryptedVCardUrl,O=n.body,_=n.domain,P=n.title,I=n.warning,E=n.age,k=n.path,D=n.image,j=n.encryptedPathUrl,T=n.pathUrl,x=n.telNum,R=n.region,N=n.metro,L=n.workingTime,B=n.vcardUrl,A=n.sitelinks,F=n.marketRating,U=n.callouts,z=C||M||"",H=S||B||"",q=j||T||"",V=N&&w("м.{space}{station}",{context:'Сокращениие от слова "метро", для обозначения станции метро, например, "м. Комсомольская". space - пробельный символ, station - название станции',station:N,space:" "}),G=P;t.calloutAsATitle&&U&&U.length&&(G+=" "+U[0],U=U.slice(1));var W=t.optionalDisclaimer&&!y.isWarningDisclaimer(I)?void 0:y.getDisclaimerItems(I,E),Y=t.optionalDisclaimer?y.getDescriptionItems(U,I,E):U,K=U&&U.length>0&&t.highlightCallout,X=[V,R,L].filter(Boolean),Q=t.advanced&&A&&A.length>0;return o.createElement(u.CountersConsumer,null,function(n){var u=n&&n.direct,y=Q?o.createElement(v.DirectSitelinks,{counter:u&&c.addCounterParams(u.sitelink,{"-pos":a},{domain:_,pos:a,reqid:l}),oneLine:t.unifiedV1,ontop:t.upliftSitelinks,sitelinks:A}):null;return o.createElement(e,r({},t,{counter:u&&c.addCounterParams(u.shown,{"-pos":a},{domain:_,pos:a,reqid:l},{href:z})}),o.createElement(d.DirectTitle,{counter:u&&c.addCounterParams(u.title,{"-pos":a},{domain:_,pos:a,reqid:l},{href:z}),url:z,title:G}),Q&&t.upliftSitelinks&&y,o.createElement(g.GreenUrl,r({counter:u&&c.addCounterParams(u.path,{"-pos":a},{domain:_,pos:a,reqid:l},{href:z})},{url:z,pathUrl:q,domain:_,path:k,favicon:i})),b===s.DirectRatingPosition.top&&void 0!==F&&F>=0?o.createElement(m.DirectRating,{value:F}):null,o.createElement(p.DirectDescription,{key:O,text:O,title:G,url:z,additions:t.advanced?Y:void 0,image:t.advanced?D:void 0,imagePosition:t.advanced?t.imagePosition:void 0,thumbCounter:t.advanced?u.thumb:void 0,highlightFirstItem:K,cutDescription:t.cutDescription,readMoreCounter:u.readMore}),W&&W.map(function(e){return o.createElement(f.MMDirectDisclaimer,{text:e,key:e})}),t.advanced&&o.createElement(o.Fragment,null,X&&X.length?o.createElement(h.ContactInfo,{counter:u&&c.addCounterParams(u.contacts,{"-pos":a},{domain:_,pos:a,reqid:l},{href:H}),vcardUrl:H,telNum:x,info:X,semiHidden:t.semiHiddenContacts,showContactCounterClick:u&&c.addCounterParams(u.showContact,{"-pos":a},{domain:_,pos:a,reqid:l},{href:H})}):null,b===s.DirectRatingPosition.bottom&&void 0!==F&&F>=0?o.createElement(m.DirectRating,{value:F}):null,!t.upliftSitelinks&&y))})}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(104),i=n(156),a=n(7),s=n(24);n(544),t.DirectTitle=r.memo(function(e){return r.createElement(o.Link,{className:s.cnMMDirectSnippet("Title"),url:e.url,logNode:{name:"title",events:{onClick:a.logClick(e.counter)}}},r.createElement(i.Markup,{start:"<hl>",end:"</hl>"},e.title))})},function(e,t,n){},function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(104),a=n(546),s=n(7),c=n(6),u=n(547),l=n(24),d=n(174);n(561);var p=c.default(d),f=l.cnMMDirectSnippet("Description"),h=l.cnMMDirectSnippet("AddItem"),m=l.cnMMDirectSnippet("AddItems"),v=l.cnMMDirectSnippet("ShortenText"),g=l.cnMMDirectSnippet("ShowMore");t.DirectDescription=function(e){var t=e.image,n=e.imagePosition,c=e.url,d=r(o.useState(Boolean(e.cutDescription)),2),y=d[0],b=d[1],w=o.useCallback(function(){return b(!1)},[b]),M=0,C=e.additions&&e.additions.length?o.createElement("div",{className:m},e.additions.map(function(t,n){return M+=t.length,o.createElement("span",{key:t,className:e.highlightFirstItem&&0===n?l.cnMMDirectSnippet("AddItem",{highlight:!0}):h},t)})):null;return y&&C&&M>35&&(C=o.createElement("div",{className:v},C,o.createElement(i.Link,{onClick:w,className:g,logNode:{name:"contact",events:{onClick:s.logClick(e.readMoreCounter)}}},p("Читать ещё",{context:"Надпись на кнопке, показывающей полный текст рекламного объявления"})))),o.createElement("div",{className:f},o.createElement(u.DirectThumb,{image:t,imagePosition:n,url:c,title:e.title||"",counter:e.thumbCounter}),o.createElement(a.Markup,{start:"<hl>",end:"</hl>"},e.text),C)}},function(e,t,n){"use strict";n.r(t);var r=n(192);n.d(t,"markup",function(){return r.e}),n.d(t,"HIGHLIGHT_OPEN",function(){return r.b}),n.d(t,"HIGHLIGHT_CLOSE",function(){return r.a}),n.d(t,"decodeHTMLEntities",function(){return r.d}),n.d(t,"Markup",function(){return r.c})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(104),i=n(7),a=n(64),s=n(24);n(548);var c=s.cnMMDirectSnippet("Thumb");t.DirectThumbPresenter=r.memo(function(e){var t=e.image,n=t&&t.url;return r.createElement("div",{className:s.cnMMDirectSnippet("ThumbContainer",{position:e.imagePosition}),style:{height:Math.min(Math.max(t.height,50),90)+"px"}},r.createElement(o.Link,{className:s.cnMMDirectSnippet("ThumbLink",[c]),style:{width:t.width+"px",height:t.height+"px"},url:e.url,logNode:{name:"ThumbLink",events:{onClick:i.logClick(e.counter)}}},r.createElement("img",{src:n,key:n,alt:e.title,style:{width:t.width+"px",height:t.height+"px"}})))}),t.DirectThumb=a.withDefinedProps(["image","imagePosition","url"])(t.DirectThumbPresenter)},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.be={"Магазин на маркете":"Крама на маркеце","Показать":"Паказаць","Реклама":"Рэклама","Читать ещё":"Чытаць яшчэ","м.{space}{station}":"м.{space}{station}"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.en={"Магазин на маркете":"Yandex.Market store","Показать":"Show","Реклама":"Advert","Читать ещё":"Read more","м.{space}{station}":"{station}{space}metro{space}station"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fi={"Показать":"Näytä"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.id={"Магазин на маркете":"Yandex.Market store","Показать":"Tampilkan","Реклама":"Advert","Читать ещё":"Baca lainnya","м.{space}{station}":"{station}{space}metro{space}station"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.kk={"Магазин на маркете":"Маркеттегі дүкен","Показать":"Көрсету","Реклама":"Реклама","Читать ещё":"Тағы оқу","м.{space}{station}":"{station}{space}м."}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lt={"Показать":"Rodyti"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pl={"Магазин на маркете":"Sklep Yandex.Market","Показать":"Pokaż","Реклама":"Reklama","Читать ещё":"Czytaj więcej","м.{space}{station}":"{station}{space}stacja{space}metra"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ru={"Магазин на маркете":"Магазин на маркете","Показать":"Показать","Реклама":"Реклама","Читать ещё":"Читать ещё","м.{space}{station}":"м.{space}{station}"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tr={"Магазин на маркете":"Yandex.Market mağazası","Показать":"Göster","Реклама":"Reklam","Читать ещё":"Daha fazla oku","м.{space}{station}":"Metro{space}istasyonu:{space}{station}"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tt={"Магазин на маркете":"Маркеттагы кибет","Показать":"Күрсәтү","Реклама":"Реклама","Читать ещё":"Тагын уку","м.{space}{station}":"{station}{space}м."}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uk={"Магазин на маркете":"Магазин на маркеті","Показать":"Показати","Реклама":"Реклама","Читать ещё":"Читати ще","м.{space}{station}":"м.{space}{station}"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uz={"Магазин на маркете":"Marketdagi do‘kon","Показать":"Ko‘rsatish","Реклама":"Reklama","Читать ещё":"Yana o‘qish","м.{space}{station}":"m.{space}{station}"}},function(e,t,n){},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=n(4),s=n(156),c=n(148);n(563);var u=a.cn("MMDirectSnippet","Disclaimer"),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={fullText:"",shortText:"",collapsed:!1,collapsable:!1},t.toggleCollapse=function(){t.setState({collapsed:!t.state.collapsed})},t}return o(t,e),t.prototype.render=function(){var e=this.state,t=e.shortText,n=e.collapsed,r=e.collapsable,o=this.props.text,a=u({collapsable:r,collapsed:n});return i.createElement("div",{className:a,onClick:r?this.toggleCollapse:void 0},i.createElement(s.Markup,{start:"<b>",end:"</b>"},n?t:o))},t.getDerivedStateFromProps=function(e,n){var r=e.text;if(n.fullText!==r){var o=t.getShortText(c.decodeHTMLEntities(r)),i=o!==r;return{shortText:o,fullText:r,collapsable:i,collapsed:i}}return null},t.getShortText=function(e){return e.length>t.WARNING_MIN_LENGTH?e.substr(0,t.WARNING_MIN_LENGTH)+"...":e},t.WARNING_MIN_LENGTH=46,t}(i.Component);t.MMDirectDisclaimer=l},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(104),i=n(7),a=n(565),s=n(24);n(566);var c=s.cnMMDirectSnippet("Contact"),u=s.cnMMDirectSnippet("Contacts",[s.cnMMDirectSnippetLine]),l=s.cnMMDirectSnippet("ContactData");t.ContactInfo=function(e){return r.createElement("div",{className:u},r.createElement(o.Link,{className:c,logNode:{name:"contact",events:{onClick:i.logClick(e.counter)}},url:e.vcardUrl},"Контакты"),e.telNum&&(e.semiHidden?r.createElement(a.ContactPhone,{key:e.telNum,telNum:e.telNum,counter:e.showContactCounterClick}):r.createElement("span",{className:l},e.telNum)),e.info.map(function(e){return r.createElement("span",{key:e,className:l},e)}))}},function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(104),a=n(7),s=n(6),c=n(24),u=n(173),l=n(174),d=s.default(l),p=c.cnMMDirectSnippet("ContactPhone",[c.cnMMDirectSnippet("ContactData")]),f=c.cnMMDirectSnippet("ContactData");t.ContactPhone=o.memo(function(e){var t=e.telNum,n=r(o.useState(!0),2),s=n[0],c=n[1],l=o.useCallback(function(){return c(!1)},[c]),h=o.useMemo(function(){return u.getMaskedPhoneString(t)+" "+d("Показать",{context:"Надпись на кнопке, показывающей полный номер телефона"})},[t]);return s?o.createElement(o.Fragment,null,o.createElement(i.Link,{onClick:l,className:p,logNode:{name:"contact",events:{onClick:a.logClick(e.counter)}}},h),o.createElement("br",null)):o.createElement(o.Fragment,null,o.createElement("span",{className:f},t),o.createElement("br",null))})},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(6),i=n(283),a=n(24),s=n(174);n(568);var c=i.withSizeS(i.Rating),u=o.default(s),l=a.cnMMDirectSnippet("RatingLine",[a.cnMMDirectSnippetLine]),d=a.cnMMDirectSnippet("Rating");t.DirectRating=r.memo(function(e){var t=e.value;return r.createElement("div",{className:l},r.createElement(c,{className:d,value:t,base:5,size:"s"}),u("Магазин на маркете",{context:"Подпись к оценке данного магазина на сервисе Яндекс.Маркет"}))})},function(e,t,n){},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(104),a=n(7),s=n(24);n(570);var c=s.cnMMDirectSnippet("Sitelink",[s.cnMMDirectSnippetLine]),u=s.cnMMDirectSnippet("Sitelink");t.DirectSitelinks=o.memo(function(e){for(var t=[],n=e.sitelinks,l=e.oneLine,d=l?1:2,p=l?4:2,f=Math.min(Math.ceil(n.length/d),p),h=0,m=0;m<n.length&&h<d;m++){var v=n[m],g=t[h]||(t[h]=[]),y=v.encryptedUrl||v.url;g.push(o.createElement(i.Link,{className:l?u:c,logNode:{name:"sitelink",events:{onClick:a.logClick(r({},e.counter,{node:{href:y}}))}},url:y,key:g.length},v.title)),g.length>=f&&h++}var b=1===t.length;return t.length?o.createElement("div",{className:s.cnMMDirectSnippet("Sitelinks",{ontop:e.ontop},l?void 0:[s.cnMMDirectSnippetLine])},l?t[0]:t.map(function(e,t){return o.createElement("div",{className:s.cnMMDirectSnippet("SitelinkColumn",{wide:b}),key:t},e)})):null})},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(104),i=n(184),a=n(6),s=n(24);n(572);var c=n(174),u=a.default(c);t.GreenUrl=function(e){var t=e.path,n=t||e.domain,a=t&&e.pathUrl?e.pathUrl:e.url;return r.createElement("div",{className:s.cnMMDirectSnippet("Greenurl")},r.createElement(o.Link,{className:s.cnMMDirectSnippet("Path"),counter:e.counter,logNode:{name:"path"},url:a},e.favicon&&r.createElement(i.MMFavicon,{favicon:e.favicon,className:s.cnMMDirectSnippet("Favicon")}),n),r.createElement("span",{className:s.cnMMDirectSnippet("AdvLabel")},u("Реклама",{context:"Лейбл помечающий рекламное объявление"})))}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(20),o=n(10),i=n(575),a=n(231);t.cnMMViewerTags=a.cnMMViewerTags;t.MMViewerTags=r.withImageContext(function(e){var t=o.getShownImageData(e),n=o.getCurrentImageData(e);return{reqid:n&&n.reqid,pos:n&&n.pos,rimPos:e.rimSelectedIdx,rimid:t&&t.rimid,openServiceOnNewTab:e.config.openServiceOnNewTab,tld:e.globalContext.tld,tagsItem:o.getTags(e,o.getTagsItemID(o.getShownImageData(e)))}})(i.MMViewerTags)},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),c=n(4),u=n(32),l=n(10),d=n(7),p=n(576);n(578);var f=c.cn("MMViewerTags"),h=function(e){function t(t){var n=e.call(this,t)||this;return n.visibleTagsCount=0,n.onTagVisible=n.onTagVisible.bind(n),n}return o(t,e),t.prototype.componentDidUpdate=function(){var e=this.props,t=e.tagsItem,n=e.reqid,r=e.rimPos,o=e.pos,i=e.rimid,a=e.onTagShow;if(t&&t.data&&t.data.length&&this.shownData!==t.data){if(a){var s={"-pos":o,"-visibleTags":this.visibleTagsCount};"undefined"!==typeof r&&(s["-rim_id"]=i,s["-rim_index"]=r),a(s,{reqid:n})}this.shownData=t.data}},t.prototype.render=function(){var e=this,t=this.props,n=t.tagsItem,r=t.reqid,o=t.rimPos,a=t.pos,c=t.rimid,u={"-pos":a};return"undefined"!==typeof o&&(u["-rim_id"]=c,u["-rim_index"]=o),this.visibleTagsCount=0,n?n.data&&n.data.length?s.createElement("div",{className:f()},n.data.map(function(t,n){return s.createElement(p.MMTagItem,{onVisible:e.onTagVisible,onClick:e.props.onTagClick,tld:e.props.tld,key:t,text:t,target:e.props.openServiceOnNewTab?"_blank":"_self",logNode:{events:{onClick:d.logClick(l.addCounterParams(e.props.tagClickedCounter,i({},u,{"-tag-position":n,"-text":t}),{reqid:r,pos:a}))}}})})):null:s.createElement("div",{className:f()},s.createElement(p.MMEmptyTagItem,null)," ",s.createElement(p.MMEmptyTagItem,null),s.createElement(p.MMEmptyTagItem,null)," ",s.createElement(p.MMEmptyTagItem,null))},t.prototype.onTagVisible=function(){this.visibleTagsCount++},t}(s.Component);t.MMViewerTagsPresenter=h;var m=d.withBaobab({name:"tags"})(h);t.MMViewerTags=function(e){return s.createElement(u.CountersConsumer,null,function(t){return s.createElement(m,i({logNode:{events:{onTagShow:d.logTech("show",function(e,n){var r=a(n,2),o=r[0],i=r[1];return l.addCounterParams(t.tagsShown,o,i)})}},tagClickedCounter:t.tagsClicked},e))})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(226),i=n(7),a=n(231);n(577),t.MMTagItemPresenter=r.memo(function(e){var t=e.text,n=e.tld,i=e.target,s=e.onClick,c=e.onVisible,u=r.useMemo(function(){return function(e,t){return o.createLink("images",e,{text:t,source:"related-duck"})}(n,t)},[n,t]),l=r.useCallback(function(e){return function(e,t){if(e&&e.parentElement){var n=e.parentElement.getBoundingClientRect().bottom;e.getBoundingClientRect().bottom>n||t&&t()}}(e,c)},[c]),d=r.useCallback(function(e){return s&&s(e,u)},[s,u]);return r.createElement("a",{ref:l,className:a.cnMMViewerTags("Item"),href:u,target:i||"_blank",onClick:d},t)}),t.MMTagItem=i.withBaobab({name:"tag"})(t.MMTagItemPresenter),t.MMEmptyTagItem=r.memo(function(){return r.createElement("span",{className:a.cnMMViewerTags("Item",{blink:!0})})})},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),c=n(6),u=n(1),l=n(3),d=n(7),p=n(32),f=n(232),h=n(195),m=n(10),v=n(580),g=n(582),y=n(583),b=n(221),w=n(208);t.cnMMRelatedImages=w.cnMMRelatedImages;var M=n(585);n(595);var C=319,S=c.default(M),O=function(e,t){void 0===t&&(t=0);var n=[],r=e.length;if(r>0)for(var o=t;o<r;o++){var i=e[o],a=i.preview[0]||i.dups[0],s=a.origin&&a.origin.url||a.url;s&&n.push(i.id+":"+encodeURIComponent(s))}return n},_=b.cnTiledImages(),P=w.cnMMRelatedImages(),I=m.naiveMemoiseOne(function(e){return w.cnMMRelatedImages(null,[h.cnMMSidebarSection,e])}),E=w.cnMMRelatedImages("Tiles"),k=w.cnMMRelatedImages("Header",null,[f.cnMMSidebarSectionHeader]),D=function(e){function t(t){var n=e.call(this,t)||this;return n.shownCount=0,n.prevShownCount=0,n.fittedItems=[],n.setDefaults(),n.justifierConfig={rowWidth:C,baseRowHeight:t.baseRowHeight||150,marginRight:5,minImageWidth:70},n.onClick=n.onClick.bind(n),n}return o(t,e),t.prototype.componentDidMount=function(){this.handlePageLoad()},t.prototype.componentDidUpdate=function(){this.handlePageLoad()},t.prototype.handlePageLoad=function(){this.shownCount>this.prevShownCount&&this.props.onPageLoaded&&this.props.onPageLoaded()},t.prototype.render=function(){var e=this,t=this.props.relatedImages;if(!t||!t.length)return this.setDefaults(),null;var n=this.shownRimId===this.props.rimid;return n&&t===this.prevRelatedImages||(this.prevShownCount=this.shownCount,this.fittedItems=this.fitAllItems(t),this.prevRelatedImages=t),n?this.fittedItems.length>this.shownCount&&this.props.onMore&&this.props.onMore(this.shownCount):this.props.onShow&&this.props.onShow(),this.shownRimId=this.props.rimid,this.shownCount=this.fittedItems.length,this.fittedItems.length?s.createElement(l.ComponentRegistryConsumer,{id:P},function(t){var n=t[_];return s.createElement("div",{className:I(e.props.className)},s.createElement("div",{className:k},S("Связанные картинки",{context:"Заголовок блока в просмотрщике картинки"})),s.createElement(n,{className:E,items:e.fittedItems,onClick:e.onClick,counterParams:e.props.counterParams,selectedItemIdx:e.props.selectedRimIdx,clickedCounter:e.props.clickedCounter}),e.props.isLoading?s.createElement(v.SpinnerSizeS,{theme:"yellow"}):"")}):null},t.prototype.setDefaults=function(){this.shownRimId=void 0,this.shownCount=0,this.prevShownCount=0,this.fittedItems=[],this.prevRelatedImages=void 0},t.prototype.fitAllItems=function(e){var t=this,n=e.map(function(e){var n=e.thumb,r=t.justifierConfig.baseRowHeight,o=n.size?n.size.w:0,a=n.size?n.size.h:0,s=1.5*a<r?1.5*a:r;return i({},e,{width:o*s/a,height:s})});return g.getFittedItems(n,this.justifierConfig)},t.prototype.onClick=function(e,t){this.props.setSelectedRim(e),this.props.onClick&&this.props.onClick(e,t)},t}(s.Component);t.MMRelatedImagesPresenter=D;var j=u.compose(l.withRegistry(y.relatedImagesRegistry),d.withBaobab({name:"related-images"}))(D);t.MMRelatedImages=function(e){return s.createElement(p.CountersConsumer,null,function(t){return s.createElement(j,i({logNode:{events:{onShow:d.logTech("show",function(e){var n=e.props;return m.addCounterParams(t.rimShown,function(e){var t=e.relatedImages,n=e.counterParams,r=O(t),o=n&&n.vars,a=i({},o);return r.length&&(a["-images"]=r.join(";")),a}(n),void 0,{href:n.imgHref})}),onMore:d.logTech("more",function(e,n){var r=e.props,o=a(n,1)[0];return m.addCounterParams(t.rimMore,function(e,t){var n=e.relatedImages,r=e.counterParams,o=n.length,a=r&&r.vars,s=i({},a);if(e.selectedRimIdx&&(s["-rim_id"]=e.rimid,s["-rim_index"]=e.selectedRimIdx),o>t){var c=O(n,t);c.length&&(s["-images"]=c.join(";"))}return s}(r,o),void 0,{href:r.imgHref})})}},clickedCounter:t.rimClicked},e))})}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0);n(581);var i=n(227);t.ISpinnerSize=i.ISpinnerSize,t.SpinnerSizeS=function(e){return o.createElement(i.Spinner,r({size:i.ISpinnerSize.s},e))}},function(e,t,n){},function(e,t,n){"use strict";function r(e,t,n){var r=t*("number"===typeof n&&n>=0?n:.15);return 1===e.items.length?e.items[0].width-t>=r:e.width+r>=t}function o(e,t){var n=t.increaseVerticalHeight,r=e.items,o=r.length,i=t.baseRowHeight;e.isVertical&&n&&(i*=n);for(var a=o*t.marginRight,s=e.width-a,c=(t.rowWidth-a)/s,u=Math.round(i*c),l=0,d=0;d<o;d++){var p=r[d];p.newWidth=Math.round(p.width*c),p.newHeight=Math.ceil(p.height*c),p.rowHeight=u,l+=p.newWidth}return function(e,t,n){for(var r=t,o=0;r<n;o++)(i=e.items[o])&&i.newWidth&&(i.newWidth++,r++);for(o=0;r>n;o++){var i;(i=e.items[o])&&i.newWidth&&(i.newWidth--,r--)}}(e,l+=a,t.rowWidth),e}Object.defineProperty(t,"__esModule",{value:!0}),t.getFittedItems=function(e,t){for(var n=t.rowWidth,i=[],a=0,s={width:0,items:[]},c={width:0,items:[]},u=0,l=t.increaseVerticalHeight,d=t.increaseVerticalImagesThreshold,p=t.rowsNumber,f=0,h=e.length;f<h;f++){var m=e[f];if(void 0!==p&&a===p)break;var v=!1;if(s.items.push(m),s.width+=m.width+t.marginRight,l&&d){var g={};g.isVertical=m.isVertical=m.height>m.width,g.width=m.width*l,g.height=m.height*l,c.items.push(g),c.width+=g.width+t.marginRight,g.isVertical&&(u+=g.width),r(c,n)&&u>d*c.width&&(s.isVertical=!0,s.width=c.width,s.items.forEach(function(e,t){var n=c.items[t],r=n.width,o=n.height;e.width=r,e.height=o}),v=!0)}(v||r(s,n,0))&&(Array.prototype.push.apply(i,o(s,t).items),i[i.length-1].isLast=!0,s={width:0,items:[]},c={width:0,items:[]},u=0,a++)}return i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n(330),i=n(221),a=n(208);t.relatedImagesRegistry=new r.Registry({id:a.cnMMRelatedImages()}),t.relatedImagesRegistry.set(i.cnTiledImages(),o.MMTiledImages)},function(e,t,n){},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(586)),r(n(587)),r(n(588)),r(n(589)),r(n(590)),r(n(591)),r(n(592)),r(n(593)),r(n(594))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.be={"Связанные картинки":"Звязаныя малюнкі"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.en={"Связанные картинки":"Related images"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.id={"Связанные картинки":"Gambar terkait"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.kk={"Связанные картинки":"Байланысқан суреттер"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ru={"Связанные картинки":"Связанные картинки"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tr={"Связанные картинки":"Bağlı görseller"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tt={"Связанные картинки":"Бәйле сурәтләр"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uk={"Связанные картинки":"Зв'язані зображення"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uz={"Связанные картинки":"Bog‘liq rasmlar"}},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(3),i=n(226),a=n(32),s=n(10),c=n(597),u=n(42);n(598),t.MMViewerButtons=function(e){var t=e.image,n=e.imagesCbirSearchUrl,l=e.onLog,d=e.loggedIn,p=e.pos,f=e.rimPos,h=e.reqid,m=e.loginUrl,v=e.view,g=e.isFavorite,y=t.preview&&t.preview[0]||t.dups&&t.dups[0],b=y&&(y.origin?y.origin.url:y.url),w={"-pos":p},M=t.imgHref||b,C=[],S="compact"===v;return"undefined"!==typeof f&&(w["-rim_id"]=t.rimid,w["-rim_index"]=f),t.dups&&(C=c.getUniqueOriginDups(t.dups,e.loadedThumb)),r.createElement(a.CountersConsumer,null,function(a){return r.createElement(o.ComponentRegistryConsumer,{id:u.cnMMViewerButtons()},function(o){var c=o[u.cnMMViewerButtons("OpenImage")],p=o[u.cnMMViewerButtons("SearchByImage")],f=o[u.cnMMViewerButtons("Photostock")],y=o[u.cnMMViewerButtons("AddToCollection")],O=o[u.cnMMViewerButtons("Share")];return r.createElement("div",{className:u.cnMMViewerButtons({view:v})},b&&c&&r.createElement(c,{view:v,url:b,dups:C,link:i.makeAbsolute(e.tld,t&&t.previewUrl||""),downloadCounter:s.addCounterParams(a.buttonOpen,w,{reqid:h,redirUrl:b}),otherSizeCounter:s.addCounterParams(a.otherSize,w,{reqid:h}),onLog:l,popupScope:e.popupScope,tld:e.tld,isOpenImageUnauthPopupEnabled:e.isOpenImageUnauthPopupEnabled,showUnauthPopup:e.showUnauthPopup}),!S&&t.photostockUrl&&r.createElement(f,{photostockUrl:t.photostockUrl}),b&&p&&r.createElement(p,{view:v,query:e.query,imagesCbirSearchUrl:n,openServiceOnNewTab:e.openServiceOnNewTab,onClickCounter:s.addCounterParams(a.similar,w,{reqid:h},{href:M}),image:t,onLog:l,tld:e.tld,isSimilarUnauthPopupEnabled:e.isSimilarUnauthPopupEnabled,showUnauthPopup:e.showUnauthPopup}),b&&y&&r.createElement(y,{view:v,isFavorite:g,loggedIn:d,loginUrl:m,image:t,reqid:h,onLog:l}),t.previewUrl&&O&&r.createElement(O,{view:v,link:i.makeAbsolute(e.tld,t.previewUrl),snippetUrl:t.snippet.url,loggedIn:d,originalUrl:b,shareClick:s.addCounterParams(a.shareClick,"",{reqid:t.reqid}),popupScope:e.popupScope,tld:e.tld,isDiskShareButtonVisible:e.isDiskShareButtonVisible||!1,diskShareDirectoryName:e.diskShareDirectoryName,isDiskShareUnauthPopupEnabled:e.isDiskShareUnauthPopupEnabled,showUnauthPopup:e.showUnauthPopup}))})})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e.w+"×"+e.h};t.getUniqueOriginDups=function(e,t){if(!e)return[];var n,o={},i=(t?[t].concat(e):e).reduce(function(e,i){var a=i&&i.origin||i;if(!a||!a.w||!a.h||!a.url)return e;var s=r(a);if(!o[s]){o[s]=!0;var c={w:a.w,url:a.url,text:s};if(t===i)return n=c,e;e.push(c)}return e},[]);return i.length>1&&i.sort(function(e,t){return e.w&&t.w?t.w-e.w:0}),n&&i.unshift(n),i}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=n(6),s=n(783),c=n(72),u=n(32),l=n(90),d=n(196),p=n(7),f=n(10),h=n(628),m=n(42),v=n(175);n(643);var g=d.MMButtonTypeLink(l.MMButton),y=a.default(v);t.cnMMAddToCollection=m.cnMMViewerButtons("AddToCollection");var b=m.cnMMViewerButtons("AddToCollectionWrapper"),w=m.cnMMViewerButtons("FavoritesPopup");t.GoToCollection=function(e){var n=e.vars,r=e.reqid,o=e.view,a=e.innerRef;return i.createElement(u.CountersConsumer,null,function(e){return i.createElement(g,{className:t.cnMMAddToCollection,text:"compact"===o?y("Перейти",{context:"Кнопка в просмотрщике картинки https://nda.ya.ru/3UYbqY"}):y("Перейти в коллекции",{context:"Кнопка в просмоторщике картинки https://nda.ya.ru/3UYbqY"}),icon:i.createElement(c.MMIcon,{type:"favorites-filled"}),url:"/collections/user/",type:l.IMMButtonTypes.link,forwardRef:a,logNode:{events:{onClick:p.logClick(f.addCounterParams(e.favoriteLink,n,{reqid:r}))}}})})},t.AddToCollection=function(e){var n=e.onClick,r=e.vars,o=e.reqid,a=e.view,s=e.innerRef;return i.createElement(u.CountersConsumer,null,function(e){return i.createElement(g,{className:t.cnMMAddToCollection,text:"compact"===a?y("В коллекцию",{context:"Кнопка в просмотрщике картинки https://nda.ya.ru/3UYbqR"}):y("Добавить в коллекцию",{context:"Кнопка в просмоторщике картинки https://nda.ya.ru/3UYbqR"}),icon:i.createElement(c.MMIcon,{type:"favorites-empty"}),onClick:n,forwardRef:s,logNode:{events:{onClick:p.logClick(f.addCounterParams(e.favoriteAdd,r,{reqid:o}))}}})})};var M=function(e){function n(t){var n=e.call(this,t)||this;return n.state={itemSavedToFavorite:!1},n.domNode=i.createRef(),n.getAddButton=n.getAddButton.bind(n),n.getGotoButton=n.getGotoButton.bind(n),n}return o(n,e),n.prototype.render=function(){var e=this.props,t=e.image,n=e.loggedIn,r=e.loginUrl,o=e.isFavorite,a=e.view,c=i.createElement(s.Favorites,{loginUrl:r,card:h.convertImageToCard(t),sourceName:"lego_img_viewer",loggedIn:Boolean(n),goTo:this.getGotoButton,add:this.getAddButton,isFavorite:o,scope:this.domNode,popupMainOffset:"compact"===a?void 0:-1,popupClassName:w,popupZIndex:1});return i.createElement("span",{ref:this.domNode,className:b},c)},n.prototype.getAddButton=function(e){var n=this.props,r=n.image,o=n.reqid,a=n.view,s=e.innerRef,c=e.onClick;return i.createElement(t.AddToCollection,{view:a,vars:{"-pos":r.pos},reqid:o,onClick:c,innerRef:s})},n.prototype.getGotoButton=function(e){var n=this.props,r=n.image,o=n.reqid,a=n.view,s=e.innerRef;return i.createElement(t.GoToCollection,{view:a,vars:{"-pos":r.pos},reqid:o,innerRef:s})},n}(i.Component);t.MMAddToCollection=M},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t){function n(e,t){this.agent=e,this.contrAgent=t||{},this._resultCallbacks={},this._resultCallbacksIndex=0,this._onMessage=this._onMessage.bind(this),this.agent.win.addEventListener("message",this._onMessage),this.pushMessagesToStack=!1,this._messagesStack=[]}n.prototype={invokeMethod:function(e,t,n){return t=[].concat(t),this._invokeMethod(e,t,n),this},clean:function(){this.agent.win.removeEventListener("message",this._onMessage),this.agent=void 0,this.contrAgent=void 0,this._resultCallbacks=void 0,this._resultCallbacksIndex=0},onIframeLoad:function(){this._messagesStack.reverse().forEach(this._onMessage),this._messagesStack=[],this.pushMessagesToStack=!1},_onMessage:function(e){if(this.contrAgent&&this.contrAgent.win&&e.source===this.contrAgent.win){var t,n=e.data;try{n=JSON.parse(n)}catch(e){return}if(n.methodCall){if(this.contrAgent.url||(this.contrAgent.url=e.origin),this.agent[n.methodCall]){var r,o=n.params;t=n.resultCallbackIndex?this._deInstrumentCallback(n.resultCallbackIndex):[],n.paramsCallbackIndex&&(o=[].concat(o,this._deInstrumentCallback(n.paramsCallbackIndex))),r=this.agent[n.methodCall].apply(this.agent,[].concat(o)),n.resultCallbackIndex&&t(r)}}else n.returnCall&&(t=this._idObjToCallback(n.resultCallbackIndex))&&t.apply(this.agent,[].concat(n.params))}else this.pushMessagesToStack&&this._messagesStack.push(e)},_invokeCallback:function(e,t){this._invokeMethod("",t,e)},_callbackToIdObj:function(e){var t=++this._resultCallbacksIndex;return this._resultCallbacks[t]=e,{__callbackId:t}},_idObjToCallback:function(e){var t=e,n=this._resultCallbacks[t];return delete this._resultCallbacks[t],n},_instrumentCallback:function(e){return this._callbackToIdObj(e)},_deInstrumentCallback:function(e){return function(){setTimeout(function(t){this.contrAgent&&this._invokeCallback(e.__callbackId,[].slice.call(t))}.bind(this,arguments),0)}.bind(this)},_invokeMethod:function(e,t,n){var r;if(e){var o,i=t&&t.pop();"function"===typeof i?o=this._instrumentCallback(i):t&&t.push(i),r={methodCall:e,params:t,paramsCallbackIndex:o,resultCallbackIndex:n&&this._instrumentCallback(n)}}else r={returnCall:!0,params:t,resultCallbackIndex:n};r=JSON.stringify(r),this.contrAgent.win.postMessage(r,this.contrAgent.url)}},e.exports=n},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e){e.exports=JSON.parse('{"version":"1.20.7"}')},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertImageToCard=function(e){var t=function(e){if(e)return e.dups&&e.dups.length?e.dups:e.images&&e.images.length?e.images:e.preview&&e.preview.length?e.preview:void 0}(e),n=e.snippet,r=n.title||"",o=t&&t[0],i=o?o.origin&&o.origin.url||o.url:"";return{doc_id:e.docid,description:r,content:(t||[]).map(function(e){return{source_type:"image",source:{url:(t=e,t?t.origin&&t.origin.url||t.url:"")}};var t}),source_meta:{page_title:r,page_url:e.imgHref||i,page_domain:n.domain}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.be={"В коллекцию":"У калекцыю","Добавить в коллекцию":"Дадаць да калекцыі","Другие размеры и похожие":"Іншыя памеры і падобныя","Купить оригинал картинки":"Купіць арыгінал карцінкі","На сайте фотобанка можно{br0}купить оригинал изображения{br1}и права на его использование":"На сайце фотабанка можна{br0}набыць арыгінал выявы{br1}і правы на яе выкарыстанне","Открыть":"Адкрыць","Отправить":"Адправіць","Перейти":"Перайсці","Перейти в коллекции":"Перайсці ў калекцыі","Похожие":"Падобныя"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.en={"В коллекцию":"Add to collection","Добавить в коллекцию":"Add to collection","Другие размеры и похожие":"Other sizes and similar images","Купить оригинал картинки":"Buy image","На сайте фотобанка можно{br0}купить оригинал изображения{br1}и права на его использование":"Go to the photo bank website to{br0}purchase the original image{br1}and the rights to use it","Открыть":"Open","Отправить":"Share","Перейти":"Go to site","Перейти в коллекции":"Go to collections","Похожие":"Similar images"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.et={"В коллекцию":"Lisa kollektsiooni"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fi={"В коллекцию":"Lisää kokoelmaan"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.id={"В коллекцию":"Add to collection","Добавить в коллекцию":"Tambahkan ke koleksi","Другие размеры и похожие":"Gambar serupa dan gambar berukuran lain","Купить оригинал картинки":"Buy image","На сайте фотобанка можно{br0}купить оригинал изображения{br1}и права на его использование":"Go to the photo bank website to{br0}purchase the original image{br1}and the rights to use it","Открыть":"Buka","Отправить":"Bagikan","Перейти":"Go to site","Перейти в коллекции":"Buka koleksi","Похожие":"Gambar serupa"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.kk={"В коллекцию":"Топтамаға","Добавить в коллекцию":"Топтамаға қосу","Другие размеры и похожие":"Басқа өлшемдері мен ұқсастары","Купить оригинал картинки":"Суреттің түпнұсқасын сатып алу","На сайте фотобанка можно{br0}купить оригинал изображения{br1}и права на его использование":"Фотобанк сайтынан {br0}суреттің түпнұсқасын сатып алуға{br1} және оны пайдалану құқығын алуға болады.","Открыть":"Ашу","Отправить":"Жіберу","Перейти":"Өту","Перейти в коллекции":"Топтамаларға өту","Похожие":"Ұқсас"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lt={"В коллекцию":"Įtraukti į kolekciją"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lv={"В коллекцию":"Pievienot kolekcijai"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pl={"В коллекцию":"Dodaj do kolekcji","Добавить в коллекцию":"Dodaj do kolekcji","Другие размеры и похожие":"Inne rozmiary i podobne obrazy","Купить оригинал картинки":"Kup obraz","На сайте фотобанка можно{br0}купить оригинал изображения{br1}и права на его использование":"Przejdź do witryny banku zdjęć, aby{br0}kupić oryginalny obraz{br1}i prawo do jego używania","Открыть":"Otwórz","Отправить":"Udostępnij","Перейти":"Przejdź do witryny","Перейти в коллекции":"Przejdź do kolekcji","Похожие":"Podobne obrazy"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ru={"В коллекцию":"В коллекцию","Добавить в коллекцию":"Добавить в коллекцию","Другие размеры и похожие":"Другие размеры и похожие","Купить оригинал картинки":"Купить оригинал картинки","На сайте фотобанка можно{br0}купить оригинал изображения{br1}и права на его использование":"На сайте фотобанка можно{br0}купить оригинал изображения{br1}и права на его использование","Открыть":"Открыть","Отправить":"Отправить","Перейти":"Перейти","Перейти в коллекции":"Перейти в коллекции","Похожие":"Похожие"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tr={"В коллекцию":"Koleksiyona","Добавить в коллекцию":"Koleksiyon'a ekle","Другие размеры и похожие":"Benzer ve diğer boyutlar","Купить оригинал картинки":"Görseli satın al","На сайте фотобанка можно{br0}купить оригинал изображения{br1}и права на его использование":"Fotobank sitesinde{br0}orijinal görseller ve{br1}kullanım haklarını alabilirsiniz","Открыть":"Aç","Отправить":"Gönder","Перейти":"Siteye git","Перейти в коллекции":"Koleksiyonlar'a git","Похожие":"Benzer"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tt={"В коллекцию":"Коллекциягә","Добавить в коллекцию":"Коллекциягә өстәргә","Другие размеры и похожие":"Башка үлчәмдәгеләре һәм охшашлары","Купить оригинал картинки":"Cурәтнең асыл нөсхәсен сатып алырга","На сайте фотобанка можно{br0}купить оригинал изображения{br1}и права на его использование":"На сайте фотобанка можно{br0}купить оригинал изображения{br1}и права на его использование","Открыть":"Ачарга","Отправить":"Җибәрергә","Перейти":"Перейти","Перейти в коллекции":"Тупланмаларга күчәргә","Похожие":"Похожие"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uk={"В коллекцию":"До колекції","Добавить в коллекцию":"Додати до колекції","Другие размеры и похожие":"Інші розміри і подібні","Купить оригинал картинки":"Купити оригінал зображення","На сайте фотобанка можно{br0}купить оригинал изображения{br1}и права на его использование":"На сайті фотобанку можна{br0}купити оригінал зображення{br1}і права на його використання","Открыть":"Відкрити","Отправить":"Надіслати","Перейти":"Перейти","Перейти в коллекции":"Перейти до колекцій","Похожие":"Схожі"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uz={"В коллекцию":"Kollektsiyaga","Добавить в коллекцию":"Kollektsiyaga qo‘shish","Другие размеры и похожие":"Boshqa o‘lchamlar va o‘xshashlar","Купить оригинал картинки":"Rasmning asl nusxasini sotib olish","На сайте фотобанка можно{br0}купить оригинал изображения{br1}и права на его использование":"Fotobank saytida{br0}rasmning asl nusxasini {br1}va undan foydalanish huquqini sotib olishingiz mumkin","Открыть":"Ochish","Отправить":"Yuborish","Перейти":"Ochish","Перейти в коллекции":"Kollektsiyaga o‘tish","Похожие":"O‘xshashlar"}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),s=n(1),c=n(72),u=n(7),l=n(10),d=n(90),p=n(200),f=n(224),h=n(178),m=n(42);n(657);var v=s.compose(p.withViewDefault,p.withThemeNormal,h.withZIndex,p.withTargetAnchor,f.withOutsideClick)(p.Popup),g=m.cnMMViewerButtons("ImageSizesPopup"),y=m.cnMMViewerButtons("ImageSizes"),b=m.cnMMViewerButtons("ImageSizesList"),w=function(e){function t(t){var n=e.call(this,t)||this;return n.popupTarget=a.createRef(),n.state={popupVisible:!1},n.togglePopup=n.togglePopup.bind(n),n.onOutsideSizesPopupClick=n.onOutsideSizesPopupClick.bind(n),n}return o(t,e),t.prototype.openPopup=function(){this.setState({popupVisible:!0})},t.prototype.closePopup=function(){this.setState({popupVisible:!1})},t.prototype.componentDidUpdate=function(e){e.link!==this.props.link&&this.closePopup()},t.prototype.render=function(){return a.createElement(a.Fragment,null,a.createElement(d.MMButton,{className:y,text:this.props.dups[0].text,rightIcon:a.createElement(c.MMIcon,{type:"more-sizes"}),onClick:this.togglePopup,forwardRef:this.popupTarget,logNode:{name:"other"}}),a.createElement(v,{className:g,hasTail:!0,secondaryOffset:15,theme:"normal",view:"default",target:"anchor",onOutsideClick:this.onOutsideSizesPopupClick,anchor:this.popupTarget,visible:this.state.popupVisible,zIndexGroupLevel:20,scope:this.props.popupScope},a.createElement("ul",{className:b},this.renderDups())))},t.prototype.togglePopup=function(){this.setState({popupVisible:!this.state.popupVisible})},t.prototype.onOutsideSizesPopupClick=function(e){this.popupTarget.current&&this.popupTarget.current.contains(e.target)||this.closePopup()},t.prototype.renderDups=function(){var e=this,t=this.props.dups;if(t){var n=this.props.otherSizeCounter?void 0:{events:{}};return t.slice(1).map(function(t,r){var o=t.url,s=t.text;return a.createElement(M,{key:o,url:o,clickCounter:e.props.otherSizeCounter,logNode:i({name:"size-"+r},n),onSizeClick:e.props.onSizeClick,idx:r},s)})}},t}(a.Component);t.SizesButtonPresenter=w;var M=u.withBaobab({name:"ImageSizesListItem",events:{onClick:u.logClick(function(e){var t=e.props,n=t.idx,r=t.clickCounter,o=t.url;return r?l.addCounterParams(r,{"-p":n+1},{path:l.getCounterPath(r)+"/p"+(n+1)},{href:o}):void 0})}})(function(e){var t=a.useCallback(function(t){e.onSizeClick?e.onSizeClick(t,e.url,e.onClick):e.onClick&&e.onClick(t)},[e.onSizeClick,e.onClick]);return a.createElement("li",null,a.createElement("a",{className:m.cnMMViewerButtons("ImageSizesListItem"),href:e.url,target:"_blank",rel:"noopener",onClick:t,onContextMenuCapture:t},e.children))});t.SizesButton=u.withBaobab({name:m.cnMMViewerButtons("ImageSizes")})(w)},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(660),i=n(7),a=n(20),s=n(663),c=n(686);n(733),t.MMSharePresenter=function(e){var t=a.useImagesContext(u).services,n={page_url:e.snippetUrl,yaimages_search_url:"",yaimages_search_request:""};return r.createElement(o.Share,{link:e.link,popup:{anchor:e.anchor,visible:e.visible,secondaryOffset:3,zIndex:e.zIndex,zIndexGroupLevel:e.zIndexGroupLevel,scope:e.popupScope},services:t,onShare:e.onShare,className:"MMSharePopup",onOutsideClick:e.onOutsideClick,footer:r.createElement(r.Fragment,null,r.createElement(c.MMShareCopy,{link:e.link,active:Boolean(e.visible)}),e.isDiskShareButtonVisible&&r.createElement("hr",{className:"MMShare-Spacer"}),e.isDiskShareButtonVisible&&e.originalUrl&&r.createElement(s.MMShareDisk,{tld:e.tld,fileUrl:e.originalUrl,loggedIn:Boolean(e.loggedIn),dirName:e.diskShareDirectoryName,fileMeta:n,requestAuthorization:e.requestAuthorization,popupScope:e.popupScope}))})};var u=function(e){return e.config.shareConfig||{}};t.MMShare=i.withBaobab({name:"share"})(t.MMSharePresenter)},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(1),a=n(200),s=n(224),c=n(178),u=n(661),l=i.compose(a.withViewDefault,a.withThemeNormal,c.withZIndex,a.withTargetAnchor,s.withOutsideClick)(a.Popup);t.Share=function(e){return o.createElement(l,r({hasTail:!0,theme:"normal",view:"default",target:"anchor",className:e.className,onOutsideClick:e.onOutsideClick},e.popup),e.header,o.createElement(u.ShareVanilla,{url:e.link,onShare:e.onShare,services:e.services||"vkontakte,odnoklassniki,facebook,twitter",direction:"vertical"}),e.footer)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(662),i=new o.ShareLoader;t.ShareVanilla=function(e){var t=r.useRef();return r.useEffect(function(){return t.current||i.whenScriptReady(function(n){t.current=n(o.YA_SHARE_ID,{services:e.services,hooks:{onshare:e.onShare},content:{url:e.url}})}),function(){t.current&&(t.current.destroy(),t.current=void 0)}},[e.onShare,e.services,e.url]),r.useEffect(function(){t.current&&t.current.updateContent({url:e.url})},[e.url]),r.createElement("div",{id:o.YA_SHARE_ID,"data-services":e.services,"data-size":"s","data-lang":"ru","data-direction":e.direction})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(228);t.YA_SHARE_ID="ya-share2-load",t.YA_SHARE_URL="//yandex.ru/images/_crpd/hmiK28s06/3a2294S0tAWM/e7_8MEGTJFoaXkDoo907BzYBMxYJ38lHNA1CNPQS2ltl7BTg";var o=function(){function e(){r.canUseDOM&&(this.isLoaded()||this.isScriptExists()||this.loadScript())}return e.prototype.whenScriptReady=function(e){this.readyCallback=e,this.runCallback()},e.prototype.isLoaded=function(){return Boolean(this.getYaShare())},e.prototype.isScriptExists=function(){return Boolean(document.getElementById(t.YA_SHARE_ID))},e.prototype.getYaShare=function(){if(r.canUseDOM)return window.Ya.share2},e.prototype.runCallback=function(){var e=this.readyCallback,t=this.getYaShare();t&&e&&setTimeout(function(){return e(t)})},e.prototype.loadScript=function(){var e=this,n=document.createElement("script");n.id="ya-share-script",n.src=t.YA_SHARE_URL,n.async=!0,n.crossOrigin="",n.onload=function(){return e.waitForInit()},n.onerror=function(){throw new Error("failed to load ya-share2")},document.body.appendChild(n)},e.prototype.waitForInit=function(){var e=this,t=0,n=setInterval(function(){if(10===++t)throw clearInterval(n),new Error("failed to load ya-share2");e.isLoaded()&&(clearInterval(n),e.runCallback())},50)},e}();t.ShareLoader=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n(664),i=n(667);t.MMShareDisk=r.withRegistry(i.shareDiskRegistry)(o.MMShareDisk)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(3),i=n(275),a=n(147);n(666),t.MMShareDisk=function(e){return r.createElement(o.ComponentRegistryConsumer,{id:a.cnMMShareDisk()},function(t){return r.createElement(i.DiskUploadController,{key:e.fileUrl,tld:e.tld,fileUrl:e.fileUrl,dirName:e.dirName,fileMeta:e.fileMeta,loggedIn:e.loggedIn,requestAuthorization:e.requestAuthorization},function(n){var o=n.status,i=function(e,t){return t[a.cnMMShareDisk("Presenter",{status:e})]}(o,t);return r.createElement(i,{status:n.status,loading:n.loading,uploaded:n.uploaded,failed:n.failed,error:n.error,upload:n.upload,fileName:n.fileName,fileUrl:e.fileUrl,tld:e.tld||"ru",requestAuthorization:e.requestAuthorization,errorTooltipTimeout:e.errorTooltipTimeout||5e3,popupScope:e.popupScope,className:a.cnMMShareDisk("Presenter",{status:o})})})})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(31),o=n(233),i="ru",a={info:"/",resources:"/resources/",operations:"/operations/",upload:"/resources/upload/"},s={POST:function(e,t,n){return r.sendRequest(e,Object.assign({method:"post"},t),n,t&&t.body||null)},PUT:r.put,DELETE:r.del,PATCH:function(e,t,n){return r.sendRequest(e,Object.assign({method:"patch"},t),n,t&&t.body)}},c=function(){function e(e){void 0===e&&(e={}),this.tld=e.tld||i,this.baseUrl="https://cloud-api.yandex."+this.tld+"/images/v1/disk",this.endpoints=e.endpoints||a}return e.prototype.info=function(){return this.callMethod({url:this.getMethodEndpoint("info"),method:"GET",format:"json"})},e.prototype.status=function(e){return this.callMethod({url:e,method:"GET",format:"json"})},e.prototype.setMeta=function(e,t){return this.callMethod({url:this.getMethodEndpoint("resources"),method:"PATCH",format:"json",headers:{"content-type":"application/json"},queryParams:{path:e},body:JSON.stringify({custom_properties:t})})},e.prototype.isPathExists=function(e){return this.callMethod({url:this.getMethodEndpoint("resources"),method:"GET",format:"json",queryParams:{path:e,limit:1}})},e.prototype.mkdir=function(e){return this.callMethod({url:this.getMethodEndpoint("resources"),method:"PUT",format:"json",queryParams:{path:e}})},e.prototype.upload=function(e,t){return this.callMethod({url:this.getMethodEndpoint("upload"),method:"POST",format:"json",queryParams:{url:t,path:e,disable_redirects:"true"}})},e.prototype.callMethod=function(e){var t=e.method,n=e.url,i=s[t];return"GET"===t&&(i=r.get),new Promise(function(t,r){i(n,e,{successCallback:function(e){return t(e)},failureCallback:function(e,t,n){switch(t.status){case 401:return r(new o.UnauthorizedError(n));case 507:return r(new o.NoAvailableSpaceError(n));default:return r(new o.UnknownError({response:n,status:t.status}))}}})})},e.prototype.getMethodEndpoint=function(e){var t=this.endpoints[e];return this.baseUrl+t},e}();t.DiskApi=c},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=n(275),i=n(668),a=n(679),s=n(682),c=n(685),u=n(147);t.shareDiskRegistry=new r.Registry({id:u.cnMMShareDisk()}),t.shareDiskRegistry.set(u.cnMMShareDisk("Presenter",{status:o.DiskUploadControllerStatus.active}),i.MMShareDiskPresenter),t.shareDiskRegistry.set(u.cnMMShareDisk("Presenter",{status:o.DiskUploadControllerStatus.loading}),a.MMShareDiskPresenter),t.shareDiskRegistry.set(u.cnMMShareDisk("Presenter",{status:o.DiskUploadControllerStatus.failed}),s.MMShareDiskPresenter),t.shareDiskRegistry.set(u.cnMMShareDisk("Presenter",{status:o.DiskUploadControllerStatus.uploaded}),c.MMShareDiskPresenter)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(6),i=n(72),a=n(197),s=n(198),c=n(147),u=o.default(s),l=r.createElement(i.MMIcon,{className:c.cnMMShareDisk("Icon",{type:"disk"}),type:"disk"});t.MMShareDiskPresenter=function(e){var t=e.upload,n=r.useCallback(function(){setTimeout(t,0)},[t]);return r.createElement(a.ShareItem,{className:e.className,onClick:n,logNode:{name:"shareDisk"},icon:l,title:u("Сохранить на диск",{context:"Кнопка для сохранения картинки на Яндекс.Диск"})})}},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.be={"Картинка сохранена":"Карцінка захаваная","Купить еще место":"Набыць яшчэ месца","Не получается, попробуйте позже или сохраните картинку на компьютер":"Не атрымліваецца, паспрабуйце пазней або захавайце карцінку на камп'ютар","Нет места на Яндекс.Диске":"Няма месца на Яндэкс.Дыску","Сохранить":"Захаваць","Сохранить на диск":"Захаваць на дыск","Сохраняем картинку":"Захоўваем карцінку"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.en={"Картинка сохранена":"Image saved","Купить еще место":"Buy more space","Не получается, попробуйте позже или сохраните картинку на компьютер":"Something went wrong. Try again later or save the image on your computer","Нет места на Яндекс.Диске":"Not enough space on Yandex.Disk","Сохранить":"Save","Сохранить на диск":"Save on Yandex.Disk","Сохраняем картинку":"Saving image"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.id={"Картинка сохранена":"Image saved","Купить еще место":"Buy more space","Не получается, попробуйте позже или сохраните картинку на компьютер":"Something went wrong. Try again later or save the image on your computer","Нет места на Яндекс.Диске":"Not enough space on Yandex.Disk","Сохранить":"Save","Сохранить на диск":"Save on Yandex.Disk","Сохраняем картинку":"Saving image"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.kk={"Картинка сохранена":"Сурет сақталды","Купить еще место":"Тағы орын сатып алу","Не получается, попробуйте позже или сохраните картинку на компьютер":"Болмай жатыр, кейінірек көріңіз немесе суретті компьютерге сақтаңыз","Нет места на Яндекс.Диске":"Яндекс.Дискіде орын жоқ","Сохранить":"Сақтау","Сохранить на диск":"Дискіге сақтау","Сохраняем картинку":"Суретті сақтаудамыз"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ru={"Картинка сохранена":"Картинка сохранена","Купить еще место":"Купить еще место","Не получается, попробуйте позже или сохраните картинку на компьютер":"Не получается, попробуйте позже или сохраните картинку на компьютер","Нет места на Яндекс.Диске":"Нет места на Яндекс.Диске","Сохранить":"Сохранить","Сохранить на диск":"Сохранить на диск","Сохраняем картинку":"Сохраняем картинку"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tr={"Картинка сохранена":"Görsel kaydedildi","Купить еще место":"Daha fazla alan al","Не получается, попробуйте позже или сохраните картинку на компьютер":"Kaydedilemiyor; daha sonra deneyin veya görseli bilgisayara kaydedin","Нет места на Яндекс.Диске":"Yandex.Disk'te alan yok","Сохранить":"Kaydet","Сохранить на диск":"Disk'e kaydet","Сохраняем картинку":"Görsel kaydediliyor"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tt={"Картинка сохранена":"Картинка сохранена","Купить еще место":"Купить еще место","Не получается, попробуйте позже или сохраните картинку на компьютер":"Не получается, попробуйте позже или сохраните картинку на компьютер","Нет места на Яндекс.Диске":"Нет места на Яндекс.Диске","Сохранить":"Сохранить","Сохранить на диск":"Сохранить на диск","Сохраняем картинку":"Сохраняем картинку"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uk={"Картинка сохранена":"Зображення збережене","Купить еще место":"Купити ще місце","Не получается, попробуйте позже или сохраните картинку на компьютер":"Не виходить, спробуйте пізніше або збережіть зображення на комп'ютер","Нет места на Яндекс.Диске":"Немає місця на Яндекс.Диску","Сохранить":"Зберегти","Сохранить на диск":"Зберегти на диск","Сохраняем картинку":"Зберігаємо зображення"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uz={"Картинка сохранена":"Rasm saqlandi","Купить еще место":"Yana joy xarid qilish","Не получается, попробуйте позже или сохраните картинку на компьютер":"Amalga oshmadi, keyinroq qayta urining yoki rasmni kompyuterga saqlang","Нет места на Яндекс.Диске":"Yandex.Diskda joy qolmagan","Сохранить":"Saqlash","Сохранить на диск":"Yandex.Diskka saqlash","Сохраняем картинку":"Rasmni saqlayapmiz"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(6),i=n(197),a=n(680),s=n(198),c=o.default(s),u=r.createElement(a.MMShareDiskSpinner,null);t.MMShareDiskPresenter=function(e){return r.createElement(i.ShareItem,{className:e.className,icon:u,title:c("Сохраняем картинку",{context:"Кнопка для сохранения картинки на Яндекс.Диск во время загрузки"})})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(227),i=n(147);n(681),t.MMShareDiskSpinner=function(){return r.createElement(o.Spinner,{className:i.cnMMShareDisk("Spinner")})}},function(e,t,n){},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=n(6),s=n(1),c=n(3),u=n(200),l=n(178),d=n(233),p=n(223),f=n(198),h=n(147),m=n(683),v=n(684),g=a.default(f),y=s.compose(u.withViewDefault,u.withThemeNormal,u.withTargetAnchor,l.withZIndex)(u.Popup),b=s.compose(s.composeU(p.withThemeClear,p.withThemeAction),p.withSizeM,p.withTypeLink)(p.Button),w=function(e){var t=g("Нет места на Яндекс.Диске",{context:"Надпись на тултипе рядом с кнопкой сохранения на диск при нехватке места на Яндекс.Диске"}),n=m.getTuneDiskUrl(e.tld);return i.createElement("div",{className:h.cnMMShareDisk("TooltipContent")},i.createElement("div",{className:h.cnMMShareDisk("TooltipDescription")},t),i.createElement("div",{className:h.cnMMShareDisk("TooltipCloseIcon"),onClick:e.onCloseClick}),i.createElement("div",{className:h.cnMMShareDisk("TooltipButtons")},i.createElement(b,{className:h.cnMMShareDisk("TooltipButton",{pinned:"bottom-right"}),size:"m",theme:"action",type:"link",target:"_blank",url:n},g("Купить еще место",{context:'Кнопка "купить еще место" при нехватке места для сохранения картинки на Яндекс.Диск'}))))},M=function(e){var t=g("Не получается, попробуйте позже или сохраните картинку на компьютер",{context:"Надпись на тултипе рядом с кнопкой сохранения на диск при ошибке"}),n=i.useCallback(function(){v.downloadFile(e.fileUrl,e.fileName)},[e.fileUrl]);return i.createElement("div",{className:h.cnMMShareDisk("TooltipContent")},i.createElement("div",{className:h.cnMMShareDisk("TooltipDescription")},t),i.createElement("div",{className:h.cnMMShareDisk("TooltipCloseIcon"),onClick:e.onCloseClick}),i.createElement("div",{className:h.cnMMShareDisk("TooltipButtons")},i.createElement(b,{className:h.cnMMShareDisk("TooltipButton",{pinned:"bottom-right"}),size:"m",theme:"action",onClick:n},g("Сохранить",{context:'Кнопка "сохранить картинку на компьютер" при неудачном сохранении на Яндекс.Диск'}))))};t.MMShareDiskPresenter=function(e){var t,n,a,s,u=i.createRef(),l=o(i.useState(!0),2),p=l[0],f=l[1];t=function(){return f(!0)},n=function(){return f(!1)},a=e.errorTooltipTimeout||5e3,s=[],i.useEffect(function(){t();var e=setTimeout(n,a);return function(){n(),clearTimeout(e)}},s),i.useEffect(function(){e.error instanceof d.UnauthorizedError&&e.requestAuthorization&&e.requestAuthorization()},[e.error]);var m=i.createElement(M,{tld:e.tld,onCloseClick:function(){return f(!1)},fileUrl:e.fileUrl,fileName:e.fileName});return e.error instanceof d.NoAvailableSpaceError&&(m=i.createElement(w,{tld:e.tld,onCloseClick:function(){return f(!1)}})),i.createElement(c.ComponentRegistryConsumer,{id:h.cnMMShareDisk()},function(t){var n=t[h.cnMMShareDisk("Presenter",{status:"active"})];return i.createElement(i.Fragment,null,i.createElement("div",{ref:u},i.createElement(n,r({},e))),m&&i.createElement(y,{view:"default",target:"anchor",className:h.cnMMShareDisk("Tooltip",{theme:"dark"}),keepMounted:!1,hasTail:!0,visible:p,anchor:u,zIndexGroupLevel:20,mainOffset:0,scope:e.popupScope,directions:["bottom-center","top-center"]},m))})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTuneDiskUrl=function(e){return"https://disk.yandex."+e+"/tuning"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.downloadFile=function(e,t){var n=e;-1!==n.indexOf("?")?n+="&download="+t:n+="?download="+t;var r=document.createElement("a");r.setAttribute("href",n),r.setAttribute("download",t),r.setAttribute("target","_blank"),document.body.appendChild(r),setTimeout(function(){r.click(),document.body.removeChild(r)},0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(6),i=n(72),a=n(197),s=n(198),c=n(147),u=o.default(s),l=r.createElement(i.MMIcon,{className:c.cnMMShareDisk("Icon",{type:"check"}),type:"check"});t.MMShareDiskPresenter=function(e){return r.createElement(a.ShareItem,{className:e.className,icon:l,title:u("Картинка сохранена",{context:"Кнопка для сохранения картинки на Яндекс.Диск после успешной загрузки"})})}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=n(6),s=n(687),c=n(72),u=n(197),l=n(688),d=n(722),p=i.createElement(c.MMIcon,{type:"chain"}),f=i.createElement(c.MMIcon,{type:"check"}),h=a.default(d),m=function(e){return i.createElement(u.ShareItem,{logNode:{name:"shareCopy"},icon:p,title:h("Скопировать ссылку",{context:"Кнопка для коппирования ссылки на картинку https://nda.ya.ru/3UYbpX"}),onClick:e.onClick})},v=function(e){function t(t){var n=e.call(this,t)||this;return n.state={fallback:!1,copied:!1},n.onClick=n.onClick.bind(n),n}return o(t,e),t.prototype.componentDidUpdate=function(){this.state.copied&&!this.props.active&&this.setState({fallback:!1,copied:!1})},t.prototype.render=function(){return this.state.fallback?i.createElement(l.MMCopyFallback,{value:this.props.link}):this.state.copied?i.createElement(u.ShareItem,{icon:f,title:h("Ссылка скопирована",{context:"Надпись оповещающая о успешном копировании ссылки https://nda.ya.ru/3UYbot"})}):i.createElement(m,{onClick:this.onClick})},t.prototype.onClick=function(){var e=this,t=s.copyToBuffer(this.props.link);setTimeout(function(){e.setState({copied:t,fallback:!t})},0)},t}(i.Component);t.MMShareCopy=v},function(e,t,n){"use strict";function r(e){var t=!1;try{var n=document.createRange();n.selectNodeContents(e);var r=window.getSelection();if(!r)return!1;r.removeAllRanges(),r.addRange(n),t=document.execCommand("copy"),r.removeAllRanges()}catch(e){return!1}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.copyToBufferFromHtml=r,t.copyToBuffer=function(e){var t=document.createElement("div");t.textContent=e,document.body.appendChild(t);var n=r(t);return document.body.removeChild(t),n}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),a=n(1),s=n(784),c=a.compose(s.withViewClassic,s.withThemeNormal,s.withSizeM)(s.Textinput),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.inputRef=i.createRef(),t}return o(t,e),t.prototype.componentDidMount=function(){this.selectAll()},t.prototype.componentDidUpdate=function(){this.selectAll()},t.prototype.render=function(){return i.createElement(c,{view:"classic",theme:"normal",size:"m",value:this.props.value,controlRef:this.inputRef})},t.prototype.selectAll=function(){var e=this.inputRef.current;setTimeout(function(){return e&&e.select()})},t}(i.Component);t.MMCopyFallback=u},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(723)),r(n(724)),r(n(725)),r(n(726)),r(n(727)),r(n(728)),r(n(729)),r(n(730)),r(n(731)),r(n(732))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.be={"Скопировать ссылку":"Скапіраваць спасылку","Ссылка скопирована":"Спасылка скапіраваная"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.en={"Скопировать ссылку":"Copy link","Ссылка скопирована":"Link copied"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.id={"Скопировать ссылку":"Copy link","Ссылка скопирована":"Link copied"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.kk={"Скопировать ссылку":"Сілтемені көшіру","Ссылка скопирована":"Сілтеме көшірілді"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pl={"Скопировать ссылку":"Skopiuj link","Ссылка скопирована":"Link skopiowany"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ru={"Скопировать ссылку":"Скопировать ссылку","Ссылка скопирована":"Ссылка скопирована"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tr={"Скопировать ссылку":"Copy link","Ссылка скопирована":"Link copied"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tt={"Скопировать ссылку":"Скопировать ссылку","Ссылка скопирована":"Ссылка скопирована"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uk={"Скопировать ссылку":"Скопіювати посилання","Ссылка скопирована":"Посилання скопійоване"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uz={"Скопировать ссылку":"Havoladan nusxa olish","Ссылка скопирована":"Havoladan nusxa olindi"}},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(7),i=n(6),a=n(72),s=n(32),c=n(10),u=n(90),l=n(196),d=n(276),p=n(42),f=n(175);n(738);var h=i.i18nRaw(f),m=l.MMButtonTypeLink(u.MMButton);function v(e){return function(t){var n=t.props;if(n.counters&&n.counters[e]&&n.photostockUrl){var r=encodeURIComponent(n.photostockUrl);return c.addCounterParams(n.counters[e],{"-url":r},{redirUrl:r})}}}t.MMPhotostockButtonPresenter=r.memo(function(e){var t=e.onClick,n=e.onShow,o=e.photostockUrl,i=r.useRef(""),s=r.useRef(null);return n&&i.current!==o&&(i.current=o,n(o)),r.createElement(d.MMViewerButtonTooltip,{text:h("На сайте фотобанка можно{br0}купить оригинал изображения{br1}и права на его использование",{br0:r.createElement("br",{key:"0"}),br1:r.createElement("br",{key:"1"}),context:"Кнопка ведущая на сайт, где можно купить демонстрируемую картинку"}),anchor:s,directions:["left-center"],mainOffset:7,hasTail:!0},function(e,n){return r.createElement(m,{forwardRef:s,className:p.cnMMViewerButtons("Photostock"),text:h("Купить оригинал картинки",{context:"Кнопка ведущая на сайт, где можно купить демонстрируемую картинку"}),onClick:(i=n,c=t,r.useCallback(function(e){i(),c&&c(e)},[i,c])),onMouseEnter:e,onMouseLeave:n,url:o,icon:r.createElement(a.MMIcon,{type:"photostock"}),type:u.IMMButtonTypes.link});var i,c})}),t.MMPhotostockButton=s.withImageCounters(o.withBaobab({name:"MMPhotostockButton",events:{onShow:o.logTech("show",v("photostockShown")),onClick:o.logClick(v("photostockClick"))}})(t.MMPhotostockButtonPresenter))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4);t.cnMMViewerButtonTooltip=r.cn("MMViewerButtonTooltip")},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(228);t.isIntersectionObserverSupported=!!r.canUseDOM&&Boolean("IntersectionObserver"in window&&"IntersectionObserverEntry"in window),t.shouldUseFixedPosition=!!r.canUseDOM&&!(window.navigator.userAgent.indexOf("Edg/")>-1)&&window.navigator.userAgent.indexOf("Edge/")>-1},function(e,t,n){},function(e,t,n){var r,o,i;o=[t],void 0===(i="function"===typeof(r=function(e){"use strict";function t(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(e,"__esModule",{value:!0});var n=!1;if("undefined"!=typeof window){var r={get passive(){n=!0}};window.addEventListener("testPassive",null,r),window.removeEventListener("testPassive",null,r)}var o="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&/iP(ad|hone|od)/.test(window.navigator.platform),i=[],a=!1,s=-1,c=void 0,u=void 0,l=function(e){return i.some(function(t){return!(!t.options.allowTouchMove||!t.options.allowTouchMove(e))})},d=function(e){var t=e||window.event;return!!l(t.target)||1<t.touches.length||(t.preventDefault&&t.preventDefault(),!1)},p=function(){setTimeout(function(){void 0!==u&&(document.body.style.paddingRight=u,u=void 0),void 0!==c&&(document.body.style.overflow=c,c=void 0)})};e.disableBodyScroll=function(e,r){if(o){if(!e)return void console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");if(e&&!i.some(function(t){return t.targetElement===e})){var p={targetElement:e,options:r||{}};i=[].concat(t(i),[p]),e.ontouchstart=function(e){1===e.targetTouches.length&&(s=e.targetTouches[0].clientY)},e.ontouchmove=function(t){var n,r,o,i;1===t.targetTouches.length&&(r=e,i=(n=t).targetTouches[0].clientY-s,!l(n.target)&&(r&&0===r.scrollTop&&0<i?d(n):(o=r)&&o.scrollHeight-o.scrollTop<=o.clientHeight&&i<0?d(n):n.stopPropagation()))},a||(document.addEventListener("touchmove",d,n?{passive:!1}:void 0),a=!0)}}else{h=r,setTimeout(function(){if(void 0===u){var e=!!h&&!0===h.reserveScrollBarGap,t=window.innerWidth-document.documentElement.clientWidth;e&&0<t&&(u=document.body.style.paddingRight,document.body.style.paddingRight=t+"px")}void 0===c&&(c=document.body.style.overflow,document.body.style.overflow="hidden")});var f={targetElement:e,options:r||{}};i=[].concat(t(i),[f])}var h},e.clearAllBodyScrollLocks=function(){o?(i.forEach(function(e){e.targetElement.ontouchstart=null,e.targetElement.ontouchmove=null}),a&&(document.removeEventListener("touchmove",d,n?{passive:!1}:void 0),a=!1),i=[],s=-1):(p(),i=[])},e.enableBodyScroll=function(e){if(o){if(!e)return void console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");e.ontouchstart=null,e.ontouchmove=null,i=i.filter(function(t){return t.targetElement!==e}),a&&0===i.length&&(document.removeEventListener("touchmove",d,n?{passive:!1}:void 0),a=!1)}else(i=i.filter(function(t){return t.targetElement!==e})).length||p()}})?r.apply(t,o):r)||(e.exports=i)},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(7),i=n(234);n(746),t.ViewerModalParanja=o.withBaobab({name:"ViewerModal-Paranja",events:{onClick:o.logClick()}})(r.memo(function(e){return r.createElement("div",{className:i.cnViewerModal("Paranja",null,[e.className]),onClick:e.onClick})}))},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(7),i=n(234);n(748),t.ViewerModalClose=o.withBaobab({name:"ModalViewer-Close",events:{onClick:o.logClick()}})(r.memo(function(e){return r.createElement("div",{className:i.cnViewerModal("Close",null,[e.className]),onClick:e.onClick})}))},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(7),i=n(91);n(751),t.CircleButtonPresenter=r.memo(function(e){var t=e.disabled,n=void 0!==t&&t,o=e.onMouseEnter,a=e.onMouseOut,s=e.forwardRef,c=e.onClick;return r.createElement("div",{className:i.cnCircleButton({disabled:n},[e.className]),onClick:n?void 0:c,onMouseEnter:o,onMouseOut:a,ref:s},e.children)}),t.CircleButton=o.withBaobab({name:"CircleButton"})(t.CircleButtonPresenter)},function(e,t,n){},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(1),a=n(91),s=n(753);t.CircleButtonTyped=i.withBemMod(a.cnCircleButton(),{type:"*"},function(e){return function(t){return o.createElement(e,r({},t,{className:a.cnCircleButton({type:!0},[t.className])}),t.children,o.createElement(s.CircleButtonIcon,null))}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(91);n(754),t.CircleButtonIcon=r.memo(function(){return r.createElement("i",{className:o.cnCircleButton("Icon")})})},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(91);n(756),t.CircleButtonTypeNext=r.withBemMod(o.cnCircleButton(),{type:"next"})},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(91);n(758),t.CircleButtonTypePrev=r.withBemMod(o.cnCircleButton(),{type:"prev"})},function(e,t,n){},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(1),a=n(6),s=n(91);n(760);var c=n(278),u=a.default(c);t.CircleButtonTypeFullscreen=i.withBemMod(s.cnCircleButton(),{type:"fullscreen"},function(e){return function(t){return o.createElement(e,r({},t,{title:u("Открыть в полноэкранном режиме",{context:"Кнопка открытия полноэкранного режима в просмотрщике картинок"})}),t.children)}})},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.be={"Открыть в полноэкранном режиме":"Адчыніць у поўнаэкранным рэжыме","Поиск по фрагменту картинки":"Пошук паводле фрагменту выявы"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.en={"Открыть в полноэкранном режиме":"Open in full-screen mode","Поиск по фрагменту картинки":"Search by image fragment"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.id={"Открыть в полноэкранном режиме":"Open in full-screen mode","Поиск по фрагменту картинки":"Search by image fragment"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.kk={"Открыть в полноэкранном режиме":"Открыть в полноэкранном режиме","Поиск по фрагменту картинки":"Поиск по фрагменту картинки"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pl={"Открыть в полноэкранном режиме":"Otwórz w trybie pełnoekranowym","Поиск по фрагменту картинки":"Szukaj wg fragmentu obrazu"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ru={"Открыть в полноэкранном режиме":"Открыть в полноэкранном режиме","Поиск по фрагменту картинки":"Поиск по фрагменту картинки"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tr={"Открыть в полноэкранном режиме":"Tam ekran modunda aç","Поиск по фрагменту картинки":"Görsel parçasına göre arama"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tt={"Открыть в полноэкранном режиме":"Открыть в полноэкранном режиме","Поиск по фрагменту картинки":"Поиск по фрагменту картинки"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uk={"Открыть в полноэкранном режиме":"Открыть в полноэкранном режиме","Поиск по фрагменту картинки":"Поиск по фрагменту картинки"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uz={"Открыть в полноэкранном режиме":"To‘liq ekran rejimida ochish","Поиск по фрагменту картинки":"Rasm bo‘lagi bo‘yicha qidirish"}},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(1),a=n(6),s=n(91);n(772);var c=n(278),u=a.default(c);t.CircleButtonTypeCbirCrop=i.withBemMod(s.cnCircleButton(),{type:"cbircrop"},function(e){return function(t){return o.createElement(e,r({},t,{title:u("Поиск по фрагменту картинки",{context:"Кнопка открытия режима поиска по фрагменту картинки в просмотрщике картинок"})}),t.children)}})},function(e,t,n){},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(1),a=n(276),s=n(91);t.CircleButtonWithTooltip=i.withBemMod(s.cnCircleButton(),{withTooltip:!0},function(e){return function(t){var n=o.useRef(null);return o.createElement(a.MMViewerButtonTooltip,{text:t.title,anchor:n,directions:["right-center"],mainOffset:7,hasTail:!0},function(i,a){var c=o.useCallback(function(e){a(),t.onClick&&t.onClick(e)},[a]);return o.createElement(e,r({},t,{className:s.cnCircleButton(null,[t.className]),forwardRef:n,onMouseEnter:i,onMouseOut:a,onClick:c}),t.children)})}})},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){e.exports=n(780)()},function(e,t,n){"use strict";var r=n(781);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"be",function(){return F}),n.d(r,"en",function(){return U}),n.d(r,"ky",function(){return z}),n.d(r,"kk",function(){return H}),n.d(r,"ru",function(){return q}),n.d(r,"tr",function(){return V}),n.d(r,"tt",function(){return G}),n.d(r,"uk",function(){return W}),n.d(r,"uz",function(){return Y});var o=n(2),i=n(0),a=n.n(i),s=n(6),c=n.n(s),u=n(1),l=n(4),d=n(60);var p=n(84),f=n(58),h="pointerdown",m="pointerup";Object(f.a)()&&(window.PointerEvent||(h="mousedown",m="mouseup",window.MouseEvent||(m="click")));var v=function(e){return function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.targetRef=Object(i.createRef)(),e.pointerDownEventSource=null,e.onPointerDown=function(t){e.pointerDownEventSource=t.target},e.onPointerUp=function(t){void 0===e.props.onOutsideClick||null===e.targetRef.current||e.targetRef.current.contains(e.pointerDownEventSource)||e.targetRef.current.contains(t.target)||e.props.onOutsideClick(t),e.pointerDownEventSource=null},e.onKeyDown=function(t){void 0!==e.props.onEscapeKeyDown&&Object(d.b)(t.keyCode,[d.a.ESC])&&e.props.onEscapeKeyDown(t)},e}var r;return Object(o.b)(n,t),n.prototype.componentDidMount=function(){this.forwardRefs(),this.props.visible&&this.subscribeToEvents()},n.prototype.componentWillUnmount=function(){this.unsubscribeFromEvents()},n.prototype.componentDidUpdate=function(e){this.forwardRefs(),!e.visible&&this.props.visible?this.subscribeToEvents():e.visible&&!this.props.visible&&this.unsubscribeFromEvents()},n.prototype.render=function(){var t=this.props,n=(t.onEscapeKeyDown,t.onOutsideClick,Object(o.d)(t,["onEscapeKeyDown","onOutsideClick"]));return a.a.createElement(e,Object(o.a)({},n,{targetRef:this.targetRef}))},n.prototype.forwardRefs=function(){Object(p.a)(this.targetRef,this.props.targetRef)},n.prototype.subscribeToEvents=function(){document.addEventListener(h,this.onPointerDown),document.addEventListener(m,this.onPointerUp),document.addEventListener("keydown",this.onKeyDown)},n.prototype.unsubscribeFromEvents=function(){document.removeEventListener(h,this.onPointerDown),document.removeEventListener(m,this.onPointerUp),document.removeEventListener("keydown",this.onKeyDown)},n.displayName="withOutsideClick("+((r=e).displayName||r.name||"Component")+")",n}(i.PureComponent)},g=n(57),y=(n(606),Object(u.withBemMod)(Object(g.b)(),{theme:"normal"})),b=function(e,t,n){return 0===e.indexOf(t)||n&&0===e.indexOf(n)},w=function(e,t){return e.indexOf("-"+t)>0},M={directions:["bottom-left","bottom-center","bottom-right","top-left","top-center","top-right","right-top","right-center","right-bottom","left-top","left-center","left-bottom"],mainOffset:0,secondaryOffset:0,tailOffset:0,viewportOffset:0,scope:{current:Object(f.a)()?document.body:null}},C=Object(u.withBemMod)(Object(g.b)(),{target:"anchor"},function(e){var t;return(t=function(t){function n(e){var n=t.call(this,e)||this;return n.state={direction:"bottom-left"},n.popupRef=Object(i.createRef)(),n.tailRef=Object(i.createRef)(),n.updateTimer=0,n.subscribeToEvents=function(){window.addEventListener("scroll",n.updateRefsPosition),window.addEventListener("resize",n.updateRefsPosition),document.addEventListener("documentchange",n.updateRefsPosition)},n.unsubscribeFromEvents=function(){window.removeEventListener("scroll",n.updateRefsPosition),window.removeEventListener("resize",n.updateRefsPosition),document.removeEventListener("documentchange",n.updateRefsPosition)},n.updateRefsPosition=function(){window.clearTimeout(n.updateTimer),n.updateTimer=window.setTimeout(function(){var e=n.props.directions,t=n.getDrawingParams(e),r=t.direction,o=t.popupPosition,i=t.tailPosition;n.state.direction!==r&&n.setState({direction:r}),null!==n.popupRef.current&&(n.popupRef.current.style.top=o.top+"px",n.popupRef.current.style.left=o.left+"px"),null!==n.tailRef.current&&(n.tailRef.current.style.top=i.top+"px",n.tailRef.current.style.left=i.left+"px")},0)},n.getPossibleDrawingParams=function(){var e=n.getAnchorDimensions(n.props.anchor),t=n.getViewportDimensions(),r=n.getOffsets();return n.props.directions.map(function(n){var o={direction:n,width:0,height:0,left:0,top:0};return b(n,"bottom")?(o.top=e.top+e.height+2*r.main,o.height=t.bottom-o.top-r.viewport):b(n,"top")?(o.height=e.top-t.top-r.main-r.viewport,o.top=e.top-o.height-r.main):(w(n,"center")?(o.height=t.bottom-t.top-2*r.viewport,o.top=e.top+(e.height-o.height)/2):w(n,"bottom")?(o.height=e.top+e.height-t.top-r.secondary-r.viewport,o.top=e.top+e.height-o.height-r.secondary):w(n,"top")&&(o.top=e.top+r.secondary,o.height=t.bottom-o.top-r.viewport),b(n,"left")?(o.width=e.left-t.left-r.main-r.viewport,o.left=e.left-o.width-r.main):(o.left=e.left+e.width+r.main,o.width=t.right-o.left-r.viewport)),w(n,"right")?(o.width=e.left+e.width-t.left-r.secondary-r.viewport,o.left=e.left+e.width-o.width-r.secondary):w(n,"left")?(o.left=e.left+r.secondary,o.width=t.right-o.left-r.viewport):w(n,"center")&&b(n,"top","bottom")&&(o.width=t.right-t.left-2*r.viewport,o.left=e.left+e.width/2-o.width/2),o})},console.assert(void 0!==e.anchor,'Для работы "withTargetAnchor" требуется наличие свойства "anchor".'),console.assert(0!==e.directions.length,'Для работы "withTargetAnchor" требуется наличие хотя бы одного направления для раскрытия.'),n}return Object(o.b)(n,t),n.prototype.componentDidMount=function(){this.forwardRefs(),this.props.visible&&this.updateRefsPosition(),this.shouldSubscribeToEvents()&&this.subscribeToEvents()},n.prototype.componentDidUpdate=function(e){this.forwardRefs(),e.visible===this.props.visible&&e.anchor===this.props.anchor||this.updateRefsPosition(),this.shouldSubscribeToEvents()?this.subscribeToEvents():this.unsubscribeFromEvents()},n.prototype.componentWillUnmount=function(){this.unsubscribeFromEvents()},n.prototype.render=function(){var t=this.props,n=(t.anchor,t.directions,t.mainOffset,t.motionless,t.secondaryOffset,t.tailOffset,t.target,t.viewportOffset,t.getPossibleDrawingParams),r=Object(o.d)(t,["anchor","directions","mainOffset","motionless","secondaryOffset","tailOffset","target","viewportOffset","getPossibleDrawingParams"]);return Object(f.a)()&&void 0!==n&&n(this.getPossibleDrawingParams()),a.a.createElement(e,Object(o.a)({},r,{direction:this.state.direction,innerRef:this.popupRef,tailRef:this.tailRef}))},n.prototype.forwardRefs=function(){Object(p.a)(this.popupRef,this.props.innerRef),Object(p.a)(this.tailRef,this.props.tailRef)},n.prototype.shouldSubscribeToEvents=function(){return this.props.visible&&this.props.directions.length>1&&!this.props.motionless},n.prototype.getDrawingParams=function(e){var t,n,r={direction:"bottom-left",popupPosition:{top:0,left:0},tailPosition:{top:0,left:0}},i=this.getPopupDimensions(this.popupRef),a=this.getAnchorDimensions(this.props.anchor),s=this.getViewportDimensions(),c=this.getScopeDimensions(this.props.scope),u=0;try{for(var l=Object(o.e)(e),d=l.next();!d.done;d=l.next()){var p=d.value,f=this.getPopupPosition(p,a,i),h=this.getViewportFactor(f,s,i);if((h>u||this.state.direction===p)&&(r.popupPosition={top:f.top-(c.top+window.pageYOffset),left:f.left-(c.left+window.pageXOffset)},r.direction=p,u=h),u>.99)break}}catch(e){t={error:e}}finally{try{d&&!d.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}return this.props.hasTail&&(r.tailPosition=this.getTailPosition(r.direction,a,i)),r},n.prototype.getPopupDimensions=function(e){var t={area:0,height:0,width:0,popupHeight:0,popupWidth:0};if(void 0!==e&&null!==e.current){var n=e.current,r=n.clientWidth,o=n.clientHeight,i=e.current.getBoundingClientRect(),a=i.width,s=i.height;t.area=r*o,t.height=Math.round(s),t.width=Math.round(a),t.popupHeight=o,t.popupWidth=r}return t},n.prototype.getAnchorDimensions=function(e){var t={left:0,top:0,height:0,width:0},n=e&&e.current,r=n&&n.offsetParent;if(n&&r){var o=r.getBoundingClientRect(),i=o.left,a=o.top;t.left=i+n.offsetLeft+window.pageXOffset,t.top=a+n.offsetTop+window.pageYOffset,t.height=n.offsetHeight,t.width=n.offsetWidth}return t},n.prototype.getTailDimensions=function(){var e={size:0};return void 0!==this.props.tailSize&&(e.size=this.props.tailSize),null!==this.tailRef.current&&(e.size=this.tailRef.current.offsetWidth),e},n.prototype.getViewportDimensions=function(){return{top:window.pageYOffset,left:window.pageXOffset,bottom:window.pageYOffset+window.innerHeight,right:window.pageXOffset+window.innerWidth}},n.prototype.getScopeDimensions=function(e){var t={top:0,left:0};if(void 0!==e&&null!==e.current){var n=e.current.getBoundingClientRect(),r=n.left,o=n.top;t.top=o,t.left=r}return t},n.prototype.getPopupPosition=function(e,t,n){var r={left:0,top:0},o=this.getOffsets();return b(e,"bottom")?r.top=t.top+t.height+o.main:b(e,"top")?r.top=t.top-n.height-o.main:b(e,"left")?r.left=t.left-n.width-o.main:b(e,"right")&&(r.left=t.left+t.width+o.main),w(e,"right")?r.left=t.left+t.width-n.width-o.secondary:w(e,"left")?r.left=t.left+o.secondary:w(e,"bottom")?r.top=t.top+t.height-n.height-o.secondary:w(e,"top")?r.top=t.top+o.secondary:w(e,"center")&&(b(e,"top","bottom")?r.left=t.left+t.width/2-n.width/2:b(e,"left","right")&&(r.top=t.top+t.height/2-n.height/2)),r},n.prototype.getTailPosition=function(e,t,n){var r={left:0,top:0},o=this.getTailDimensions().size/2,i=this.getOffsets();return b(e,"bottom")?r.top=-o:b(e,"top")?r.top=Math.floor(n.popupHeight-o):b(e,"left")?r.left=Math.floor(n.popupWidth-o):b(e,"right")&&(r.left=-o),w(e,"right")?r.left=n.popupWidth-Math.ceil(Math.min(n.popupWidth,t.width)/2)-o-i.tail:w(e,"left")?r.left=Math.ceil(Math.min(n.popupWidth,t.width)/2)-o+i.tail:w(e,"bottom")?r.top=n.popupHeight-Math.ceil(Math.min(n.popupHeight,t.height)/2)-o-i.tail:w(e,"top")?r.top=Math.ceil(Math.min(n.popupHeight,t.height)/2)-o+i.tail:w(e,"center")&&(b(e,"top","bottom")?r.left=Math.ceil(n.popupWidth/2)-o+i.tail:r.top=Math.ceil(n.popupHeight/2)-o+i.tail),r},n.prototype.getOffsets=function(){var e=this.props,t=e.mainOffset,n=e.secondaryOffset,r=e.tailOffset,o=e.viewportOffset,i=this.getTailDimensions();return{main:t>=0&&i.size>0?Math.max(t,Math.round(i.size*Math.SQRT1_2)):t,secondary:n,tail:r,viewport:o}},n.prototype.getViewportFactor=function(e,t,n){var r=0,o=this.getOffsets(),i=Math.max(e.left,t.left+o.viewport),a=Math.min(e.left+n.width,t.right-o.viewport),s=Math.max(e.top,t.top+o.viewport),c=Math.min(e.top+n.height,t.bottom-o.viewport);return i<a&&s<c&&(r=(a-i)*(c-s)/n.area),r},n}(i.PureComponent)).defaultProps=M,t}),S=n(3),O=(n(603),new S.Registry({id:Object(g.b)()}));O.set("Tail",function(e){var t=e.className,n=e.innerRef,r=Object(o.d)(e,["className","innerRef"]);return a.a.createElement("div",Object(o.a)({},r,{className:Object(g.b)("Tail",null,[t]),ref:n}))});var _=Object(S.withRegistry)(O)(g.a),P=n(97),I=(n(607),Object(u.withBemMod)(Object(P.b)(),{theme:"strong"},function(e){return function(t){t.theme;var n=Object(o.d)(t,["theme"]);return a.a.createElement(e,Object(o.a)({},n))}})),E=(n(608),n(789)),k=n(151),D=(n(610),Object(u.withBemMod)(Object(k.b)(),{view:"default"})),j=(n(611),Object(u.withBemMod)(Object(k.b)(),{size:"xxs"})),T=n(74),x=(n(615),Object(u.withBemMod)(Object(T.b)(),{theme:"clear"})),R=(n(616),n(617),Object(u.withBemMod)(Object(T.b)(),{theme:"action"})),N=(n(618),n(619),Object(u.withBemMod)(Object(T.b)(),{size:"m"})),L=Object(u.withBemMod)(Object(T.b)(),{type:"link"},function(e){return function(t){t.type;var n=t.target,r=t.rel,i=t.url,s=t.disabled,c=t.tabIndex,u=Object(o.d)(t,["type","target","rel","url","disabled","tabIndex"]),l=r;return"_blank"===n&&void 0!==r&&-1===r.indexOf("noopener")&&(l=r+" noopener"),a.a.createElement(e,Object(o.a)({},u,{rel:l,target:n,disabled:s,pressKeys:[d.a.ENTER],href:s?void 0:i,tabIndex:s?-1:c,type:null,autoComplete:null,as:"a"}))}}),B=(n(286),n(620),n(601),Object(u.withBemMod)(Object(g.b)(),{view:"tooltip"})),A=(n(604),Object(u.withBemMod)(Object(g.b)(),{tone:"blue"})),F={"Добавлено в":"Дададзена ў","Войдите, чтобы добавить в другую коллекцию":"Увайдзіце, каб дадаць у іншую калекцыю","Войти и изменить":"Увайсці і змяніць","Добавляем в коллекцию...":"Дадаем у калекцыю...","Изменить":"Змяніць","Не сейчас":"Не зараз","Не удалось добавить в коллекцию":"Не атрымалася дадаць у калекцыю","Перейти":"Перайсці"},U={"Добавлено в":"Added to","Войдите, чтобы добавить в другую коллекцию":"Log in to add it to another collection","Войти и изменить":"Log in and change","Добавляем в коллекцию...":"Adding to the collection...","Изменить":"Change","Не сейчас":"Not now","Не удалось добавить в коллекцию":"Unable to add to the collection","Перейти":"Go"},z={"Добавлено в":"","Войдите, чтобы добавить в другую коллекцию":"","Войти и изменить":"","Добавляем в коллекцию...":"","Изменить":"","Не сейчас":"","Не удалось добавить в коллекцию":"","Перейти":""},H={"Добавлено в":"қосылды","Войдите, чтобы добавить в другую коллекцию":"Басқа топтамаға қосу үшін кіріңіз","Войти и изменить":"Кіру және өзгерту","Добавляем в коллекцию...":"Топтамаға қосып жатырмыз...","Изменить":"Өзгерту","Не сейчас":"Қазір емес","Не удалось добавить в коллекцию":"Топтамаға қосылмады","Перейти":"Өту"},q={"Добавлено в":"Добавлено в","Войдите, чтобы добавить в другую коллекцию":"Войдите, чтобы добавить в другую коллекцию","Войти и изменить":"Войти и изменить","Добавляем в коллекцию...":"Добавляем в коллекцию...","Изменить":"Изменить","Не сейчас":"Не сейчас","Не удалось добавить в коллекцию":"Не удалось добавить в коллекцию","Перейти":"Перейти"},V={"Добавлено в":"Buraya eklendi:","Войдите, чтобы добавить в другую коллекцию":"Başka koleksiyona eklemek için giriş yapın","Войти и изменить":"Giriş yap ve değiştir","Добавляем в коллекцию...":"Koleksiyona ekleniyor...","Изменить":"Değiştir","Не сейчас":"Şimdi değil","Не удалось добавить в коллекцию":"Koleksiyona eklenemedi","Перейти":"Git"},G={"Добавлено в":"Добавлено в","Войдите, чтобы добавить в другую коллекцию":"Войдите, чтобы добавить в другую коллекцию","Войти и изменить":"Войти и изменить","Добавляем в коллекцию...":"Добавляем в коллекцию...","Изменить":"Изменить","Не сейчас":"Не сейчас","Не удалось добавить в коллекцию":"Не удалось добавить в коллекцию","Перейти":"Перейти"},W={"Добавлено в":"Добавлено в","Войдите, чтобы добавить в другую коллекцию":"Увійдіть, щоб додати до іншої колекції","Войти и изменить":"Увійти та змінити","Добавляем в коллекцию...":"Додаємо до колекції...","Изменить":"Змінити","Не сейчас":"Не зараз","Не удалось добавить в коллекцию":"Не вдалося додати до колекції","Перейти":"Перейти"},Y={"Добавлено в":"Quyidagiga qo‘shish","Войдите, чтобы добавить в другую коллекцию":"Boshqa to‘plamni qo‘shish uchun kiring","Войти и изменить":"Kirish va o‘zgartirish","Добавляем в коллекцию...":"To‘plamga qo‘shmoqdamiz...","Изменить":"O‘zgartirish","Не сейчас":"Hozir emas","Не удалось добавить в коллекцию":"To‘plamga qo‘shib bo‘lmadi","Перейти":"O‘tish"},K=(n(605),c()(r)),X=Object(u.compose)(v,B,y,C,Object(u.composeU)(A))(_),Q=Object(u.compose)(I)(E.a),Z=Object(u.compose)(D,j)(k.a),J=Object(u.compose)(Object(u.composeU)(x,R),N,L)(T.a),$=Object(l.cn)("FavoritesPopup"),ee=function(){return a.a.createElement("div",{className:$("Description")},a.a.createElement("div",{className:$("Progress")},a.a.createElement(Z,{className:$("Spin"),progress:!0,view:"default",size:"xxs"}),K("Добавляем в коллекцию...")))},te=function(e){var t=e.onEditButtonClick,n=e.onLinkClick,r=e.board;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:$("Description")},a.a.createElement("div",{className:$("Message")},K("Добавлено в")," ",a.a.createElement(Q,{theme:"strong",onClick:n,href:r&&r.url,className:$("CollectionName")},r&&r.title))),a.a.createElement("div",{className:$("Buttons")},a.a.createElement(J,{className:$("Button",{theme:"clear"}),size:"m",theme:"clear",onClick:t},K("Изменить")),a.a.createElement(J,{className:$("Button",{theme:"action"}),size:"m",theme:"action",type:"link",url:r&&r.url,target:"_blank"},K("Перейти"))))},ne=function(e){var t=e.onOutsideClick,n=e.board,r=e.onLinkClick,o=e.loginUrl;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:$("Description")},a.a.createElement("div",{className:$("Message")},K("Добавлено в")," ",a.a.createElement(Q,{theme:"strong",onClick:r,href:n&&n.url,className:$("CollectionName")},n&&n.title)),a.a.createElement("div",{className:$("SubMessage")},K("Войдите, чтобы добавить в другую коллекцию"))),a.a.createElement("div",{className:$("Buttons")},a.a.createElement(J,{className:$("Button",{theme:"clear"}),size:"m",theme:"clear",onClick:t},K("Не сейчас")),a.a.createElement(J,{className:$("Button",{theme:"action"}),size:"m",theme:"action",type:"link",url:o},K("Войти и изменить"))))},re=function(){return a.a.createElement("div",{className:$("Description")},a.a.createElement("div",{className:$("ErrorMessage")},K("Не удалось добавить в коллекцию")))},oe=function(e){var t=e.anchor,n=e.scope,r=e.onOutsideClick,o=e.status,s=e.loggedIn,c=e.onClickEdit,u=e.board,l=e.counter,d=e.tone,p=e.loginUrl,f=e.mainOffset,h=e.zIndex,m=e.className,v=function(){l.send("1352.1382.2052.486","73362","-type=cross")},g=Object(i.useRef)(o);return"hidden"!==o&&(g.current=o),a.a.createElement(X,{className:$({tone:d},[m]),visible:"hidden"!==o,anchor:t,scope:n,onOutsideClick:r,target:"anchor",directions:["bottom-center","bottom-left","bottom-right"],theme:"normal",tone:d,view:"tooltip",zIndex:void 0===h?110001:h,mainOffset:f,hasTail:!0},a.a.createElement("div",{className:$("Close"),title:"Закрыть",onClick:function(){r(),l.send("1352.1382.2052.486","73362","-type=cross")}}),"progress"===g.current?a.a.createElement(ee,null):null,"saved"!==g.current||s?null:a.a.createElement(ne,{onOutsideClick:r,onLinkClick:v,loginUrl:p,board:u}),"saved"===g.current&&s?a.a.createElement(te,{onEditButtonClick:function(){c(),l.send("1352.1382.2052.2818","73320")},onLinkClick:v,board:u}):null,"error"===o?a.a.createElement(re,null):null)},ie=(n(623),Object(l.cn)("Modal")),ae=function(e){var t=e.children,n=e.className,r=e.contentVerticalAlign,i=e.hasAnimation,s=void 0===i||i,c=e.targetRef,u=e.visible,l=Object(o.d)(e,["children","className","contentVerticalAlign","hasAnimation","targetRef","visible"]),d=Object(S.useComponentRegistry)(ie()).Popup;return a.a.createElement(d,Object(o.a)({},l,{className:ie({visible:u,hasAnimation:s},[n]),visible:u}),a.a.createElement("div",{className:ie("Table")},a.a.createElement("div",{className:ie("Cell"),style:{verticalAlign:r}},a.a.createElement("div",{className:ie("Content"),ref:c},t))))};ae.displayName=ie();n(624);var se=Object(u.withBemMod)(ie(),{theme:"normal"}),ce=(n(625),new S.Registry({id:ie()}));ce.set("Popup",_);var ue,le=Object(S.withRegistry)(ce)(ae),de=(n(626),Object(u.withBemMod)(Object(k.b)(),{size:"m"})),pe=(n(621),n(622)),fe=Object(u.compose)(se,v)(le),he=Object(u.compose)(D,de)(k.a),me=Object(l.cn)("FavoritesIframe"),ve=function(e){function t(t){var n=e.call(this,t)||this;return n.container=a.a.createRef(),n.win=window,n.state={saved:!1,cardData:void 0},n.loadIframeFirstTime=n.loadIframeFirstTime.bind(n),n.loadIframe=n.loadIframe.bind(n),n.onIframeLoad=n.onIframeLoad.bind(n),n.getLoaderUrl=n.getLoaderUrl.bind(n),n.getIframeUrl=n.getIframeUrl.bind(n),n.getRPCBridge=n.getRPCBridge.bind(n),n.modalClose=n.modalClose.bind(n),n}return o.b(t,e),t.prototype.componentDidUpdate=function(e){this.props.status!==e.status&&"load"===this.props.status&&(this.setState({saved:!1,cardData:void 0}),this.loadIframeFirstTime())},t.prototype.loadIframeFirstTime=function(e){if((this.currentIframeUrl&&e&&this.currentIframeUrl!==e||!e&&this.currentIframeUrl!==this.getIframeUrl())&&this.removeIfame(),void 0!==this.rpcBridge)return this.ready();this.loadIframe(e)},t.prototype.removeIfame=function(){this.rpcBridge&&(this.rpcBridge.clean(),this.rpcBridge=void 0,this.currentIframeUrl=void 0)},t.prototype.loadIframe=function(e){var t=this;this.setState({iframeUrl:e||this.getIframeUrl()},function(){t.currentIframeUrl=t.state.iframeUrl,t.rpcBridge=t.getRPCBridge(),t.rpcBridge.pushMessagesToStack=!0})},t.prototype.getRPCBridge=function(){return this.rpcBridge?this.rpcBridge:new pe(this,{url:this.state.iframeUrl})},t.prototype.onIframeLoad=function(e){if(e&&e.target&&this.rpcBridge){var t=e.target;this.rpcBridge.contrAgent.win=t.contentWindow,this.rpcBridge.onIframeLoad()}},t.prototype.getLoaderUrl=function(){var e=this.props,t=e.loaderUrl,n=e.baseUrl,r=e.loaderVersion;return t||n+"/iframe-loader/'"+r+"/index.min.js"},t.prototype.getIframeUrl=function(){var e=this.props,t=e.source_type,n=e.iframeOrigin,r=void 0===n?location.origin:n,o=e.iframePath;return(this.state.iframeUrl||r+o)+(t?"&source_type="+t:"")},t.prototype.ready=function(){this.addCard(),this.props.readyIframe()},t.prototype.close=function(e){this.cardSaved(e,this.modalClose)},t.prototype.cardSaved=function(e,t){void 0===t&&(t=function(){}),e&&e.card&&e.card.board?this.setState({saved:!0,cardData:e},t):this.setState({saved:!1,cardData:void 0},t)},t.prototype.addCard=function(){this.props.card&&this.props.card.task_id?this.props.counter.send("1352.1544.487.2818","73311"):this.props.counter.send("1352.1544.487.160","73310"),void 0!==this.rpcBridge&&this.rpcBridge.invokeMethod("pdb-add-card",{card:this.props.card,sourceName:this.props.sourceName})},t.prototype.modalClose=function(){var e=this.state,t=e.cardData,n=e.saved;this.props.onOutsideClick(),n||(this.props.closeIframe({eventName:"closed"}),this.props.counter.send("1352.1544.486.3177","73319")),n&&t&&t.card&&this.props.closeIframe({eventName:"saved",card:t.card})},t.prototype.render=function(){var e=this.props,t=e.status,n=e.zIndex,r=this.state.iframeUrl,o={display:"block",width:"100%",height:"100%",zIndex:n,border:0,transform:"translate3d(0px, 0px, 0px)"};return a.a.createElement(fe,{targetRef:this.container,className:me({theme:"normal"}),visible:"hidden"!==t,onOutsideClick:this.modalClose,theme:"normal",zIndex:n},"load"===t?a.a.createElement(he,{progress:!0,view:"default",size:"m"}):null,r?a.a.createElement("div",{className:me("Content")},a.a.createElement("iframe",{src:r,style:o,onWheel:function(){},onLoad:this.onIframeLoad,"aria-hidden":!0})):null)},t.defaultProps={zIndex:110002,baseUrl:"https://yandex.ru/images/_crpd/hmiK30s10/3a2294DBBNSc/f1sZgUG29fpaWiHswyxKFuPk8-bYD723Uemj9SQAChsk_2bgzJ3A",loaderVersion:"v0.0.3",iframePath:"/collections/add/?bus=2"},t}(a.a.Component),ge=n(103);try{ue=n(627).version}catch(e){ue="storybook"}var ye=function(){function e(){this.cache={},this.cacheBoardTypes={}}return e.getInstance=function(){if(!ge.a)throw new Error("Нельзя иметь инстанс FavoritesController на сервере");return this.instance||(this.instance=new e),this.instance},e.prototype.createCard=function(e,t,n,r){var i=this,a=!1;if(!e||!e.doc_id)return new Promise(function(t){t({eventName:"saved",card:o.a({},e,{failed:!0})})});if("undefined"!==typeof t&&(a=!t),n[e.content[0].source_type]||a){var s=o.a({},e,{board:n&&n[e.content[0].source_type]});return this.favoritesRequest("POST",s,void 0,r).then(function(t){return i.favoritesRequestSuccess("create",e.doc_id,t.task_id),t}).then(function(t){return i.favoritesRequestFinally("create",e.doc_id,e,t)})}return new Promise(function(t){t({eventName:"iframe",card:e,fav:!0})})},e.prototype.addCard=function(e,t,n,r){var i=this,a=o.a({},t);return a.board=n,this.favoritesRequest("POST",a,void 0,r).then(function(t){return i.favoritesRequestSuccess("create",e,t.task_id),t}).then(function(n){return i.favoritesRequestFinally("create",e,t,n)})},e.prototype.removeCard=function(e,t,n,r){var o=this,i=this.getCache(e),a=i?i.card_id:void 0;return!a&&t&&t.card_id&&(a=t.card_id),a?this.favoritesRequest("DELETE",{},a,r).then(function(t){return o.favoritesRequestSuccess("remove",e,t.task_id),t}).then(function(n){return o.favoritesRequestFinally("remove",e,t,n)}):this.oldRemoveCard(e,t,n)},e.prototype.oldRemoveCard=function(e,t,n){var r=this,i=o.a({},t);if(n&&n.byTaskId){var a=this.getCache(e);i.task_id=a&&a.task_id}return fetch("/collections/api/favorites/cards/",{credentials:"same-origin",method:"DELETE",headers:{contentType:"application/json"},body:JSON.stringify(i)}).then(function(e){return e.json()}).then(function(t){return r.favoritesRequestSuccess("remove",e,t.task_id),t}).then(function(n){return r.favoritesRequestFinally("remove",e,t,n)})},e.prototype.moveCollectionsCard=function(e,t,n){var r=this;if(t&&e.card_id)return this.favoritesRequest("PATCH",{board_id:t},e.card_id,n).then(function(t){return r.favoritesRequestSuccess("move",e.item_id,t.task_id),t}).then(function(t){return r.favoritesRequestFinally("move",e.item_id,e,t)})},e.prototype.favoritesRequest=function(e,t,n,r){var o="/collections/api/v1.0/cards"+(n?"/"+n:"")+"?source_name="+(r||"serp-components")+"&source_version="+ue+"&ui=common";return this.getCrf().then(function(n){return fetch(o,{credentials:"same-origin",method:e,headers:{"Content-Type":"application/json","x-csrftoken":n["csrf-token"]},body:JSON.stringify(t)}).then(function(e){return e.json()})})},e.prototype.favoritesRequestSuccess=function(e,t,n){"create"===e&&this.setCache(t,{task_id:n})},e.prototype.favoritesRequestFinally=function(e,t,n,r){var i="create"===e||"move"===e?"saved":"removed",a=Boolean(r&&r.id);return r?("remove"!==e?this.setCache(t,{card_id:r.id,isSaved:a||this.hasCollectionCard(t)}):this.setCache(t,{isSaved:!1}),{eventName:i,card:o.a({},n,{id:r.id,item_id:t,failed:!a,card_id:r.id,task_id:r.task_id,board:r.board})}):{eventName:i,card:o.a({},n,{failed:!0})}},e.prototype.getCrf=function(){var e=this,t=this.crfToken&&this.crfToken.expires;return t&&1e3*Number(new Date(Number(t)))>Number(new Date)?new Promise(function(t){t(e.crfToken)}):fetch("/collections/api/v1.0/csrf-token",{credentials:"same-origin",method:"get",headers:{contentType:"application/json"}}).then(function(e){return e.json()}).then(function(t){return e.crfToken=t,t})},e.prototype.getCache=function(e){return this.cache[e]||null},e.prototype.setCache=function(e,t,n){var r=this.cache[e]||{},o=this.cacheBoardTypes||{};for(var i in t)t.hasOwnProperty(i)&&(r[i]=t[i]);n&&(o[n.sourceType]=n.boardId),this.cache[e]=r,this.cacheBoardTypes=o},e.prototype.hasCachedState=function(e){var t=this.getCache(e);return Boolean(t)&&"isSaved"in t},e.prototype.hasCollectionCard=function(e){var t=this.getCache(e);return Boolean(t&&t.isSaved)},e}(),be=function(){function e(e){var t=e.logged,n=e.counterParams,r=void 0===n?{}:n;this.logged=t,this.params=r}return e.prototype.send=function(e,t,n){var r=(this.logged?"-authorized=1":"-authorized=0")+(n?","+n:"");this.counter(e,r,t,this.params)},e.prototype.counter=function(e,t,n,r){r=r||{};var o=["reqid","yuid","serpid","service","ui"].reduce(function(e,t){return e+(r[t]?"/"+t+"="+r[t]:"")},""),i=document&&document.location&&document.location.host&&document.location.host.match(/^.*(\..+)$/),a="//yandex"+(i&&i[1]||".ru")+"/clck/click/pid=902/cid="+n+"/dtype=stred"+(e?"/path="+e:"")+(t?"/vars="+t:"")+o+"/cts="+(new Date).getTime()+"/*"+document.location.href;document.createElement("IMG").setAttribute("src",a)},e}(),we=function(e){function t(t){var n=e.call(this,t)||this;return n.addRef=a.a.createRef(),n.gotoRef=a.a.createRef(),n.state={isSaved:!1,statusPopup:"hidden",statusIframe:"hidden",cacheBoard:{}},n.counter=new be({logged:t.loggedIn,counterParams:t.counterParams}),n.onClickAdd=n.onClickAdd.bind(n),n.onClickEdit=n.onClickEdit.bind(n),n.showProgressPopup=n.showProgressPopup.bind(n),n.hidePopup=n.hidePopup.bind(n),n.hideIframe=n.hideIframe.bind(n),n.loadIframe=n.loadIframe.bind(n),n.readyIframe=n.readyIframe.bind(n),n.closeIframe=n.closeIframe.bind(n),n}return o.b(t,e),t.prototype.componentDidMount=function(){this.controller=ye.getInstance(),this.updateItemCachedState()},t.prototype.componentDidUpdate=function(e){e.card.doc_id!==this.props.card.doc_id&&(this.hidePopup(),this.hideIframe(),this.updateItemCachedState())},t.prototype.updateItemCachedState=function(){var e=this.controller.hasCachedState(this.props.card.doc_id);this.state.isSaved!==e&&this.setState({isSaved:e})},t.prototype.onClickAdd=function(){var e=this;this.showProgressPopup(),this.controller.createCard(this.props.card,this.props.loggedIn,this.state.cacheBoard,this.props.sourceName).then(function(t){"saved"===t.eventName&&e.handlerFavoritesSaved(t),"iframe"===t.eventName&&e.loadIframe(t)})},t.prototype.onClickEdit=function(){this.state.card&&this.loadIframe({card:this.state.card,fav:!0})},t.prototype.showProgressPopup=function(){this.setState({statusPopup:"progress"})},t.prototype.hidePopup=function(){this.setState({statusPopup:"hidden"})},t.prototype.hideIframe=function(){this.setState({statusIframe:"hidden"})},t.prototype.loadIframe=function(e){this.setState({statusIframe:"load",card:e.card})},t.prototype.readyIframe=function(){this.setState({statusIframe:"ready",statusPopup:"hidden"})},t.prototype.closeIframe=function(e){if(this.setState({statusIframe:"hidden"}),"saved"===e.eventName){if(e.card&&e.card.id){var t=e.card.doc_id,n=e.card.id;this.controller.setCache(t,{card_id:n,isSaved:!0})}this.handlerFavoritesSaved(e)}},t.prototype.handlerFavoritesSaved=function(e){if(e&&e.card&&e.card.failed)this.setState({statusPopup:"error",card:void 0});else{var t=this.state.cacheBoard;e.card&&e.card.board&&e.card.content[0].source_type&&e.card.board.id&&(t[e.card.content[0].source_type]=e.card.board.id),this.setState({statusPopup:"saved",isSaved:!0,card:e.card,cacheBoard:t}),this.counter.send("1352.1382.2052","73312")}},t.prototype.render=function(){var e=this.props,t=e.goTo,n=e.add,r=e.isFavorite,o=e.loggedIn,i=e.tone,s=e.loginUrl,c=e.scope,u=e.popupMainOffset,l=e.popupClassName,d=e.popupZIndex,p=this.state,f=p.isSaved,h=p.statusPopup,m=p.statusIframe,v=p.card,g=r||f,y=g?t({innerRef:this.gotoRef}):n({onClick:this.onClickAdd,innerRef:this.addRef});return a.a.createElement(a.a.Fragment,null,y,a.a.createElement(oe,{className:l,anchor:g?this.gotoRef:this.addRef,scope:c,status:h,loggedIn:o,tone:i,loginUrl:s,board:v&&v.board,counter:this.counter,onClickEdit:this.onClickEdit,onOutsideClick:this.hidePopup,mainOffset:u,zIndex:d}),a.a.createElement(ve,{status:m,card:v,sourceName:this.props.sourceName,counter:this.counter,readyIframe:this.readyIframe,closeIframe:this.closeIframe,onOutsideClick:this.hideIframe}))},t}(a.a.Component);n.d(t,"Favorites",function(){return we})},function(e,t,n){"use strict";n.r(t);var r=n(2),o=n(0),i=n.n(o),a=n(1),s=n(3),c=n(75);var u=n(4);var l=Object(u.cn)("Textinput"),d=function(e){var t=e.addonAfter,n=e.addonBefore,o=e.className,a=e.disabled,c=e.focused,u=e.iconLeft,d=e.iconRight,p=e.innerRef,f=e.onMouseEnter,h=e.onMouseLeave,m=e.style,v=(e.pressed,r.d(e,["addonAfter","addonBefore","className","disabled","focused","iconLeft","iconRight","innerRef","onMouseEnter","onMouseLeave","style","pressed"])),g=Object(s.useComponentRegistry)(l()),y=g.Control,b=g.Box,w=g.Icon;return i.a.createElement("span",{className:l({disabled:a,focused:c,iconRight:void 0!==d},[o]),onMouseEnter:f,onMouseLeave:h,ref:p,style:m},n,u&&i.a.createElement(w,{side:"left",component:u}),d&&i.a.createElement(w,{side:"right",component:d}),i.a.createElement(y,r.a({},v,{disabled:a})),i.a.createElement(b,null),t)};d.displayName=l();var p,f=(p=d,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={focused:t.props.focused,pressed:t.props.pressed,disabled:t.props.disabled},t.onMouseDown=function(e){3!==e.nativeEvent.which&&(t.setState({pressed:!0}),t.docOnMouseDown(),void 0!==t.props.onMouseDown&&t.props.onMouseDown(e))},t.onMouseUp=function(e){t.setState({pressed:!1}),void 0!==t.props.onMouseUp&&t.props.onMouseUp(e)},t.docOnMouseDown=function(){document.addEventListener("mouseup",t.docOnMouseUp),document.addEventListener("dragend",t.docOnMouseUp)},t.docOnMouseUp=function(){t.setState({pressed:!1}),document.removeEventListener("mouseup",t.docOnMouseUp),document.removeEventListener("dragend",t.docOnMouseUp)},t.onFocus=function(e){t.setState({focused:!0}),void 0!==t.props.onFocus&&t.props.onFocus(e)},t.onBlur=function(e){t.setState({focused:!1}),void 0!==t.props.onBlur&&t.props.onBlur(e)},t}return r.b(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.props.disabled!==e.disabled&&this.setState({disabled:e.disabled}),this.props.focused!==e.focused&&this.setState({focused:e.focused}),this.props.pressed!==e.pressed&&this.setState({pressed:e.pressed}),e.disabled&&this.setState({focused:!1,pressed:!1})},t.prototype.render=function(){var e=this.state,t=e.disabled,n=e.focused,o=e.pressed,a=p;return i.a.createElement(a,r.a({},this.props,{focused:t?void 0:n,pressed:t?void 0:o,onMouseDown:t?void 0:this.onMouseDown,onMouseUp:t?void 0:this.onMouseUp,onFocus:t?void 0:this.onFocus,onBlur:t?void 0:this.onBlur}))},t.displayName="WithControl("+Object(c.a)(p)+")",t}(o.PureComponent)),h=(n(689),n(690),n(691),n(692),n(693),new s.Registry({id:l()}));h.set("Control",function(e){var t=e.autoComplete,n=void 0===t?"off":t,o=e.className,a=e.controlRef,s=r.d(e,["autoComplete","className","controlRef"]);return i.a.createElement("input",r.a({},s,{ref:a,className:l("Control",null,[o]),autoComplete:n}))}).set("Box",function(e){var t=e.className,n=r.d(e,["className"]);return i.a.createElement("span",r.a({},n,{className:l("Box",null,[t])}))}).set("Icon",function(e){var t=e.component,n=e.side,i=r.d(e,["component","side"]);return Object(o.cloneElement)(t,r.a({},i,{className:l("Icon",{side:n},[t.props.className])}))});var m=Object(a.compose)(Object(s.withRegistry)(h),function(e){return function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={disabled:e.props.disabled,hovered:e.props.hovered},e.onMouseEnter=function(t){e.setState({hovered:!0}),void 0!==e.props.onMouseEnter&&e.props.onMouseEnter(t)},e.onMouseLeave=function(t){e.setState({hovered:!1}),void 0!==e.props.onMouseLeave&&e.props.onMouseLeave(t)},e}return r.b(n,t),n.prototype.UNSAFE_componentWillReceiveProps=function(e){this.setState({hovered:!e.disabled&&(this.state.hovered||e.hovered)})},n.prototype.render=function(){var t=this.state,n=t.disabled,o=t.hovered,a=e;return i.a.createElement(a,r.a({},this.props,{hovered:n?void 0:o,onMouseEnter:n?void 0:this.onMouseEnter,onMouseLeave:n?void 0:this.onMouseLeave}))},n.displayName="WithControl@desktop("+Object(c.a)(e)+")",n}(o.PureComponent)},function(e){var t;return(t=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.controlRef=Object(o.createRef)(),e}return r.b(n,t),n.prototype.componentDidMount=function(){void 0!==this.props.controlRef&&(this.props.controlRef.current=this.controlRef.current)},n.prototype.componentDidUpdate=function(e){null!==this.controlRef.current&&this.props.focused!==e.focused&&(this.props.focused?this.controlRef.current.focus():this.controlRef.current.blur())},n.prototype.render=function(){return i.a.createElement(e,r.a({},this.props,{controlRef:this.controlRef}))},n}(o.PureComponent)).displayName="withAutoFocus("+Object(c.a)(e)+")",t})(function(e){var t=e.className,n=e.hovered,o=r.d(e,["className","hovered"]);return i.a.createElement(f,r.a({},o,{className:l({hovered:n},[t])}))}),v=(n(694),Object(a.withBemMod)(l(),{baseline:!0})),g=n(83),y=n(287),b=n(288),w=n(289),M=(n(699),Object(a.compose)(w.a,Object(a.composeU)(y.a,b.a))(g.a));h.set("Clear",function(e){var t=e.visible,n=e.className,o=e.theme,a=e.view,c=r.d(e,["visible","className","theme","view"]),u=Object(s.useComponentRegistry)(l()).Icon;return i.a.createElement(u,r.a({},c,{component:i.a.createElement(M,r.a({},function(e,t){return"default"===t?{glyph:"x-sign"}:"websearch"===e?{type:"cross-websearch"}:{type:"cross"}}(o,a),{className:l("Clear",{visible:t},[n])}))}))});var C=Object(a.withBemMod)(l(),{hasClear:!0},function(e){return function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.controlRef=Object(o.createRef)(),e.onMouseDown=function(e){e.preventDefault()},e.onClick=function(t){if(null!==e.controlRef.current&&!t.isDefaultPrevented()&&(e.controlRef.current.focus(),void 0!==e.props.onChange)){var n=e.controlRef.current.value,r=Object.create(t);r.target=e.controlRef.current,r.currentTarget=e.controlRef.current,e.controlRef.current.value="",e.props.onChange(r),e.controlRef.current.value=n}void 0!==e.props.onClearClick&&e.props.onClearClick(t)},e}return r.b(n,t),n.prototype.componentDidMount=function(){void 0!==this.props.controlRef&&(this.props.controlRef.current=this.controlRef.current)},n.prototype.render=function(){var t=this,n=this.props,o=n.addonBefore,a=(n.onClearClick,n.hasClear,r.d(n,["addonBefore","onClearClick","hasClear"]));return i.a.createElement(s.ComponentRegistryConsumer,{id:l()},function(n){var s=n.Clear;return i.a.createElement(e,r.a({},a,{controlRef:t.controlRef,addonBefore:i.a.createElement(i.a.Fragment,null,i.a.createElement(s,{onClick:t.onClick,onMouseDown:t.onMouseDown,size:t.props.size,theme:t.props.theme,view:t.props.view,visible:Boolean(t.props.value)}),o)}))})},n}(o.PureComponent)}),S=Object(a.compose)(Object(s.withRegistry)(h),C),O=(n(82),n(700),Object(a.withBemMod)(l(),{pin:"brick-brick"})),_=(n(701),Object(a.withBemMod)(l(),{pin:"brick-clear"})),P=(n(702),Object(a.withBemMod)(l(),{pin:"brick-round"})),I=(n(703),Object(a.withBemMod)(l(),{pin:"clear-brick"})),E=(n(704),Object(a.withBemMod)(l(),{pin:"clear-clear"})),k=(n(705),Object(a.withBemMod)(l(),{pin:"clear-round"})),D=(n(706),Object(a.withBemMod)(l(),{pin:"round-brick"})),j=(n(707),Object(a.withBemMod)(l(),{pin:"round-clear"})),T=Object(a.withBemMod)(l(),{pin:"round-round"}),x=(n(708),Object(a.withBemMod)(l(),{size:"m"})),R=(n(709),Object(a.withBemMod)(l(),{size:"n"})),N=(n(710),Object(a.withBemMod)(l(),{size:"s"})),L=(n(711),Object(a.withBemMod)(l(),{size:"xs"})),B=(n(712),Object(a.withBemMod)(l(),{theme:"normal"})),A=(n(713),Object(a.withBemMod)(l(),{theme:"websearch"})),F=(n(714),Object(a.withBemMod)(l(),{type:"number"})),U=(n(177),n(715),Object(a.withBemMod)(l(),{tone:"dark"})),z=(n(716),Object(a.withBemMod)(l(),{tone:"default"})),H=(n(717),Object(a.withBemMod)(l(),{tone:"grey"})),q=(n(718),Object(a.withBemMod)(l(),{tone:"market"})),V=(n(719),Object(a.withBemMod)(l(),{tone:"red"})),G=(n(720),Object(a.withBemMod)(l(),{view:"classic"})),W=(n(721),Object(a.withBemMod)(l(),{view:"default"}));n.d(t,"Textinput",function(){return m}),n.d(t,"cnTextinput",function(){return l}),n.d(t,"withBaseline",function(){return v}),n.d(t,"withHasClear",function(){return S}),n.d(t,"withPinBrickBrick",function(){return O}),n.d(t,"withPinBrickClear",function(){return _}),n.d(t,"withPinBrickRound",function(){return P}),n.d(t,"withPinClearBrick",function(){return I}),n.d(t,"withPinClearClear",function(){return E}),n.d(t,"withPinClearRound",function(){return k}),n.d(t,"withPinRoundBrick",function(){return D}),n.d(t,"withPinRoundClear",function(){return j}),n.d(t,"withPinRoundRound",function(){return T}),n.d(t,"withSizeM",function(){return x}),n.d(t,"withSizeN",function(){return R}),n.d(t,"withSizeS",function(){return N}),n.d(t,"withSizeXS",function(){return L}),n.d(t,"withThemeNormal",function(){return B}),n.d(t,"withThemeWebsearch",function(){return A}),n.d(t,"withTypeNumber",function(){return F}),n.d(t,"withToneDark",function(){return U}),n.d(t,"withToneDefault",function(){return z}),n.d(t,"withToneGrey",function(){return H}),n.d(t,"withToneMarket",function(){return q}),n.d(t,"withToneRed",function(){return V}),n.d(t,"withViewClassic",function(){return G}),n.d(t,"withViewDefault",function(){return W})},,,,,function(e,t,n){"use strict";n(286),n(491);var r=n(97);n.d(t,"a",function(){return r.a})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){n(109),e.exports=n(1118)},function(e,t,n){"use strict";n.r(t),n.d(t,"App",function(){return i});var r=n(22),o=n(240);n.d(t,"ImagesViewerRoot",function(){return o.a});var i=Object(r.a)("ImagesViewer")(o.a)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={"Войдите в Яндекс, и поиск станет лучше":"Войдите в Яндекс, и поиск станет лучше","Войдите в Яндекс, чтобы сохранить картинку":"Войдите в Яндекс, чтобы сохранить картинку","Мои Яндекс.Картинки":"Мои Яндекс.Картинки","Не сейчас":"Не сейчас","Пожаловаться":"Пожаловаться"}}]);